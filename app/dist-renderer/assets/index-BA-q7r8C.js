(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const h of d.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function r(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();function S1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var f2={exports:{}},pd={};var hg;function ky(){if(hg)return pd;hg=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,c,d){var h=null;if(d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),"key"in c){d={};for(var v in c)v!=="key"&&(d[v]=c[v])}else d=c;return c=d.ref,{$$typeof:s,type:r,key:h,ref:c!==void 0?c:null,props:d}}return pd.Fragment=e,pd.jsx=i,pd.jsxs=i,pd}var mg;function Wy(){return mg||(mg=1,f2.exports=ky()),f2.exports}var Y=Wy(),d2={exports:{}},ie={};var gg;function Py(){if(gg)return ie;gg=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=T&&O[T]||O["@@iterator"],typeof O=="function"?O:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,w={};function U(O,K,ct){this.props=O,this.context=K,this.refs=w,this.updater=ct||A}U.prototype.isReactComponent={},U.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=U.prototype;function L(O,K,ct){this.props=O,this.context=K,this.refs=w,this.updater=ct||A}var z=L.prototype=new H;z.constructor=L,B(z,U.prototype),z.isPureReactComponent=!0;var F=Array.isArray;function J(){}var Z={H:null,A:null,T:null,S:null},it=Object.prototype.hasOwnProperty;function gt(O,K,ct){var yt=ct.ref;return{$$typeof:s,type:O,key:K,ref:yt!==void 0?yt:null,props:ct}}function _t(O,K){return gt(O.type,K,O.props)}function Nt(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function Tt(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ct){return K[ct]})}var Ut=/\/+/g;function zt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?Tt(""+O.key):K.toString(36)}function Ct(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(J,J):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function D(O,K,ct,yt,Ht){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var kt=!1;if(O===null)kt=!0;else switch(At){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(O.$$typeof){case s:case e:kt=!0;break;case _:return kt=O._init,D(kt(O._payload),K,ct,yt,Ht)}}if(kt)return Ht=Ht(O),kt=yt===""?"."+zt(O,0):yt,F(Ht)?(ct="",kt!=null&&(ct=kt.replace(Ut,"$&/")+"/"),D(Ht,K,ct,"",function(te){return te})):Ht!=null&&(Nt(Ht)&&(Ht=_t(Ht,ct+(Ht.key==null||O&&O.key===Ht.key?"":(""+Ht.key).replace(Ut,"$&/")+"/")+kt)),K.push(Ht)),1;kt=0;var Zt=yt===""?".":yt+":";if(F(O))for(var Yt=0;Yt<O.length;Yt++)yt=O[Yt],At=Zt+zt(yt,Yt),kt+=D(yt,K,ct,At,Ht);else if(Yt=N(O),typeof Yt=="function")for(O=Yt.call(O),Yt=0;!(yt=O.next()).done;)yt=yt.value,At=Zt+zt(yt,Yt++),kt+=D(yt,K,ct,At,Ht);else if(At==="object"){if(typeof O.then=="function")return D(Ct(O),K,ct,yt,Ht);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function Q(O,K,ct){if(O==null)return O;var yt=[],Ht=0;return D(O,yt,"","",function(At){return K.call(ct,At,Ht++)}),yt}function I(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ct){(O._status===0||O._status===-1)&&(O._status=1,O._result=ct)},function(ct){(O._status===0||O._status===-1)&&(O._status=2,O._result=ct)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var at=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ht={map:Q,forEach:function(O,K,ct){Q(O,function(){K.apply(this,arguments)},ct)},count:function(O){var K=0;return Q(O,function(){K++}),K},toArray:function(O){return Q(O,function(K){return K})||[]},only:function(O){if(!Nt(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return ie.Activity=E,ie.Children=ht,ie.Component=U,ie.Fragment=i,ie.Profiler=c,ie.PureComponent=L,ie.StrictMode=r,ie.Suspense=y,ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return Z.H.useMemoCache(O)}},ie.cache=function(O){return function(){return O.apply(null,arguments)}},ie.cacheSignal=function(){return null},ie.cloneElement=function(O,K,ct){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var yt=B({},O.props),Ht=O.key;if(K!=null)for(At in K.key!==void 0&&(Ht=""+K.key),K)!it.call(K,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&K.ref===void 0||(yt[At]=K[At]);var At=arguments.length-2;if(At===1)yt.children=ct;else if(1<At){for(var kt=Array(At),Zt=0;Zt<At;Zt++)kt[Zt]=arguments[Zt+2];yt.children=kt}return gt(O.type,Ht,yt)},ie.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:d,_context:O},O},ie.createElement=function(O,K,ct){var yt,Ht={},At=null;if(K!=null)for(yt in K.key!==void 0&&(At=""+K.key),K)it.call(K,yt)&&yt!=="key"&&yt!=="__self"&&yt!=="__source"&&(Ht[yt]=K[yt]);var kt=arguments.length-2;if(kt===1)Ht.children=ct;else if(1<kt){for(var Zt=Array(kt),Yt=0;Yt<kt;Yt++)Zt[Yt]=arguments[Yt+2];Ht.children=Zt}if(O&&O.defaultProps)for(yt in kt=O.defaultProps,kt)Ht[yt]===void 0&&(Ht[yt]=kt[yt]);return gt(O,At,Ht)},ie.createRef=function(){return{current:null}},ie.forwardRef=function(O){return{$$typeof:v,render:O}},ie.isValidElement=Nt,ie.lazy=function(O){return{$$typeof:_,_payload:{_status:-1,_result:O},_init:I}},ie.memo=function(O,K){return{$$typeof:b,type:O,compare:K===void 0?null:K}},ie.startTransition=function(O){var K=Z.T,ct={};Z.T=ct;try{var yt=O(),Ht=Z.S;Ht!==null&&Ht(ct,yt),typeof yt=="object"&&yt!==null&&typeof yt.then=="function"&&yt.then(J,at)}catch(At){at(At)}finally{K!==null&&ct.types!==null&&(K.types=ct.types),Z.T=K}},ie.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},ie.use=function(O){return Z.H.use(O)},ie.useActionState=function(O,K,ct){return Z.H.useActionState(O,K,ct)},ie.useCallback=function(O,K){return Z.H.useCallback(O,K)},ie.useContext=function(O){return Z.H.useContext(O)},ie.useDebugValue=function(){},ie.useDeferredValue=function(O,K){return Z.H.useDeferredValue(O,K)},ie.useEffect=function(O,K){return Z.H.useEffect(O,K)},ie.useEffectEvent=function(O){return Z.H.useEffectEvent(O)},ie.useId=function(){return Z.H.useId()},ie.useImperativeHandle=function(O,K,ct){return Z.H.useImperativeHandle(O,K,ct)},ie.useInsertionEffect=function(O,K){return Z.H.useInsertionEffect(O,K)},ie.useLayoutEffect=function(O,K){return Z.H.useLayoutEffect(O,K)},ie.useMemo=function(O,K){return Z.H.useMemo(O,K)},ie.useOptimistic=function(O,K){return Z.H.useOptimistic(O,K)},ie.useReducer=function(O,K,ct){return Z.H.useReducer(O,K,ct)},ie.useRef=function(O){return Z.H.useRef(O)},ie.useState=function(O){return Z.H.useState(O)},ie.useSyncExternalStore=function(O,K,ct){return Z.H.useSyncExternalStore(O,K,ct)},ie.useTransition=function(){return Z.H.useTransition()},ie.version="19.2.3",ie}var vg;function Jd(){return vg||(vg=1,d2.exports=Py()),d2.exports}var G=Jd();const Lt=S1(G);var h2={exports:{}},yd={},m2={exports:{}},g2={};var pg;function $y(){return pg||(pg=1,(function(s){function e(D,Q){var I=D.length;D.push(Q);t:for(;0<I;){var at=I-1>>>1,ht=D[at];if(0<c(ht,Q))D[at]=Q,D[I]=ht,I=at;else break t}}function i(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Q=D[0],I=D.pop();if(I!==Q){D[0]=I;t:for(var at=0,ht=D.length,O=ht>>>1;at<O;){var K=2*(at+1)-1,ct=D[K],yt=K+1,Ht=D[yt];if(0>c(ct,I))yt<ht&&0>c(Ht,ct)?(D[at]=Ht,D[yt]=I,at=yt):(D[at]=ct,D[K]=I,at=K);else if(yt<ht&&0>c(Ht,I))D[at]=Ht,D[yt]=I,at=yt;else break t}}return Q}function c(D,Q){var I=D.sortIndex-Q.sortIndex;return I!==0?I:D.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var h=Date,v=h.now();s.unstable_now=function(){return h.now()-v}}var y=[],b=[],_=1,E=null,T=3,N=!1,A=!1,B=!1,w=!1,U=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(D){for(var Q=i(b);Q!==null;){if(Q.callback===null)r(b);else if(Q.startTime<=D)r(b),Q.sortIndex=Q.expirationTime,e(y,Q);else break;Q=i(b)}}function F(D){if(B=!1,z(D),!A)if(i(y)!==null)A=!0,J||(J=!0,Tt());else{var Q=i(b);Q!==null&&Ct(F,Q.startTime-D)}}var J=!1,Z=-1,it=5,gt=-1;function _t(){return w?!0:!(s.unstable_now()-gt<it)}function Nt(){if(w=!1,J){var D=s.unstable_now();gt=D;var Q=!0;try{t:{A=!1,B&&(B=!1,H(Z),Z=-1),N=!0;var I=T;try{e:{for(z(D),E=i(y);E!==null&&!(E.expirationTime>D&&_t());){var at=E.callback;if(typeof at=="function"){E.callback=null,T=E.priorityLevel;var ht=at(E.expirationTime<=D);if(D=s.unstable_now(),typeof ht=="function"){E.callback=ht,z(D),Q=!0;break e}E===i(y)&&r(y),z(D)}else r(y);E=i(y)}if(E!==null)Q=!0;else{var O=i(b);O!==null&&Ct(F,O.startTime-D),Q=!1}}break t}finally{E=null,T=I,N=!1}Q=void 0}}finally{Q?Tt():J=!1}}}var Tt;if(typeof L=="function")Tt=function(){L(Nt)};else if(typeof MessageChannel<"u"){var Ut=new MessageChannel,zt=Ut.port2;Ut.port1.onmessage=Nt,Tt=function(){zt.postMessage(null)}}else Tt=function(){U(Nt,0)};function Ct(D,Q){Z=U(function(){D(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(D){switch(T){case 1:case 2:case 3:var Q=3;break;default:Q=T}var I=T;T=Q;try{return D()}finally{T=I}},s.unstable_requestPaint=function(){w=!0},s.unstable_runWithPriority=function(D,Q){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var I=T;T=D;try{return Q()}finally{T=I}},s.unstable_scheduleCallback=function(D,Q,I){var at=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?at+I:at):I=at,D){case 1:var ht=-1;break;case 2:ht=250;break;case 5:ht=1073741823;break;case 4:ht=1e4;break;default:ht=5e3}return ht=I+ht,D={id:_++,callback:Q,priorityLevel:D,startTime:I,expirationTime:ht,sortIndex:-1},I>at?(D.sortIndex=I,e(b,D),i(y)===null&&D===i(b)&&(B?(H(Z),Z=-1):B=!0,Ct(F,I-at))):(D.sortIndex=ht,e(y,D),A||N||(A=!0,J||(J=!0,Tt()))),D},s.unstable_shouldYield=_t,s.unstable_wrapCallback=function(D){var Q=T;return function(){var I=T;T=Q;try{return D.apply(this,arguments)}finally{T=I}}}})(g2)),g2}var yg;function sm(){return yg||(yg=1,m2.exports=$y()),m2.exports}var v2={exports:{}},La={};var Sg;function t3(){if(Sg)return La;Sg=1;var s=Jd();function e(y){var b="https://react.dev/errors/"+y;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function d(y,b,_){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:y,containerInfo:b,implementation:_}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,b){if(y==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return La.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,La.createPortal=function(y,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(e(299));return d(y,b,null,_)},La.flushSync=function(y){var b=h.T,_=r.p;try{if(h.T=null,r.p=2,y)return y()}finally{h.T=b,r.p=_,r.d.f()}},La.preconnect=function(y,b){typeof y=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(y,b))},La.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},La.preinit=function(y,b){if(typeof y=="string"&&b&&typeof b.as=="string"){var _=b.as,E=v(_,b.crossOrigin),T=typeof b.integrity=="string"?b.integrity:void 0,N=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;_==="style"?r.d.S(y,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:N}):_==="script"&&r.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:N,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},La.preinitModule=function(y,b){if(typeof y=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var _=v(b.as,b.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(y)},La.preload=function(y,b){if(typeof y=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var _=b.as,E=v(_,b.crossOrigin);r.d.L(y,_,{crossOrigin:E,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},La.preloadModule=function(y,b){if(typeof y=="string")if(b){var _=v(b.as,b.crossOrigin);r.d.m(y,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(y)},La.requestFormReset=function(y){r.d.r(y)},La.unstable_batchedUpdates=function(y,b){return y(b)},La.useFormState=function(y,b,_){return h.H.useFormState(y,b,_)},La.useFormStatus=function(){return h.H.useHostTransitionStatus()},La.version="19.2.3",La}var bg;function Lv(){if(bg)return v2.exports;bg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),v2.exports=t3(),v2.exports}var xg;function e3(){if(xg)return yd;xg=1;var s=sm(),e=Jd(),i=Lv();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)n+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var n=t,u=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(u=n.return),t=n.return;while(t)}return n.tag===3?u:null}function h(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(d(t)!==t)throw Error(r(188))}function b(t){var n=t.alternate;if(!n){if(n=d(t),n===null)throw Error(r(188));return n!==t?null:t}for(var u=t,o=n;;){var g=u.return;if(g===null)break;var p=g.alternate;if(p===null){if(o=g.return,o!==null){u=o;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===u)return y(g),t;if(p===o)return y(g),n;p=p.sibling}throw Error(r(188))}if(u.return!==o.return)u=g,o=p;else{for(var C=!1,R=g.child;R;){if(R===u){C=!0,u=g,o=p;break}if(R===o){C=!0,o=g,u=p;break}R=R.sibling}if(!C){for(R=p.child;R;){if(R===u){C=!0,u=p,o=g;break}if(R===o){C=!0,o=p,u=g;break}R=R.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==o)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),L=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),gt=Symbol.for("react.activity"),_t=Symbol.for("react.memo_cache_sentinel"),Nt=Symbol.iterator;function Tt(t){return t===null||typeof t!="object"?null:(t=Nt&&t[Nt]||t["@@iterator"],typeof t=="function"?t:null)}var Ut=Symbol.for("react.client.reference");function zt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ut?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case U:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case J:return"SuspenseList";case gt:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case A:return"Portal";case L:return t.displayName||"Context";case H:return(t._context.displayName||"Context")+".Consumer";case z:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z:return n=t.displayName||null,n!==null?n:zt(t.type)||"Memo";case it:n=t._payload,t=t._init;try{return zt(t(n))}catch{}}return null}var Ct=Array.isArray,D=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},at=[],ht=-1;function O(t){return{current:t}}function K(t){0>ht||(t.current=at[ht],at[ht]=null,ht--)}function ct(t,n){ht++,at[ht]=t.current,t.current=n}var yt=O(null),Ht=O(null),At=O(null),kt=O(null);function Zt(t,n){switch(ct(At,n),ct(Ht,t),ct(yt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Gm(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Gm(n),t=Um(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(yt),ct(yt,t)}function Yt(){K(yt),K(Ht),K(At)}function te(t){t.memoizedState!==null&&ct(kt,t);var n=yt.current,u=Um(n,t.type);n!==u&&(ct(Ht,t),ct(yt,u))}function _n(t){Ht.current===t&&(K(yt),K(Ht)),kt.current===t&&(K(kt),hd._currentValue=I)}var he,$;function pt(t){if(he===void 0)try{throw Error()}catch(u){var n=u.stack.trim().match(/\n( *(at )?)/);he=n&&n[1]||"",$=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+t+$}var Ot=!1;function Bt(t,n){if(!t||Ot)return"";Ot=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var mt=function(){throw Error()};if(Object.defineProperty(mt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(mt,[])}catch(ot){var lt=ot}Reflect.construct(t,[],mt)}else{try{mt.call()}catch(ot){lt=ot}t.call(mt.prototype)}}else{try{throw Error()}catch(ot){lt=ot}(mt=t())&&typeof mt.catch=="function"&&mt.catch(function(){})}}catch(ot){if(ot&&lt&&typeof ot.stack=="string")return[ot.stack,lt.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),C=p[0],R=p[1];if(C&&R){var q=C.split(`
`),et=R.split(`
`);for(g=o=0;o<q.length&&!q[o].includes("DetermineComponentFrameRoot");)o++;for(;g<et.length&&!et[g].includes("DetermineComponentFrameRoot");)g++;if(o===q.length||g===et.length)for(o=q.length-1,g=et.length-1;1<=o&&0<=g&&q[o]!==et[g];)g--;for(;1<=o&&0<=g;o--,g--)if(q[o]!==et[g]){if(o!==1||g!==1)do if(o--,g--,0>g||q[o]!==et[g]){var ft=`
`+q[o].replace(" at new "," at ");return t.displayName&&ft.includes("<anonymous>")&&(ft=ft.replace("<anonymous>",t.displayName)),ft}while(1<=o&&0<=g);break}}}finally{Ot=!1,Error.prepareStackTrace=u}return(u=t?t.displayName||t.name:"")?pt(u):""}function Vt(t,n){switch(t.tag){case 26:case 27:case 5:return pt(t.type);case 16:return pt("Lazy");case 13:return t.child!==n&&n!==null?pt("Suspense Fallback"):pt("Suspense");case 19:return pt("SuspenseList");case 0:case 15:return Bt(t.type,!1);case 11:return Bt(t.type.render,!1);case 1:return Bt(t.type,!0);case 31:return pt("Activity");default:return""}}function Re(t){try{var n="",u=null;do n+=Vt(t,u),u=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ye=Object.prototype.hasOwnProperty,Ce=s.unstable_scheduleCallback,Ze=s.unstable_cancelCallback,Ge=s.unstable_shouldYield,Kt=s.unstable_requestPaint,Qt=s.unstable_now,ke=s.unstable_getCurrentPriorityLevel,Ra=s.unstable_ImmediatePriority,Le=s.unstable_UserBlockingPriority,Je=s.unstable_NormalPriority,mn=s.unstable_LowPriority,ll=s.unstable_IdlePriority,da=s.log,rr=s.unstable_setDisableYieldValue,ji=null,ea=null;function Ya(t){if(typeof da=="function"&&rr(t),ea&&typeof ea.setStrictMode=="function")try{ea.setStrictMode(ji,t)}catch{}}var na=Math.clz32?Math.clz32:fo,or=Math.log,co=Math.LN2;function fo(t){return t>>>=0,t===0?32:31-(or(t)/co|0)|0}var iu=256,Li=262144,We=4194304;function gn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Cn(t,n,u){var o=t.pendingLanes;if(o===0)return 0;var g=0,p=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var R=o&134217727;return R!==0?(o=R&~p,o!==0?g=gn(o):(C&=R,C!==0?g=gn(C):u||(u=R&~t,u!==0&&(g=gn(u))))):(R=o&~p,R!==0?g=gn(R):C!==0?g=gn(C):u||(u=o&~t,u!==0&&(g=gn(u)))),g===0?0:n!==0&&n!==g&&(n&p)===0&&(p=g&-g,u=n&-n,p>=u||p===32&&(u&4194048)!==0)?n:g}function ha(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function ma(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vn(){var t=We;return We<<=1,(We&62914560)===0&&(We=4194304),t}function ga(t){for(var n=[],u=0;31>u;u++)n.push(t);return n}function qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function pn(t,n,u,o,g,p){var C=t.pendingLanes;t.pendingLanes=u,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=u,t.entangledLanes&=u,t.errorRecoveryDisabledLanes&=u,t.shellSuspendCounter=0;var R=t.entanglements,q=t.expirationTimes,et=t.hiddenUpdates;for(u=C&~u;0<u;){var ft=31-na(u),mt=1<<ft;R[ft]=0,q[ft]=-1;var lt=et[ft];if(lt!==null)for(et[ft]=null,ft=0;ft<lt.length;ft++){var ot=lt[ft];ot!==null&&(ot.lane&=-536870913)}u&=~mt}o!==0&&va(t,o,0),p!==0&&g===0&&t.tag!==0&&(t.suspendedLanes|=p&~(C&~n))}function va(t,n,u){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-na(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|u&261930}function aa(t,n){var u=t.entangledLanes|=n;for(t=t.entanglements;u;){var o=31-na(u),g=1<<o;g&n|t[o]&n&&(t[o]|=n),u&=~g}}function Xa(t,n){var u=n&-n;return u=(u&42)!==0?1:il(u),(u&(t.suspendedLanes|n))!==0?0:u}function il(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qa(){var t=Q.p;return t!==0?t:(t=window.event,t===void 0?32:sg(t.type))}function Na(t,n){var u=Q.p;try{return Q.p=t,n()}finally{Q.p=u}}var Va=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Va,la="__reactProps$"+Va,Yi="__reactContainer$"+Va,Bl="__reactEvents$"+Va,qi="__reactListeners$"+Va,cr="__reactHandles$"+Va,ho="__reactResources$"+Va,ci="__reactMarker$"+Va;function bs(t){delete t[Dn],delete t[la],delete t[Bl],delete t[qi],delete t[cr]}function xs(t){var n=t[Dn];if(n)return n;for(var u=t.parentNode;u;){if(n=u[Yi]||u[Dn]){if(u=n.alternate,n.child!==null||u!==null&&u.child!==null)for(t=Vm(t);t!==null;){if(u=t[Dn])return u;t=Vm(t)}return n}t=u,u=t.parentNode}return null}function _s(t){if(t=t[Dn]||t[Yi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function su(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Xi(t){var n=t[ho];return n||(n=t[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function On(t){t[ci]=!0}var fi=new Set,mo={};function Qi(t,n){Ka(t,n),Ka(t+"Capture",n)}function Ka(t,n){for(mo[t]=n,t=0;t<n.length;t++)fi.add(n[t])}var Za=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fr={},ln={};function Xc(t){return Ye.call(ln,t)?!0:Ye.call(fr,t)?!1:Za.test(t)?ln[t]=!0:(fr[t]=!0,!1)}function uu(t,n,u){if(Xc(n))if(u===null)t.removeAttribute(n);else{switch(typeof u){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+u)}}function dr(t,n,u){if(u===null)t.removeAttribute(n);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+u)}}function Gl(t,n,u,o){if(o===null)t.removeAttribute(u);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(u);return}t.setAttributeNS(n,u,""+o)}}function ul(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function go(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Qc(t,n,u){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,p=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return g.call(this)},set:function(C){u=""+C,p.call(this,C)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(C){u=""+C},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function hr(t){if(!t._valueTracker){var n=go(t)?"checked":"value";t._valueTracker=Qc(t,n,""+t[n])}}function ia(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var u=n.getValue(),o="";return t&&(o=go(t)?t.checked?"true":"false":t.value),t=o,t!==u?(n.setValue(t),!0):!1}function Pe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vo=/[\n"\\]/g;function sa(t){return t.replace(vo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ru(t,n,u,o,g,p,C,R){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),n!=null?C==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ul(n)):t.value!==""+ul(n)&&(t.value=""+ul(n)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),n!=null?Ml(t,C,ul(n)):u!=null?Ml(t,C,ul(u)):o!=null&&t.removeAttribute("value"),g==null&&p!=null&&(t.defaultChecked=!!p),g!=null&&(t.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?t.name=""+ul(R):t.removeAttribute("name")}function po(t,n,u,o,g,p,C,R){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||u!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){hr(t);return}u=u!=null?""+ul(u):"",n=n!=null?""+ul(n):u,R||n===t.value||(t.value=n),t.defaultValue=n}o=o??g,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=R?t.checked:!!o,t.defaultChecked=!!o,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C),hr(t)}function Ml(t,n,u){n==="number"&&Pe(t.ownerDocument)===t||t.defaultValue===""+u||(t.defaultValue=""+u)}function di(t,n,u,o){if(t=t.options,n){n={};for(var g=0;g<u.length;g++)n["$"+u[g]]=!0;for(u=0;u<t.length;u++)g=n.hasOwnProperty("$"+t[u].value),t[u].selected!==g&&(t[u].selected=g),g&&o&&(t[u].defaultSelected=!0)}else{for(u=""+ul(u),n=null,g=0;g<t.length;g++){if(t[g].value===u){t[g].selected=!0,o&&(t[g].defaultSelected=!0);return}n!==null||t[g].disabled||(n=t[g])}n!==null&&(n.selected=!0)}}function yo(t,n,u){if(n!=null&&(n=""+ul(n),n!==t.value&&(t.value=n),u==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=u!=null?""+ul(u):""}function So(t,n,u,o){if(n==null){if(o!=null){if(u!=null)throw Error(r(92));if(Ct(o)){if(1<o.length)throw Error(r(93));o=o[0]}u=o}u==null&&(u=""),n=u}u=ul(n),t.defaultValue=u,o=t.textContent,o===u&&o!==""&&o!==null&&(t.value=o),hr(t)}function Cs(t,n){if(n){var u=t.firstChild;if(u&&u===t.lastChild&&u.nodeType===3){u.nodeValue=n;return}}t.textContent=n}var $d=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(t,n,u){var o=n.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,u):typeof u!="number"||u===0||$d.has(n)?n==="float"?t.cssFloat=u:t[n]=(""+u).trim():t[n]=u+"px"}function Kc(t,n,u){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,u!=null){for(var o in u)!u.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var g in n)o=n[g],n.hasOwnProperty(g)&&u[g]!==o&&Vc(t,g,o)}else for(var p in n)n.hasOwnProperty(p)&&Vc(t,p,n[p])}function bo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mr(t){return Zc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function hi(){}var xo=null;function _o(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Es=null,Vi=null;function Jc(t){var n=_s(t);if(n&&(t=n.stateNode)){var u=t[la]||null;t:switch(t=n.stateNode,n.type){case"input":if(ru(t,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),n=u.name,u.type==="radio"&&n!=null){for(u=t;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+sa(""+n)+'"][type="radio"]'),n=0;n<u.length;n++){var o=u[n];if(o!==t&&o.form===t.form){var g=o[la]||null;if(!g)throw Error(r(90));ru(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<u.length;n++)o=u[n],o.form===t.form&&ia(o)}break t;case"textarea":yo(t,u.value,u.defaultValue);break t;case"select":n=u.value,n!=null&&di(t,!!u.multiple,n,!1)}}}var Co=!1;function Fc(t,n,u){if(Co)return t(n,u);Co=!0;try{var o=t(n);return o}finally{if(Co=!1,(Es!==null||Vi!==null)&&(zl(),Es&&(n=Es,t=Vi,Vi=Es=null,Jc(n),t)))for(n=0;n<t.length;n++)Jc(t[n])}}function ou(t,n){var u=t.stateNode;if(u===null)return null;var o=u[la]||null;if(o===null)return null;u=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(u&&typeof u!="function")throw Error(r(231,n,typeof u));return u}var Ul=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ic=!1;if(Ul)try{var cu={};Object.defineProperty(cu,"passive",{get:function(){Ic=!0}}),window.addEventListener("test",cu,cu),window.removeEventListener("test",cu,cu)}catch{Ic=!1}var Ja=null,Eo=null,Ts=null;function gr(){if(Ts)return Ts;var t,n=Eo,u=n.length,o,g="value"in Ja?Ja.value:Ja.textContent,p=g.length;for(t=0;t<u&&n[t]===g[t];t++);var C=u-t;for(o=1;o<=C&&n[u-o]===g[p-o];o++);return Ts=g.slice(t,1<o?1-o:void 0)}function vr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fu(){return!0}function eh(){return!1}function pa(t){function n(u,o,g,p,C){this._reactName=u,this._targetInst=g,this.type=o,this.nativeEvent=p,this.target=C,this.currentTarget=null;for(var R in t)t.hasOwnProperty(R)&&(u=t[R],this[R]=u?u(p):p[R]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fu:eh,this.isPropagationStopped=eh,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=fu)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=fu)},persist:function(){},isPersistent:fu}),n}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pr=pa(Ki),du=E({},Ki,{view:0,detail:0}),nh=pa(du),yr,To,hu,mu=E({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hu&&(hu&&t.type==="mousemove"?(yr=t.screenX-hu.screenX,To=t.screenY-hu.screenY):To=yr=0,hu=t),yr)},movementY:function(t){return"movementY"in t?t.movementY:To}}),kc=pa(mu),ah=E({},mu,{dataTransfer:0}),lh=pa(ah),Wc=E({},du,{relatedTarget:0}),Ao=pa(Wc),ih=E({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),O1=pa(ih),z1=E({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sh=pa(z1),Sr=E({},Ki,{data:0}),Mo=pa(Sr),Ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pc(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=rh[t])?!!n[t]:!1}function No(){return Pc}var oh=E({},du,{key:function(t){if(t.key){var n=Ro[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=vr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(t){return t.type==="keypress"?vr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),As=pa(oh),Do=E({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$c=pa(Do),tf=E({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),ch=pa(tf),fh=E({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),w1=pa(fh),Fn=E({},mu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dh=pa(Fn),hh=E({},Ki,{newState:0,oldState:0}),mh=pa(hh),gh=[9,13,27,32],Ms=Ul&&"CompositionEvent"in window,gu=null;Ul&&"documentMode"in document&&(gu=document.documentMode);var Oo=Ul&&"TextEvent"in window&&!gu,ef=Ul&&(!Ms||gu&&8<gu&&11>=gu),vh=" ",br=!1;function zo(t,n){switch(t){case"keyup":return gh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function ph(t,n){switch(t){case"compositionend":return nf(n);case"keypress":return n.which!==32?null:(br=!0,vh);case"textInput":return t=n.data,t===vh&&br?null:t;default:return null}}function af(t,n){if(Rs)return t==="compositionend"||!Ms&&zo(t,n)?(t=gr(),Ts=Eo=Ja=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ef&&n.locale!=="ko"?null:n.data;default:return null}}var lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lf[t.type]:n==="textarea"}function wo(t,n,u,o){Es?Vi?Vi.push(o):Vi=[o]:Es=o,n=_0(n,"onChange"),0<n.length&&(u=new pr("onChange","change",null,u,o),t.push({event:u,listeners:n}))}var Zi=null,Ns=null;function yh(t){Dm(t,0)}function vu(t){var n=su(t);if(ia(n))return t}function uf(t,n){if(t==="change")return n}var jl=!1;if(Ul){var xr;if(Ul){var rf="oninput"in document;if(!rf){var of=document.createElement("div");of.setAttribute("oninput","return;"),rf=typeof of.oninput=="function"}xr=rf}else xr=!1;jl=xr&&(!document.documentMode||9<document.documentMode)}function rl(){Zi&&(Zi.detachEvent("onpropertychange",_r),Ns=Zi=null)}function _r(t){if(t.propertyName==="value"&&vu(Ns)){var n=[];wo(n,Ns,t,_o(t)),Fc(yh,n)}}function Sh(t,n,u){t==="focusin"?(rl(),Zi=n,Ns=u,Zi.attachEvent("onpropertychange",_r)):t==="focusout"&&rl()}function cf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vu(Ns)}function bh(t,n){if(t==="click")return vu(n)}function xh(t,n){if(t==="input"||t==="change")return vu(n)}function ff(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ya=typeof Object.is=="function"?Object.is:ff;function pu(t,n){if(ya(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var u=Object.keys(t),o=Object.keys(n);if(u.length!==o.length)return!1;for(o=0;o<u.length;o++){var g=u[o];if(!Ye.call(n,g)||!ya(t[g],n[g]))return!1}return!0}function Cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yu(t,n){var u=Cr(t);t=0;for(var o;u;){if(u.nodeType===3){if(o=t+u.textContent.length,t<=n&&o>=n)return{node:u,offset:n-t};t=o}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Cr(u)}}function qe(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?qe(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function _h(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Pe(t.document);n instanceof t.HTMLIFrameElement;){try{var u=typeof n.contentWindow.location.href=="string"}catch{u=!1}if(u)t=n.contentWindow;else break;n=Pe(t.document)}return n}function df(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Ch=Ul&&"documentMode"in document&&11>=document.documentMode,Ll=null,Yl=null,Su=null,Ho=!1;function bu(t,n,u){var o=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ho||Ll==null||Ll!==Pe(o)||(o=Ll,"selectionStart"in o&&df(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Su&&pu(Su,o)||(Su=o,o=_0(Yl,"onSelect"),0<o.length&&(n=new pr("onSelect","select",null,n,u),t.push({event:n,listeners:o}),n.target=Ll)))}function ua(t,n){var u={};return u[t.toLowerCase()]=n.toLowerCase(),u["Webkit"+t]="webkit"+n,u["Moz"+t]="moz"+n,u}var Ds={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Er={},hf={};Ul&&(hf=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function mi(t){if(Er[t])return Er[t];if(!Ds[t])return t;var n=Ds[t],u;for(u in n)if(n.hasOwnProperty(u)&&u in hf)return Er[t]=n[u];return t}var Bo=mi("animationend"),Tr=mi("animationiteration"),mf=mi("animationstart"),Eh=mi("transitionrun"),H1=mi("transitionstart"),Th=mi("transitioncancel"),gf=mi("transitionend"),ol=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ar.push("scrollEnd");function cl(t,n){ol.set(t,n),Qi(n,[t])}var Mr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fl=[],gi=0,qn=0;function Rr(){for(var t=gi,n=qn=gi=0;n<t;){var u=fl[n];fl[n++]=null;var o=fl[n];fl[n++]=null;var g=fl[n];fl[n++]=null;var p=fl[n];if(fl[n++]=null,o!==null&&g!==null){var C=o.pending;C===null?g.next=g:(g.next=C.next,C.next=g),o.pending=g}p!==0&&Ji(u,g,p)}}function Xn(t,n,u,o){fl[gi++]=t,fl[gi++]=n,fl[gi++]=u,fl[gi++]=o,qn|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Go(t,n,u,o){return Xn(t,n,u,o),dl(t)}function Sa(t,n){return Xn(t,null,null,n),dl(t)}function Ji(t,n,u){t.lanes|=u;var o=t.alternate;o!==null&&(o.lanes|=u);for(var g=!1,p=t.return;p!==null;)p.childLanes|=u,o=p.alternate,o!==null&&(o.childLanes|=u),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(g=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,g&&n!==null&&(g=31-na(u),t=p.hiddenUpdates,o=t[g],o===null?t[g]=[n]:o.push(n),n.lane=u|536870912),p):null}function dl(t){if(50<ds)throw ds=0,Is=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Fi={};function vf(t,n,u,o){this.tag=t,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,u,o){return new vf(t,n,u,o)}function Uo(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Da(t,n){var u=t.alternate;return u===null?(u=sn(t.tag,n,t.key,t.mode),u.elementType=t.elementType,u.type=t.type,u.stateNode=t.stateNode,u.alternate=t,t.alternate=u):(u.pendingProps=n,u.type=t.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=t.flags&65011712,u.childLanes=t.childLanes,u.lanes=t.lanes,u.child=t.child,u.memoizedProps=t.memoizedProps,u.memoizedState=t.memoizedState,u.updateQueue=t.updateQueue,n=t.dependencies,u.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},u.sibling=t.sibling,u.index=t.index,u.ref=t.ref,u.refCleanup=t.refCleanup,u}function xu(t,n){t.flags&=65011714;var u=t.alternate;return u===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=u.childLanes,t.lanes=u.lanes,t.child=u.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=u.memoizedProps,t.memoizedState=u.memoizedState,t.updateQueue=u.updateQueue,t.type=u.type,n=u.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function ql(t,n,u,o,g,p){var C=0;if(o=t,typeof t=="function")Uo(t)&&(C=1);else if(typeof t=="string")C=jy(t,u,yt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case gt:return t=sn(31,u,n,g),t.elementType=gt,t.lanes=p,t;case B:return Ii(u.children,g,p,n);case w:C=8,g|=24;break;case U:return t=sn(12,u,n,g|2),t.elementType=U,t.lanes=p,t;case F:return t=sn(13,u,n,g),t.elementType=F,t.lanes=p,t;case J:return t=sn(19,u,n,g),t.elementType=J,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L:C=10;break t;case H:C=9;break t;case z:C=11;break t;case Z:C=14;break t;case it:C=16,o=null;break t}C=29,u=Error(r(130,t===null?"null":typeof t,"")),o=null}return n=sn(C,u,n,g),n.elementType=t,n.type=o,n.lanes=p,n}function Ii(t,n,u,o){return t=sn(7,t,o,n),t.lanes=u,t}function jo(t,n,u){return t=sn(6,t,null,n),t.lanes=u,t}function _u(t){var n=sn(18,null,null,0);return n.stateNode=t,n}function Lo(t,n,u){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=u,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Nr=new WeakMap;function Fa(t,n){if(typeof t=="object"&&t!==null){var u=Nr.get(t);return u!==void 0?u:(n={value:t,source:n,stack:Re(n)},Nr.set(t,n),n)}return{value:t,source:n,stack:Re(n)}}var ki=[],Wi=0,Cu=null,Eu=0,Oa=[],$e=0,vi=null,un=1,Rl="";function Xl(t,n){ki[Wi++]=Eu,ki[Wi++]=Cu,Cu=t,Eu=n}function Ah(t,n,u){Oa[$e++]=un,Oa[$e++]=Rl,Oa[$e++]=vi,vi=t;var o=un;t=Rl;var g=32-na(o)-1;o&=~(1<<g),u+=1;var p=32-na(n)+g;if(30<p){var C=g-g%5;p=(o&(1<<C)-1).toString(32),o>>=C,g-=C,un=1<<32-na(n)+g|u<<g|o,Rl=p+t}else un=1<<p|u<<g|o,Rl=t}function Ql(t){t.return!==null&&(Xl(t,1),Ah(t,1,0))}function Yo(t){for(;t===Cu;)Cu=ki[--Wi],ki[Wi]=null,Eu=ki[--Wi],ki[Wi]=null;for(;t===vi;)vi=Oa[--$e],Oa[$e]=null,Rl=Oa[--$e],Oa[$e]=null,un=Oa[--$e],Oa[$e]=null}function qo(t,n){Oa[$e++]=un,Oa[$e++]=Rl,Oa[$e++]=vi,un=n.id,Rl=n.overflow,vi=t}var yn=null,Xe=null,pe=!1,pi=null,Ia=!1,Tu=Error(r(519));function Vl(t){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(Fa(n,t)),Tu}function Mh(t){var n=t.stateNode,u=t.type,o=t.memoizedProps;switch(n[Dn]=t,n[la]=o,u){case"dialog":be("cancel",n),be("close",n);break;case"iframe":case"object":case"embed":be("load",n);break;case"video":case"audio":for(u=0;u<Tl.length;u++)be(Tl[u],n);break;case"source":be("error",n);break;case"img":case"image":case"link":be("error",n),be("load",n);break;case"details":be("toggle",n);break;case"input":be("invalid",n),po(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":be("invalid",n);break;case"textarea":be("invalid",n),So(n,o.value,o.defaultValue,o.children)}u=o.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||n.textContent===""+u||o.suppressHydrationWarning===!0||Hm(n.textContent,u)?(o.popover!=null&&(be("beforetoggle",n),be("toggle",n)),o.onScroll!=null&&be("scroll",n),o.onScrollEnd!=null&&be("scrollend",n),o.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||Vl(t,!0)}function Rh(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 31:case 13:Ia=!1;return;case 27:case 3:Ia=!0;return;default:yn=yn.return}}function Au(t){if(t!==yn)return!1;if(!pe)return Rh(t),pe=!0,!1;var n=t.tag,u;if((u=n!==3&&n!==27)&&((u=n===5)&&(u=t.type,u=!(u!=="form"&&u!=="button")||k1(t.type,t.memoizedProps)),u=!u),u&&Xe&&Vl(t),Rh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xe=Qm(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));Xe=Qm(t)}else n===27?(n=Xe,Zu(t.type)?(t=e2,e2=null,Xe=t):Xe=n):Xe=yn?ii(t.stateNode.nextSibling):null;return!0}function Pi(){Xe=yn=null,pe=!1}function Xo(){var t=pi;return t!==null&&(bn===null?bn=t:bn.push.apply(bn,t),pi=null),t}function Kl(t){pi===null?pi=[t]:pi.push(t)}var Mu=O(null),$i=null,Zl=null;function yi(t,n,u){ct(Mu,n._currentValue),n._currentValue=u}function Jl(t){t._currentValue=Mu.current,K(Mu)}function Qo(t,n,u){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===u)break;t=t.return}}function Vo(t,n,u,o){var g=t.child;for(g!==null&&(g.return=t);g!==null;){var p=g.dependencies;if(p!==null){var C=g.child;p=p.firstContext;t:for(;p!==null;){var R=p;p=g;for(var q=0;q<n.length;q++)if(R.context===n[q]){p.lanes|=u,R=p.alternate,R!==null&&(R.lanes|=u),Qo(p.return,u,t),o||(C=null);break t}p=R.next}}else if(g.tag===18){if(C=g.return,C===null)throw Error(r(341));C.lanes|=u,p=C.alternate,p!==null&&(p.lanes|=u),Qo(C,u,t),C=null}else C=g.child;if(C!==null)C.return=g;else for(C=g;C!==null;){if(C===t){C=null;break}if(g=C.sibling,g!==null){g.return=C.return,C=g;break}C=C.return}g=C}}function Fl(t,n,u,o){t=null;for(var g=n,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var C=g.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var R=g.type;ya(g.pendingProps.value,C.value)||(t!==null?t.push(R):t=[R])}}else if(g===kt.current){if(C=g.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(t!==null?t.push(hd):t=[hd])}g=g.return}t!==null&&Vo(n,t,u,o),n.flags|=262144}function Dr(t){for(t=t.firstContext;t!==null;){if(!ya(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ts(t){$i=t,Zl=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Nh($i,t)}function Ru(t,n){return $i===null&&ts(t),Nh(t,n)}function Nh(t,n){var u=n._currentValue;if(n={context:n,memoizedValue:u,next:null},Zl===null){if(t===null)throw Error(r(308));Zl=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Zl=Zl.next=n;return u}var Dh=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(u,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(u){return u()})}},B1=s.unstable_scheduleCallback,G1=s.unstable_NormalPriority,zn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Dh,data:new Map,refCount:0}}function Os(t){t.refCount--,t.refCount===0&&B1(G1,function(){t.controller.abort()})}var ka=null,Ko=0,Si=0,hl=null;function yf(t,n){if(ka===null){var u=ka=[];Ko=0,Si=ut(),hl={status:"pending",value:void 0,then:function(o){u.push(o)}}}return Ko++,n.then(Sf,Sf),n}function Sf(){if(--Ko===0&&ka!==null){hl!==null&&(hl.status="fulfilled");var t=ka;ka=null,Si=0,hl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function bf(t,n){var u=[],o={status:"pending",value:null,reason:null,then:function(g){u.push(g)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var g=0;g<u.length;g++)(0,u[g])(n)},function(g){for(o.status="rejected",o.reason=g,g=0;g<u.length;g++)(0,u[g])(void 0)}),o}var Oh=D.S;D.S=function(t,n){ud=Qt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yf(t,n),Oh!==null&&Oh(t,n)};var es=O(null);function Zo(){var t=es.current;return t!==null?t:ee.pooledCache}function Or(t,n){n===null?ct(es,es.current):ct(es,n.pool)}function xf(){var t=Zo();return t===null?null:{parent:zn._currentValue,pool:t}}var zs=Error(r(460)),zr=Error(r(474)),ue=Error(r(542)),Jo={then:function(){}};function za(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fo(t,n,u){switch(u=t[u],u===void 0?t.push(n):u!==n&&(n.then(hi,hi),n=u),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bs(t),t;default:if(typeof n.status=="string")n.then(hi,hi);else{if(t=ee,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=o}},function(o){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Bs(t),t}throw Il=n,zs}}function ws(t){try{var n=t._init;return n(t._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(Il=u,zs):u}}var Il=null;function Hs(){if(Il===null)throw Error(r(459));var t=Il;return Il=null,t}function Bs(t){if(t===zs||t===ue)throw Error(r(483))}var Gs=null,Us=0;function wr(t){var n=Us;return Us+=1,Gs===null&&(Gs=[]),Fo(Gs,t,n)}function ml(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nu(t,n){throw n.$$typeof===T?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Io(t){function n(k,V){if(t){var tt=k.deletions;tt===null?(k.deletions=[V],k.flags|=16):tt.push(V)}}function u(k,V){if(!t)return null;for(;V!==null;)n(k,V),V=V.sibling;return null}function o(k){for(var V=new Map;k!==null;)k.key!==null?V.set(k.key,k):V.set(k.index,k),k=k.sibling;return V}function g(k,V){return k=Da(k,V),k.index=0,k.sibling=null,k}function p(k,V,tt){return k.index=tt,t?(tt=k.alternate,tt!==null?(tt=tt.index,tt<V?(k.flags|=67108866,V):tt):(k.flags|=67108866,V)):(k.flags|=1048576,V)}function C(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function R(k,V,tt,dt){return V===null||V.tag!==6?(V=jo(tt,k.mode,dt),V.return=k,V):(V=g(V,tt),V.return=k,V)}function q(k,V,tt,dt){var Ft=tt.type;return Ft===B?ft(k,V,tt.props.children,dt,tt.key):V!==null&&(V.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===it&&ws(Ft)===V.type)?(V=g(V,tt.props),ml(V,tt),V.return=k,V):(V=ql(tt.type,tt.key,tt.props,null,k.mode,dt),ml(V,tt),V.return=k,V)}function et(k,V,tt,dt){return V===null||V.tag!==4||V.stateNode.containerInfo!==tt.containerInfo||V.stateNode.implementation!==tt.implementation?(V=Lo(tt,k.mode,dt),V.return=k,V):(V=g(V,tt.children||[]),V.return=k,V)}function ft(k,V,tt,dt,Ft){return V===null||V.tag!==7?(V=Ii(tt,k.mode,dt,Ft),V.return=k,V):(V=g(V,tt),V.return=k,V)}function mt(k,V,tt){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=jo(""+V,k.mode,tt),V.return=k,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return tt=ql(V.type,V.key,V.props,null,k.mode,tt),ml(tt,V),tt.return=k,tt;case A:return V=Lo(V,k.mode,tt),V.return=k,V;case it:return V=ws(V),mt(k,V,tt)}if(Ct(V)||Tt(V))return V=Ii(V,k.mode,tt,null),V.return=k,V;if(typeof V.then=="function")return mt(k,wr(V),tt);if(V.$$typeof===L)return mt(k,Ru(k,V),tt);Nu(k,V)}return null}function lt(k,V,tt,dt){var Ft=V!==null?V.key:null;if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return Ft!==null?null:R(k,V,""+tt,dt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case N:return tt.key===Ft?q(k,V,tt,dt):null;case A:return tt.key===Ft?et(k,V,tt,dt):null;case it:return tt=ws(tt),lt(k,V,tt,dt)}if(Ct(tt)||Tt(tt))return Ft!==null?null:ft(k,V,tt,dt,null);if(typeof tt.then=="function")return lt(k,V,wr(tt),dt);if(tt.$$typeof===L)return lt(k,V,Ru(k,tt),dt);Nu(k,tt)}return null}function ot(k,V,tt,dt,Ft){if(typeof dt=="string"&&dt!==""||typeof dt=="number"||typeof dt=="bigint")return k=k.get(tt)||null,R(V,k,""+dt,Ft);if(typeof dt=="object"&&dt!==null){switch(dt.$$typeof){case N:return k=k.get(dt.key===null?tt:dt.key)||null,q(V,k,dt,Ft);case A:return k=k.get(dt.key===null?tt:dt.key)||null,et(V,k,dt,Ft);case it:return dt=ws(dt),ot(k,V,tt,dt,Ft)}if(Ct(dt)||Tt(dt))return k=k.get(tt)||null,ft(V,k,dt,Ft,null);if(typeof dt.then=="function")return ot(k,V,tt,wr(dt),Ft);if(dt.$$typeof===L)return ot(k,V,tt,Ru(V,dt),Ft);Nu(V,dt)}return null}function jt(k,V,tt,dt){for(var Ft=null,Ne=null,qt=V,ce=V=0,_e=null;qt!==null&&ce<tt.length;ce++){qt.index>ce?(_e=qt,qt=null):_e=qt.sibling;var De=lt(k,qt,tt[ce],dt);if(De===null){qt===null&&(qt=_e);break}t&&qt&&De.alternate===null&&n(k,qt),V=p(De,V,ce),Ne===null?Ft=De:Ne.sibling=De,Ne=De,qt=_e}if(ce===tt.length)return u(k,qt),pe&&Xl(k,ce),Ft;if(qt===null){for(;ce<tt.length;ce++)qt=mt(k,tt[ce],dt),qt!==null&&(V=p(qt,V,ce),Ne===null?Ft=qt:Ne.sibling=qt,Ne=qt);return pe&&Xl(k,ce),Ft}for(qt=o(qt);ce<tt.length;ce++)_e=ot(qt,k,ce,tt[ce],dt),_e!==null&&(t&&_e.alternate!==null&&qt.delete(_e.key===null?ce:_e.key),V=p(_e,V,ce),Ne===null?Ft=_e:Ne.sibling=_e,Ne=_e);return t&&qt.forEach(function(Wu){return n(k,Wu)}),pe&&Xl(k,ce),Ft}function Pt(k,V,tt,dt){if(tt==null)throw Error(r(151));for(var Ft=null,Ne=null,qt=V,ce=V=0,_e=null,De=tt.next();qt!==null&&!De.done;ce++,De=tt.next()){qt.index>ce?(_e=qt,qt=null):_e=qt.sibling;var Wu=lt(k,qt,De.value,dt);if(Wu===null){qt===null&&(qt=_e);break}t&&qt&&Wu.alternate===null&&n(k,qt),V=p(Wu,V,ce),Ne===null?Ft=Wu:Ne.sibling=Wu,Ne=Wu,qt=_e}if(De.done)return u(k,qt),pe&&Xl(k,ce),Ft;if(qt===null){for(;!De.done;ce++,De=tt.next())De=mt(k,De.value,dt),De!==null&&(V=p(De,V,ce),Ne===null?Ft=De:Ne.sibling=De,Ne=De);return pe&&Xl(k,ce),Ft}for(qt=o(qt);!De.done;ce++,De=tt.next())De=ot(qt,k,ce,De.value,dt),De!==null&&(t&&De.alternate!==null&&qt.delete(De.key===null?ce:De.key),V=p(De,V,ce),Ne===null?Ft=De:Ne.sibling=De,Ne=De);return t&&qt.forEach(function(Iy){return n(k,Iy)}),pe&&Xl(k,ce),Ft}function Ke(k,V,tt,dt){if(typeof tt=="object"&&tt!==null&&tt.type===B&&tt.key===null&&(tt=tt.props.children),typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case N:t:{for(var Ft=tt.key;V!==null;){if(V.key===Ft){if(Ft=tt.type,Ft===B){if(V.tag===7){u(k,V.sibling),dt=g(V,tt.props.children),dt.return=k,k=dt;break t}}else if(V.elementType===Ft||typeof Ft=="object"&&Ft!==null&&Ft.$$typeof===it&&ws(Ft)===V.type){u(k,V.sibling),dt=g(V,tt.props),ml(dt,tt),dt.return=k,k=dt;break t}u(k,V);break}else n(k,V);V=V.sibling}tt.type===B?(dt=Ii(tt.props.children,k.mode,dt,tt.key),dt.return=k,k=dt):(dt=ql(tt.type,tt.key,tt.props,null,k.mode,dt),ml(dt,tt),dt.return=k,k=dt)}return C(k);case A:t:{for(Ft=tt.key;V!==null;){if(V.key===Ft)if(V.tag===4&&V.stateNode.containerInfo===tt.containerInfo&&V.stateNode.implementation===tt.implementation){u(k,V.sibling),dt=g(V,tt.children||[]),dt.return=k,k=dt;break t}else{u(k,V);break}else n(k,V);V=V.sibling}dt=Lo(tt,k.mode,dt),dt.return=k,k=dt}return C(k);case it:return tt=ws(tt),Ke(k,V,tt,dt)}if(Ct(tt))return jt(k,V,tt,dt);if(Tt(tt)){if(Ft=Tt(tt),typeof Ft!="function")throw Error(r(150));return tt=Ft.call(tt),Pt(k,V,tt,dt)}if(typeof tt.then=="function")return Ke(k,V,wr(tt),dt);if(tt.$$typeof===L)return Ke(k,V,Ru(k,tt),dt);Nu(k,tt)}return typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint"?(tt=""+tt,V!==null&&V.tag===6?(u(k,V.sibling),dt=g(V,tt),dt.return=k,k=dt):(u(k,V),dt=jo(tt,k.mode,dt),dt.return=k,k=dt),C(k)):u(k,V)}return function(k,V,tt,dt){try{Us=0;var Ft=Ke(k,V,tt,dt);return Gs=null,Ft}catch(qt){if(qt===zs||qt===ue)throw qt;var Ne=sn(29,qt,null,k.mode);return Ne.lanes=dt,Ne.return=k,Ne}}}var bi=Io(!0),ko=Io(!1),ba=!1;function Hr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,n,u){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Xt&2)!==0){var g=o.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),o.pending=n,n=dl(t),Ji(t,null,u),n}return Xn(t,o,n,u),dl(t)}function as(t,n,u){if(n=n.updateQueue,n!==null&&(n=n.shared,(u&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,u|=o,n.lanes=u,aa(t,u)}}function Jt(t,n){var u=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,u===o)){var g=null,p=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};p===null?g=p=C:p=p.next=C,u=u.next}while(u!==null);p===null?g=p=n:p=p.next=n}else g=p=n;u={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},t.updateQueue=u;return}t=u.lastBaseUpdate,t===null?u.firstBaseUpdate=n:t.next=n,u.lastBaseUpdate=n}var Cf=!1;function Br(){if(Cf){var t=hl;if(t!==null)throw t}}function Du(t,n,u,o){Cf=!1;var g=t.updateQueue;ba=!1;var p=g.firstBaseUpdate,C=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var q=R,et=q.next;q.next=null,C===null?p=et:C.next=et,C=q;var ft=t.alternate;ft!==null&&(ft=ft.updateQueue,R=ft.lastBaseUpdate,R!==C&&(R===null?ft.firstBaseUpdate=et:R.next=et,ft.lastBaseUpdate=q))}if(p!==null){var mt=g.baseState;C=0,ft=et=q=null,R=p;do{var lt=R.lane&-536870913,ot=lt!==R.lane;if(ot?(se&lt)===lt:(o&lt)===lt){lt!==0&&lt===Si&&(Cf=!0),ft!==null&&(ft=ft.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var jt=t,Pt=R;lt=n;var Ke=u;switch(Pt.tag){case 1:if(jt=Pt.payload,typeof jt=="function"){mt=jt.call(Ke,mt,lt);break t}mt=jt;break t;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=Pt.payload,lt=typeof jt=="function"?jt.call(Ke,mt,lt):jt,lt==null)break t;mt=E({},mt,lt);break t;case 2:ba=!0}}lt=R.callback,lt!==null&&(t.flags|=64,ot&&(t.flags|=8192),ot=g.callbacks,ot===null?g.callbacks=[lt]:ot.push(lt))}else ot={lane:lt,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ft===null?(et=ft=ot,q=mt):ft=ft.next=ot,C|=lt;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;ot=R,R=ot.next,ot.next=null,g.lastBaseUpdate=ot,g.shared.pending=null}}while(!0);ft===null&&(q=mt),g.baseState=q,g.firstBaseUpdate=et,g.lastBaseUpdate=ft,p===null&&(g.shared.lanes=0),ni|=C,t.lanes=C,t.memoizedState=mt}}function Ou(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zh(t,n){var u=t.callbacks;if(u!==null)for(t.callbacks=null,t=0;t<u.length;t++)Ou(u[t],n)}var zu=O(null),Wo=O(0);function wh(t,n){t=tl,ct(Wo,t),ct(zu,n),tl=t|n.baseLanes}function Ef(){ct(Wo,tl),ct(zu,zu.current)}function Gr(){tl=Wo.current,K(zu),K(Wo)}var wa=O(null),xa=null;function _i(t){var n=t.alternate;ct(ye,ye.current&1),ct(wa,t),xa===null&&(n===null||zu.current!==null||n.memoizedState!==null)&&(xa=t)}function Tf(t){ct(ye,ye.current),ct(wa,t),xa===null&&(xa=t)}function Hh(t){t.tag===22?(ct(ye,ye.current),ct(wa,t),xa===null&&(xa=t)):Ha()}function Ha(){ct(ye,ye.current),ct(wa,wa.current)}function En(t){K(wa),xa===t&&(xa=null),K(ye)}var ye=O(0);function Wa(t){for(var n=t;n!==null;){if(n.tag===13){var u=n.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||$1(u)||t2(u)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var tn=0,ae=null,Ue=null,me=null,gl=!1,wu=!1,js=!1,Po=0,Ur=0,Hu=null,Af=0;function rn(){throw Error(r(321))}function Mf(t,n){if(n===null)return!1;for(var u=0;u<n.length&&u<t.length;u++)if(!ya(t[u],n[u]))return!1;return!0}function $o(t,n,u,o,g,p){return tn=p,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,D.H=t===null||t.memoizedState===null?d0:Jf,js=!1,p=u(o,g),js=!1,wu&&(p=Ls(n,u,o,g)),Bh(t),p}function Bh(t){D.H=Bu;var n=Ue!==null&&Ue.next!==null;if(tn=0,me=Ue=ae=null,gl=!1,Ur=0,Hu=null,n)throw Error(r(300));t===null||wn||(t=t.dependencies,t!==null&&Dr(t)&&(wn=!0))}function Ls(t,n,u,o){ae=t;var g=0;do{if(wu&&(Hu=null),Ur=0,wu=!1,25<=g)throw Error(r(301));if(g+=1,me=Ue=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=vl,p=n(u,o)}while(wu);return p}function Ys(){var t=D.H,n=t.useState()[0];return n=typeof n.then=="function"?jr(n):n,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(ae.flags|=1024),n}function Rf(){var t=Po!==0;return Po=0,t}function Nf(t,n,u){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~u}function Df(t){if(gl){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}gl=!1}tn=0,me=Ue=ae=null,wu=!1,Ur=Po=0,Hu=null}function Gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ae.memoizedState=me=t:me=me.next=t,me}function Tn(){if(Ue===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var n=me===null?ae.memoizedState:me.next;if(n!==null)me=n,Ue=t;else{if(t===null)throw ae.alternate===null?Error(r(467)):Error(r(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},me===null?ae.memoizedState=me=t:me=me.next=t}return me}function tc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jr(t){var n=Ur;return Ur+=1,Hu===null&&(Hu=[]),t=Fo(Hu,t,n),n=ae,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,D.H=n===null||n.memoizedState===null?d0:Jf),t}function ls(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jr(t);if(t.$$typeof===L)return $t(t)}throw Error(r(438,String(t)))}function Of(t){var n=null,u=ae.updateQueue;if(u!==null&&(n=u.memoCache),n==null){var o=ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),u===null&&(u=tc(),ae.updateQueue=u),u.memoCache=n,u=n.data[n.index],u===void 0)for(u=n.data[n.index]=Array(t),o=0;o<t;o++)u[o]=_t;return n.index++,u}function Ci(t,n){return typeof n=="function"?n(t):n}function ec(t){var n=Tn();return zf(n,Ue,t)}function zf(t,n,u){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=u;var g=t.baseQueue,p=o.pending;if(p!==null){if(g!==null){var C=g.next;g.next=p.next,p.next=C}n.baseQueue=g=p,o.pending=null}if(p=t.baseState,g===null)t.memoizedState=p;else{n=g.next;var R=C=null,q=null,et=n,ft=!1;do{var mt=et.lane&-536870913;if(mt!==et.lane?(se&mt)===mt:(tn&mt)===mt){var lt=et.revertLane;if(lt===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),mt===Si&&(ft=!0);else if((tn&lt)===lt){et=et.next,lt===Si&&(ft=!0);continue}else mt={lane:0,revertLane:et.revertLane,gesture:null,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(R=q=mt,C=p):q=q.next=mt,ae.lanes|=lt,ni|=lt;mt=et.action,js&&u(p,mt),p=et.hasEagerState?et.eagerState:u(p,mt)}else lt={lane:mt,revertLane:et.revertLane,gesture:et.gesture,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null},q===null?(R=q=lt,C=p):q=q.next=lt,ae.lanes|=mt,ni|=mt;et=et.next}while(et!==null&&et!==n);if(q===null?C=p:q.next=R,!ya(p,t.memoizedState)&&(wn=!0,ft&&(u=hl,u!==null)))throw u;t.memoizedState=p,t.baseState=C,t.baseQueue=q,o.lastRenderedState=p}return g===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function wf(t){var n=Tn(),u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=t;var o=u.dispatch,g=u.pending,p=n.memoizedState;if(g!==null){u.pending=null;var C=g=g.next;do p=t(p,C.action),C=C.next;while(C!==g);ya(p,n.memoizedState)||(wn=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),u.lastRenderedState=p}return[p,o]}function Gh(t,n,u){var o=ae,g=Tn(),p=pe;if(p){if(u===void 0)throw Error(r(407));u=u()}else u=n();var C=!ya((Ue||g).memoizedState,u);if(C&&(g.memoizedState=u,wn=!0),g=g.queue,qf(Lh.bind(null,o,g,t),[t]),g.getSnapshot!==n||C||me!==null&&me.memoizedState.tag&1){if(o.flags|=2048,is(9,{destroy:void 0},jh.bind(null,o,g,u,n),null),ee===null)throw Error(r(349));p||(tn&127)!==0||Uh(o,n,u)}return u}function Uh(t,n,u){t.flags|=16384,t={getSnapshot:n,value:u},n=ae.updateQueue,n===null?(n=tc(),ae.updateQueue=n,n.stores=[t]):(u=n.stores,u===null?n.stores=[t]:u.push(t))}function jh(t,n,u,o){n.value=u,n.getSnapshot=o,Yh(n)&&qh(t)}function Lh(t,n,u){return u(function(){Yh(n)&&qh(t)})}function Yh(t){var n=t.getSnapshot;t=t.value;try{var u=n();return!ya(t,u)}catch{return!0}}function qh(t){var n=Sa(t,2);n!==null&&oe(n,t,2)}function Hf(t){var n=Gn();if(typeof t=="function"){var u=t;if(t=u(),js){Ya(!0);try{u()}finally{Ya(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},n}function Bf(t,n,u,o){return t.baseState=u,zf(t,Ue,typeof o=="function"?o:Ci)}function U1(t,n,u,o,g){if(ic(t))throw Error(r(485));if(t=n.action,t!==null){var p={payload:g,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){p.listeners.push(C)}};D.T!==null?u(!0):p.isTransition=!1,o(p),u=n.pending,u===null?(p.next=n.pending=p,Xh(n,p)):(p.next=u.next,n.pending=u.next=p)}}function Xh(t,n){var u=n.action,o=n.payload,g=t.state;if(n.isTransition){var p=D.T,C={};D.T=C;try{var R=u(g,o),q=D.S;q!==null&&q(C,R),Qh(t,n,R)}catch(et){Gf(t,n,et)}finally{p!==null&&C.types!==null&&(p.types=C.types),D.T=p}}else try{p=u(g,o),Qh(t,n,p)}catch(et){Gf(t,n,et)}}function Qh(t,n,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(o){Vh(t,n,o)},function(o){return Gf(t,n,o)}):Vh(t,n,u)}function Vh(t,n,u){n.status="fulfilled",n.value=u,Kh(n),t.state=u,n=t.pending,n!==null&&(u=n.next,u===n?t.pending=null:(u=u.next,n.next=u,Xh(t,u)))}function Gf(t,n,u){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=u,Kh(n),n=n.next;while(n!==o)}t.action=null}function Kh(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Uf(t,n){return n}function jf(t,n){if(pe){var u=ee.formState;if(u!==null){t:{var o=ae;if(pe){if(Xe){e:{for(var g=Xe,p=Ia;g.nodeType!==8;){if(!p){g=null;break e}if(g=ii(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){Xe=ii(g.nextSibling),o=g.data==="F!";break t}}Vl(o)}o=!1}o&&(n=u[0])}}return u=Gn(),u.memoizedState=u.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:n},u.queue=o,u=o0.bind(null,ae,o),o.dispatch=u,o=Hf(!1),p=Zf.bind(null,ae,!1,o.queue),o=Gn(),g={state:n,dispatch:null,action:t,pending:null},o.queue=g,u=U1.bind(null,ae,g,p,u),g.dispatch=u,o.memoizedState=t,[n,u,!1]}function Zh(t){var n=Tn();return Lf(n,Ue,t)}function Lf(t,n,u){if(n=zf(t,n,Uf)[0],t=ec(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=jr(n)}catch(C){throw C===zs?ue:C}else o=n;n=Tn();var g=n.queue,p=g.dispatch;return u!==n.memoizedState&&(ae.flags|=2048,is(9,{destroy:void 0},Jh.bind(null,g,u),null)),[o,p,t]}function Jh(t,n){t.action=n}function Yf(t){var n=Tn(),u=Ue;if(u!==null)return Lf(n,u,t);Tn(),n=n.memoizedState,u=Tn();var o=u.queue.dispatch;return u.memoizedState=t,[n,o,!1]}function is(t,n,u,o){return t={tag:t,create:u,deps:o,inst:n,next:null},n=ae.updateQueue,n===null&&(n=tc(),ae.updateQueue=n),u=n.lastEffect,u===null?n.lastEffect=t.next=t:(o=u.next,u.next=t,t.next=o,n.lastEffect=t),t}function nc(){return Tn().memoizedState}function ac(t,n,u,o){var g=Gn();ae.flags|=t,g.memoizedState=is(1|n,{destroy:void 0},u,o===void 0?null:o)}function lc(t,n,u,o){var g=Tn();o=o===void 0?null:o;var p=g.memoizedState.inst;Ue!==null&&o!==null&&Mf(o,Ue.memoizedState.deps)?g.memoizedState=is(n,p,u,o):(ae.flags|=t,g.memoizedState=is(1|n,p,u,o))}function Fh(t,n){ac(8390656,8,t,n)}function qf(t,n){lc(2048,8,t,n)}function Ih(t){ae.flags|=4;var n=ae.updateQueue;if(n===null)n=tc(),ae.updateQueue=n,n.events=[t];else{var u=n.events;u===null?n.events=[t]:u.push(t)}}function kh(t){var n=Tn().memoizedState;return Ih({ref:n,nextImpl:t}),function(){if((Xt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Wh(t,n){return lc(4,2,t,n)}function Ph(t,n){return lc(4,4,t,n)}function $h(t,n){if(typeof n=="function"){t=t();var u=n(t);return function(){typeof u=="function"?u():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function t0(t,n,u){u=u!=null?u.concat([t]):null,lc(4,4,$h.bind(null,n,t),u)}function Xf(){}function e0(t,n){var u=Tn();n=n===void 0?null:n;var o=u.memoizedState;return n!==null&&Mf(n,o[1])?o[0]:(u.memoizedState=[t,n],t)}function n0(t,n){var u=Tn();n=n===void 0?null:n;var o=u.memoizedState;if(n!==null&&Mf(n,o[1]))return o[0];if(o=t(),js){Ya(!0);try{t()}finally{Ya(!1)}}return u.memoizedState=[o,n],o}function Qf(t,n,u){return u===void 0||(tn&1073741824)!==0&&(se&261930)===0?t.memoizedState=n:(t.memoizedState=u,t=fe(),ae.lanes|=t,ni|=t,u)}function a0(t,n,u,o){return ya(u,n)?u:zu.current!==null?(t=Qf(t,u,o),ya(t,n)||(wn=!0),t):(tn&42)===0||(tn&1073741824)!==0&&(se&261930)===0?(wn=!0,t.memoizedState=u):(t=fe(),ae.lanes|=t,ni|=t,n)}function l0(t,n,u,o,g){var p=Q.p;Q.p=p!==0&&8>p?p:8;var C=D.T,R={};D.T=R,Zf(t,!1,n,u);try{var q=g(),et=D.S;if(et!==null&&et(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var ft=bf(q,o);Lr(t,n,ft,nl(t))}else Lr(t,n,o,nl(t))}catch(mt){Lr(t,n,{then:function(){},status:"rejected",reason:mt},nl())}finally{Q.p=p,C!==null&&R.types!==null&&(C.types=R.types),D.T=C}}function j1(){}function Vf(t,n,u,o){if(t.tag!==5)throw Error(r(476));var g=i0(t).queue;l0(t,g,n,I,u===null?j1:function(){return s0(t),u(o)})}function i0(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:I},next:null};var u={};return n.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:u},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function s0(t){var n=i0(t);n.next===null&&(n=t.alternate.memoizedState),Lr(t,n.next.queue,{},nl())}function Kf(){return $t(hd)}function u0(){return Tn().memoizedState}function r0(){return Tn().memoizedState}function L1(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var u=nl();t=xi(u);var o=ns(n,t,u);o!==null&&(oe(o,n,u),as(o,n,u)),n={cache:pf()},t.payload=n;return}n=n.return}}function Y1(t,n,u){var o=nl();u={lane:o,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ic(t)?c0(n,u):(u=Go(t,n,u,o),u!==null&&(oe(u,t,o),f0(u,n,o)))}function o0(t,n,u){var o=nl();Lr(t,n,u,o)}function Lr(t,n,u,o){var g={lane:o,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(ic(t))c0(n,g);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var C=n.lastRenderedState,R=p(C,u);if(g.hasEagerState=!0,g.eagerState=R,ya(R,C))return Xn(t,n,g,0),ee===null&&Rr(),!1}catch{}if(u=Go(t,n,g,o),u!==null)return oe(u,t,o),f0(u,n,o),!0}return!1}function Zf(t,n,u,o){if(o={lane:2,revertLane:ut(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(n)throw Error(r(479))}else n=Go(t,u,o,2),n!==null&&oe(n,t,2)}function ic(t){var n=t.alternate;return t===ae||n!==null&&n===ae}function c0(t,n){wu=gl=!0;var u=t.pending;u===null?n.next=n:(n.next=u.next,u.next=n),t.pending=n}function f0(t,n,u){if((u&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,u|=o,n.lanes=u,aa(t,u)}}var Bu={readContext:$t,use:ls,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};Bu.useEffectEvent=rn;var d0={readContext:$t,use:ls,useCallback:function(t,n){return Gn().memoizedState=[t,n===void 0?null:n],t},useContext:$t,useEffect:Fh,useImperativeHandle:function(t,n,u){u=u!=null?u.concat([t]):null,ac(4194308,4,$h.bind(null,n,t),u)},useLayoutEffect:function(t,n){return ac(4194308,4,t,n)},useInsertionEffect:function(t,n){ac(4,2,t,n)},useMemo:function(t,n){var u=Gn();n=n===void 0?null:n;var o=t();if(js){Ya(!0);try{t()}finally{Ya(!1)}}return u.memoizedState=[o,n],o},useReducer:function(t,n,u){var o=Gn();if(u!==void 0){var g=u(n);if(js){Ya(!0);try{u(n)}finally{Ya(!1)}}}else g=n;return o.memoizedState=o.baseState=g,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:g},o.queue=t,t=t.dispatch=Y1.bind(null,ae,t),[o.memoizedState,t]},useRef:function(t){var n=Gn();return t={current:t},n.memoizedState=t},useState:function(t){t=Hf(t);var n=t.queue,u=o0.bind(null,ae,n);return n.dispatch=u,[t.memoizedState,u]},useDebugValue:Xf,useDeferredValue:function(t,n){var u=Gn();return Qf(u,t,n)},useTransition:function(){var t=Hf(!1);return t=l0.bind(null,ae,t.queue,!0,!1),Gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,u){var o=ae,g=Gn();if(pe){if(u===void 0)throw Error(r(407));u=u()}else{if(u=n(),ee===null)throw Error(r(349));(se&127)!==0||Uh(o,n,u)}g.memoizedState=u;var p={value:u,getSnapshot:n};return g.queue=p,Fh(Lh.bind(null,o,p,t),[t]),o.flags|=2048,is(9,{destroy:void 0},jh.bind(null,o,p,u,n),null),u},useId:function(){var t=Gn(),n=ee.identifierPrefix;if(pe){var u=Rl,o=un;u=(o&~(1<<32-na(o)-1)).toString(32)+u,n="_"+n+"R_"+u,u=Po++,0<u&&(n+="H"+u.toString(32)),n+="_"}else u=Af++,n="_"+n+"r_"+u.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Kf,useFormState:jf,useActionState:jf,useOptimistic:function(t){var n=Gn();n.memoizedState=n.baseState=t;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=u,n=Zf.bind(null,ae,!0,u),u.dispatch=n,[t,n]},useMemoCache:Of,useCacheRefresh:function(){return Gn().memoizedState=L1.bind(null,ae)},useEffectEvent:function(t){var n=Gn(),u={impl:t};return n.memoizedState=u,function(){if((Xt&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}},Jf={readContext:$t,use:ls,useCallback:e0,useContext:$t,useEffect:qf,useImperativeHandle:t0,useInsertionEffect:Wh,useLayoutEffect:Ph,useMemo:n0,useReducer:ec,useRef:nc,useState:function(){return ec(Ci)},useDebugValue:Xf,useDeferredValue:function(t,n){var u=Tn();return a0(u,Ue.memoizedState,t,n)},useTransition:function(){var t=ec(Ci)[0],n=Tn().memoizedState;return[typeof t=="boolean"?t:jr(t),n]},useSyncExternalStore:Gh,useId:u0,useHostTransitionStatus:Kf,useFormState:Zh,useActionState:Zh,useOptimistic:function(t,n){var u=Tn();return Bf(u,Ue,t,n)},useMemoCache:Of,useCacheRefresh:r0};Jf.useEffectEvent=kh;var vl={readContext:$t,use:ls,useCallback:e0,useContext:$t,useEffect:qf,useImperativeHandle:t0,useInsertionEffect:Wh,useLayoutEffect:Ph,useMemo:n0,useReducer:wf,useRef:nc,useState:function(){return wf(Ci)},useDebugValue:Xf,useDeferredValue:function(t,n){var u=Tn();return Ue===null?Qf(u,t,n):a0(u,Ue.memoizedState,t,n)},useTransition:function(){var t=wf(Ci)[0],n=Tn().memoizedState;return[typeof t=="boolean"?t:jr(t),n]},useSyncExternalStore:Gh,useId:u0,useHostTransitionStatus:Kf,useFormState:Yf,useActionState:Yf,useOptimistic:function(t,n){var u=Tn();return Ue!==null?Bf(u,Ue,t,n):(u.baseState=t,[t,u.queue.dispatch])},useMemoCache:Of,useCacheRefresh:r0};vl.useEffectEvent=kh;function sc(t,n,u,o){n=t.memoizedState,u=u(o,n),u=u==null?n:E({},n,u),t.memoizedState=u,t.lanes===0&&(t.updateQueue.baseState=u)}var Yr={enqueueSetState:function(t,n,u){t=t._reactInternals;var o=nl(),g=xi(o);g.payload=n,u!=null&&(g.callback=u),n=ns(t,g,o),n!==null&&(oe(n,t,o),as(n,t,o))},enqueueReplaceState:function(t,n,u){t=t._reactInternals;var o=nl(),g=xi(o);g.tag=1,g.payload=n,u!=null&&(g.callback=u),n=ns(t,g,o),n!==null&&(oe(n,t,o),as(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var u=nl(),o=xi(u);o.tag=2,n!=null&&(o.callback=n),n=ns(t,o,u),n!==null&&(oe(n,t,u),as(n,t,u))}};function Ff(t,n,u,o,g,p,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,p,C):n.prototype&&n.prototype.isPureReactComponent?!pu(u,o)||!pu(g,p):!0}function If(t,n,u,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(u,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(u,o),n.state!==t&&Yr.enqueueReplaceState(n,n.state,null)}function ss(t,n){var u=n;if("ref"in n){u={};for(var o in n)o!=="ref"&&(u[o]=n[o])}if(t=t.defaultProps){u===n&&(u=E({},u));for(var g in t)u[g]===void 0&&(u[g]=t[g])}return u}function h0(t){Mr(t)}function kf(t){console.error(t)}function Wf(t){Mr(t)}function uc(t,n){try{var u=t.onUncaughtError;u(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function m0(t,n,u){try{var o=t.onCaughtError;o(u.value,{componentStack:u.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Pf(t,n,u){return u=xi(u),u.tag=3,u.payload={element:null},u.callback=function(){uc(t,n)},u}function $f(t){return t=xi(t),t.tag=3,t}function g0(t,n,u,o){var g=u.type.getDerivedStateFromError;if(typeof g=="function"){var p=o.value;t.payload=function(){return g(p)},t.callback=function(){m0(n,u,o)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){m0(n,u,o),typeof g!="function"&&(Rn===null?Rn=new Set([this]):Rn.add(this));var R=o.stack;this.componentDidCatch(o.value,{componentStack:R!==null?R:""})})}function Un(t,n,u,o,g){if(u.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=u.alternate,n!==null&&Fl(n,u,g,!0),u=wa.current,u!==null){switch(u.tag){case 31:case 13:return xa===null?Xu():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=g,o===Jo?u.flags|=16384:(n=u.updateQueue,n===null?u.updateQueue=new Set([o]):n.add(o),Pr(t,o,g)),!1;case 22:return u.flags|=65536,o===Jo?u.flags|=16384:(n=u.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},u.updateQueue=n):(u=n.retryQueue,u===null?n.retryQueue=new Set([o]):u.add(o)),Pr(t,o,g)),!1}throw Error(r(435,u.tag))}return Pr(t,o,g),Xu(),!1}if(pe)return n=wa.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,o!==Tu&&(t=Error(r(422),{cause:o}),Kl(Fa(t,u)))):(o!==Tu&&(n=Error(r(423),{cause:o}),Kl(Fa(n,u))),t=t.current.alternate,t.flags|=65536,g&=-g,t.lanes|=g,o=Fa(o,u),g=Pf(t.stateNode,o,g),Jt(t,g),on!==4&&(on=2)),!1;var p=Error(r(520),{cause:o});if(p=Fa(p,u),Fs===null?Fs=[p]:Fs.push(p),on!==4&&(on=2),n===null)return!0;o=Fa(o,u),u=n;do{switch(u.tag){case 3:return u.flags|=65536,t=g&-g,u.lanes|=t,t=Pf(u.stateNode,o,t),Jt(u,t),!1;case 1:if(n=u.type,p=u.stateNode,(u.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Rn===null||!Rn.has(p))))return u.flags|=65536,g&=-g,u.lanes|=g,g=$f(g),g0(g,t,u,o),Jt(u,g),!1}u=u.return}while(u!==null);return!1}var rc=Error(r(461)),wn=!1;function Qn(t,n,u,o){n.child=t===null?ko(n,null,u,o):bi(n,t.child,u,o)}function td(t,n,u,o,g){u=u.render;var p=n.ref;if("ref"in o){var C={};for(var R in o)R!=="ref"&&(C[R]=o[R])}else C=o;return ts(n),o=$o(t,n,u,C,p,g),R=Rf(),t!==null&&!wn?(Nf(t,n,g),An(t,n,g)):(pe&&R&&Ql(n),n.flags|=1,Qn(t,n,o,g),n.child)}function qs(t,n,u,o,g){if(t===null){var p=u.type;return typeof p=="function"&&!Uo(p)&&p.defaultProps===void 0&&u.compare===null?(n.tag=15,n.type=p,oc(t,n,p,o,g)):(t=ql(u.type,null,o,n,n.mode,g),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!gc(t,g)){var C=p.memoizedProps;if(u=u.compare,u=u!==null?u:pu,u(C,o)&&t.ref===n.ref)return An(t,n,g)}return n.flags|=1,t=Da(p,o),t.ref=n.ref,t.return=n,n.child=t}function oc(t,n,u,o,g){if(t!==null){var p=t.memoizedProps;if(pu(p,o)&&t.ref===n.ref)if(wn=!1,n.pendingProps=o=p,gc(t,g))(t.flags&131072)!==0&&(wn=!0);else return n.lanes=t.lanes,An(t,n,g)}return Gu(t,n,u,o,g)}function Xs(t,n,u,o){var g=o.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|u:u,t!==null){for(o=n.child=t.child,g=0;o!==null;)g=g|o.lanes|o.childLanes,o=o.sibling;o=g&~p}else o=0,n.child=null;return Ba(t,n,p,u,o)}if((u&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Or(n,p!==null?p.cachePool:null),p!==null?wh(n,p):Ef(),Hh(n);else return o=n.lanes=536870912,Ba(t,n,p!==null?p.baseLanes|u:u,u,o)}else p!==null?(Or(n,p.cachePool),wh(n,p),Ha(),n.memoizedState=null):(t!==null&&Or(n,null),Ef(),Ha());return Qn(t,n,g,u),n.child}function kl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ba(t,n,u,o,g){var p=Zo();return p=p===null?null:{parent:zn._currentValue,pool:p},n.memoizedState={baseLanes:u,cachePool:p},t!==null&&Or(n,null),Ef(),Hh(n),t!==null&&Fl(t,n,o,!0),n.childLanes=g,null}function cc(t,n){return n=mc({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function v0(t,n,u){return bi(n,t.child,null,u),t=cc(n,n.pendingProps),t.flags|=2,En(n),n.memoizedState=null,t}function fc(t,n,u){var o=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(pe){if(o.mode==="hidden")return t=cc(n,o),n.lanes=536870912,kl(null,t);if(Tf(n),(t=Xe)?(t=Xm(t,Ia),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vi!==null?{id:un,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},u=_u(t),u.return=n,n.child=u,yn=n,Xe=null)):t=null,t===null)throw Vl(n);return n.lanes=536870912,null}return cc(n,o)}var p=t.memoizedState;if(p!==null){var C=p.dehydrated;if(Tf(n),g)if(n.flags&256)n.flags&=-257,n=v0(t,n,u);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(r(558));else if(wn||Fl(t,n,u,!1),g=(u&t.childLanes)!==0,wn||g){if(o=ee,o!==null&&(C=Xa(o,u),C!==0&&C!==p.retryLane))throw p.retryLane=C,Sa(t,C),oe(o,t,C),rc;Xu(),n=v0(t,n,u)}else t=p.treeContext,Xe=ii(C.nextSibling),yn=n,pe=!0,pi=null,Ia=!1,t!==null&&qo(n,t),n=cc(n,o),n.flags|=4096;return n}return t=Da(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Qs(t,n){var u=n.ref;if(u===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(t===null||t.ref!==u)&&(n.flags|=4194816)}}function Gu(t,n,u,o,g){return ts(n),u=$o(t,n,u,o,void 0,g),o=Rf(),t!==null&&!wn?(Nf(t,n,g),An(t,n,g)):(pe&&o&&Ql(n),n.flags|=1,Qn(t,n,u,g),n.child)}function qr(t,n,u,o,g,p){return ts(n),n.updateQueue=null,u=Ls(n,o,u,g),Bh(t),o=Rf(),t!==null&&!wn?(Nf(t,n,p),An(t,n,p)):(pe&&o&&Ql(n),n.flags|=1,Qn(t,n,u,p),n.child)}function dc(t,n,u,o,g){if(ts(n),n.stateNode===null){var p=Fi,C=u.contextType;typeof C=="object"&&C!==null&&(p=$t(C)),p=new u(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Yr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},Hr(n),C=u.contextType,p.context=typeof C=="object"&&C!==null?$t(C):Fi,p.state=n.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(sc(n,u,C,o),p.state=n.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(C=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),C!==p.state&&Yr.enqueueReplaceState(p,p.state,null),Du(n,o,p,g),Br(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){p=n.stateNode;var R=n.memoizedProps,q=ss(u,R);p.props=q;var et=p.context,ft=u.contextType;C=Fi,typeof ft=="object"&&ft!==null&&(C=$t(ft));var mt=u.getDerivedStateFromProps;ft=typeof mt=="function"||typeof p.getSnapshotBeforeUpdate=="function",R=n.pendingProps!==R,ft||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(R||et!==C)&&If(n,p,o,C),ba=!1;var lt=n.memoizedState;p.state=lt,Du(n,o,p,g),Br(),et=n.memoizedState,R||lt!==et||ba?(typeof mt=="function"&&(sc(n,u,mt,o),et=n.memoizedState),(q=ba||Ff(n,u,q,o,lt,et,C))?(ft||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=et),p.props=o,p.state=et,p.context=C,o=q):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,_f(t,n),C=n.memoizedProps,ft=ss(u,C),p.props=ft,mt=n.pendingProps,lt=p.context,et=u.contextType,q=Fi,typeof et=="object"&&et!==null&&(q=$t(et)),R=u.getDerivedStateFromProps,(et=typeof R=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C!==mt||lt!==q)&&If(n,p,o,q),ba=!1,lt=n.memoizedState,p.state=lt,Du(n,o,p,g),Br();var ot=n.memoizedState;C!==mt||lt!==ot||ba||t!==null&&t.dependencies!==null&&Dr(t.dependencies)?(typeof R=="function"&&(sc(n,u,R,o),ot=n.memoizedState),(ft=ba||Ff(n,u,ft,o,lt,ot,q)||t!==null&&t.dependencies!==null&&Dr(t.dependencies))?(et||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,ot,q),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,ot,q)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&lt===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&lt===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=ot),p.props=o,p.state=ot,p.context=q,o=ft):(typeof p.componentDidUpdate!="function"||C===t.memoizedProps&&lt===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&lt===t.memoizedState||(n.flags|=1024),o=!1)}return p=o,Qs(t,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,u=o&&typeof u.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&o?(n.child=bi(n,t.child,null,g),n.child=bi(n,null,u,g)):Qn(t,n,u,g),n.memoizedState=p.state,t=n.child):t=An(t,n,g),t}function p0(t,n,u,o){return Pi(),n.flags|=256,Qn(t,n,u,o),n.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ra(t){return{baseLanes:t,cachePool:xf()}}function hc(t,n,u){return t=t!==null?t.childLanes&~u:0,n&&(t|=Ta),t}function y0(t,n,u){var o=n.pendingProps,g=!1,p=(n.flags&128)!==0,C;if((C=p)||(C=t!==null&&t.memoizedState===null?!1:(ye.current&2)!==0),C&&(g=!0,n.flags&=-129),C=(n.flags&32)!==0,n.flags&=-33,t===null){if(pe){if(g?_i(n):Ha(),(t=Xe)?(t=Xm(t,Ia),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:vi!==null?{id:un,overflow:Rl}:null,retryLane:536870912,hydrationErrors:null},u=_u(t),u.return=n,n.child=u,yn=n,Xe=null)):t=null,t===null)throw Vl(n);return t2(t)?n.lanes=32:n.lanes=536870912,null}var R=o.children;return o=o.fallback,g?(Ha(),g=n.mode,R=mc({mode:"hidden",children:R},g),o=Ii(o,g,u,null),R.return=n,o.return=n,R.sibling=o,n.child=R,o=n.child,o.memoizedState=ra(u),o.childLanes=hc(t,C,u),n.memoizedState=ed,kl(null,o)):(_i(n),Xr(n,R))}var q=t.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(p)n.flags&256?(_i(n),n.flags&=-257,n=nd(t,n,u)):n.memoizedState!==null?(Ha(),n.child=t.child,n.flags|=128,n=null):(Ha(),R=o.fallback,g=n.mode,o=mc({mode:"visible",children:o.children},g),R=Ii(R,g,u,null),R.flags|=2,o.return=n,R.return=n,o.sibling=R,n.child=o,bi(n,t.child,null,u),o=n.child,o.memoizedState=ra(u),o.childLanes=hc(t,C,u),n.memoizedState=ed,n=kl(null,o));else if(_i(n),t2(R)){if(C=R.nextSibling&&R.nextSibling.dataset,C)var et=C.dgst;C=et,o=Error(r(419)),o.stack="",o.digest=C,Kl({value:o,source:null,stack:null}),n=nd(t,n,u)}else if(wn||Fl(t,n,u,!1),C=(u&t.childLanes)!==0,wn||C){if(C=ee,C!==null&&(o=Xa(C,u),o!==0&&o!==q.retryLane))throw q.retryLane=o,Sa(t,o),oe(C,t,o),rc;$1(R)||Xu(),n=nd(t,n,u)}else $1(R)?(n.flags|=192,n.child=t.child,n=null):(t=q.treeContext,Xe=ii(R.nextSibling),yn=n,pe=!0,pi=null,Ia=!1,t!==null&&qo(n,t),n=Xr(n,o.children),n.flags|=4096);return n}return g?(Ha(),R=o.fallback,g=n.mode,q=t.child,et=q.sibling,o=Da(q,{mode:"hidden",children:o.children}),o.subtreeFlags=q.subtreeFlags&65011712,et!==null?R=Da(et,R):(R=Ii(R,g,u,null),R.flags|=2),R.return=n,o.return=n,o.sibling=R,n.child=o,kl(null,o),o=n.child,R=t.child.memoizedState,R===null?R=ra(u):(g=R.cachePool,g!==null?(q=zn._currentValue,g=g.parent!==q?{parent:q,pool:q}:g):g=xf(),R={baseLanes:R.baseLanes|u,cachePool:g}),o.memoizedState=R,o.childLanes=hc(t,C,u),n.memoizedState=ed,kl(t.child,o)):(_i(n),u=t.child,t=u.sibling,u=Da(u,{mode:"visible",children:o.children}),u.return=n,u.sibling=null,t!==null&&(C=n.deletions,C===null?(n.deletions=[t],n.flags|=16):C.push(t)),n.child=u,n.memoizedState=null,u)}function Xr(t,n){return n=mc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mc(t,n){return t=sn(22,t,null,n),t.lanes=0,t}function nd(t,n,u){return bi(n,t.child,null,u),t=Xr(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function S0(t,n,u){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Qo(t.return,n,u)}function Vs(t,n,u,o,g,p){var C=t.memoizedState;C===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:u,tailMode:g,treeForkCount:p}:(C.isBackwards=n,C.rendering=null,C.renderingStartTime=0,C.last=o,C.tail=u,C.tailMode=g,C.treeForkCount=p)}function Ga(t,n,u){var o=n.pendingProps,g=o.revealOrder,p=o.tail;o=o.children;var C=ye.current,R=(C&2)!==0;if(R?(C=C&1|2,n.flags|=128):C&=1,ct(ye,C),Qn(t,n,o,u),o=pe?Eu:0,!R&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&S0(t,u,n);else if(t.tag===19)S0(t,u,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(g){case"forwards":for(u=n.child,g=null;u!==null;)t=u.alternate,t!==null&&Wa(t)===null&&(g=u),u=u.sibling;u=g,u===null?(g=n.child,n.child=null):(g=u.sibling,u.sibling=null),Vs(n,!1,g,u,p,o);break;case"backwards":case"unstable_legacy-backwards":for(u=null,g=n.child,n.child=null;g!==null;){if(t=g.alternate,t!==null&&Wa(t)===null){n.child=g;break}t=g.sibling,g.sibling=u,u=g,g=t}Vs(n,!0,u,null,p,o);break;case"together":Vs(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function An(t,n,u){if(t!==null&&(n.dependencies=t.dependencies),ni|=n.lanes,(u&n.childLanes)===0)if(t!==null){if(Fl(t,n,u,!1),(u&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,u=Da(t,t.pendingProps),n.child=u,u.return=n;t.sibling!==null;)t=t.sibling,u=u.sibling=Da(t,t.pendingProps),u.return=n;u.sibling=null}return n.child}function gc(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Dr(t)))}function q1(t,n,u){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),yi(n,zn,t.memoizedState.cache),Pi();break;case 27:case 5:te(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:yi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(_i(n),n.flags|=128,null):(u&n.child.childLanes)!==0?y0(t,n,u):(_i(n),t=An(t,n,u),t!==null?t.sibling:null);_i(n);break;case 19:var g=(t.flags&128)!==0;if(o=(u&n.childLanes)!==0,o||(Fl(t,n,u,!1),o=(u&n.childLanes)!==0),g){if(o)return Ga(t,n,u);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ct(ye,ye.current),o)break;return null;case 22:return n.lanes=0,Xs(t,n,u,n.pendingProps);case 24:yi(n,zn,t.memoizedState.cache)}return An(t,n,u)}function vc(t,n,u){if(t!==null)if(t.memoizedProps!==n.pendingProps)wn=!0;else{if(!gc(t,u)&&(n.flags&128)===0)return wn=!1,q1(t,n,u);wn=(t.flags&131072)!==0}else wn=!1,pe&&(n.flags&1048576)!==0&&Ah(n,Eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(t=ws(n.elementType),n.type=t,typeof t=="function")Uo(t)?(o=ss(t,o),n.tag=1,n=dc(null,n,t,o,u)):(n.tag=0,n=Gu(null,n,t,o,u));else{if(t!=null){var g=t.$$typeof;if(g===z){n.tag=11,n=td(null,n,t,o,u);break t}else if(g===Z){n.tag=14,n=qs(null,n,t,o,u);break t}}throw n=zt(t)||t,Error(r(306,n,""))}}return n;case 0:return Gu(t,n,n.type,n.pendingProps,u);case 1:return o=n.type,g=ss(o,n.pendingProps),dc(t,n,o,g,u);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(r(387));o=n.pendingProps;var p=n.memoizedState;g=p.element,_f(t,n),Du(n,o,null,u);var C=n.memoizedState;if(o=C.cache,yi(n,zn,o),o!==p.cache&&Vo(n,[zn],u,!0),Br(),o=C.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:C.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=p0(t,n,o,u);break t}else if(o!==g){g=Fa(Error(r(424)),n),Kl(g),n=p0(t,n,o,u);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Xe=ii(t.firstChild),yn=n,pe=!0,pi=null,Ia=!0,u=ko(n,null,o,u),n.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Pi(),o===g){n=An(t,n,u);break t}Qn(t,n,o,u)}n=n.child}return n;case 26:return Qs(t,n),t===null?(u=Fm(n.type,null,n.pendingProps,null))?n.memoizedState=u:pe||(u=n.type,t=n.pendingProps,o=C0(At.current).createElement(u),o[Dn]=n,o[la]=t,Ma(o,u,t),On(o),n.stateNode=o):n.memoizedState=Fm(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return te(n),t===null&&pe&&(o=n.stateNode=Km(n.type,n.pendingProps,At.current),yn=n,Ia=!0,g=Xe,Zu(n.type)?(e2=g,Xe=ii(o.firstChild)):Xe=g),Qn(t,n,n.pendingProps.children,u),Qs(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&pe&&((g=o=Xe)&&(o=Ty(o,n.type,n.pendingProps,Ia),o!==null?(n.stateNode=o,yn=n,Xe=ii(o.firstChild),Ia=!1,g=!0):g=!1),g||Vl(n)),te(n),g=n.type,p=n.pendingProps,C=t!==null?t.memoizedProps:null,o=p.children,k1(g,p)?o=null:C!==null&&k1(g,C)&&(n.flags|=32),n.memoizedState!==null&&(g=$o(t,n,Ys,null,null,u),hd._currentValue=g),Qs(t,n),Qn(t,n,o,u),n.child;case 6:return t===null&&pe&&((t=u=Xe)&&(u=Ay(u,n.pendingProps,Ia),u!==null?(n.stateNode=u,yn=n,Xe=null,t=!0):t=!1),t||Vl(n)),null;case 13:return y0(t,n,u);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=bi(n,null,o,u):Qn(t,n,o,u),n.child;case 11:return td(t,n,n.type,n.pendingProps,u);case 7:return Qn(t,n,n.pendingProps,u),n.child;case 8:return Qn(t,n,n.pendingProps.children,u),n.child;case 12:return Qn(t,n,n.pendingProps.children,u),n.child;case 10:return o=n.pendingProps,yi(n,n.type,o.value),Qn(t,n,o.children,u),n.child;case 9:return g=n.type._context,o=n.pendingProps.children,ts(n),g=$t(g),o=o(g),n.flags|=1,Qn(t,n,o,u),n.child;case 14:return qs(t,n,n.type,n.pendingProps,u);case 15:return oc(t,n,n.type,n.pendingProps,u);case 19:return Ga(t,n,u);case 31:return fc(t,n,u);case 22:return Xs(t,n,u,n.pendingProps);case 24:return ts(n),o=$t(zn),t===null?(g=Zo(),g===null&&(g=ee,p=pf(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=u),g=p),n.memoizedState={parent:o,cache:g},Hr(n),yi(n,zn,g)):((t.lanes&u)!==0&&(_f(t,n),Du(n,null,null,u),Br()),g=t.memoizedState,p=n.memoizedState,g.parent!==o?(g={parent:o,cache:o},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),yi(n,zn,o)):(o=p.cache,yi(n,zn,o),o!==g.cache&&Vo(n,[zn],u,!0))),Qn(t,n,n.pendingProps.children,u),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Wl(t){t.flags|=4}function Qr(t,n,u,o,g){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(g&335544128)===g)if(t.stateNode.complete)t.flags|=8192;else if(fn())t.flags|=8192;else throw Il=Jo,zr}else t.flags&=-16777217}function ad(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$m(n))if(fn())t.flags|=8192;else throw Il=Jo,zr}function Ei(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?vn():536870912,t.lanes|=n,Fe|=n)}function Pl(t,n){if(!pe)switch(t.tailMode){case"hidden":n=t.tail;for(var u=null;n!==null;)n.alternate!==null&&(u=n),n=n.sibling;u===null?t.tail=null:u.sibling=null;break;case"collapsed":u=t.tail;for(var o=null;u!==null;)u.alternate!==null&&(o=u),u=u.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function je(t){var n=t.alternate!==null&&t.alternate.child===t.child,u=0,o=0;if(n)for(var g=t.child;g!==null;)u|=g.lanes|g.childLanes,o|=g.subtreeFlags&65011712,o|=g.flags&65011712,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)u|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=o,t.childLanes=u,n}function Vr(t,n,u){var o=n.pendingProps;switch(Yo(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return je(n),null;case 1:return je(n),null;case 3:return u=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Jl(zn),Yt(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(Au(n)?Wl(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xo())),je(n),null;case 26:var g=n.type,p=n.memoizedState;return t===null?(Wl(n),p!==null?(je(n),ad(n,p)):(je(n),Qr(n,g,null,o,u))):p?p!==t.memoizedState?(Wl(n),je(n),ad(n,p)):(je(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Wl(n),je(n),Qr(n,g,t,o,u)),null;case 27:if(_n(n),u=At.current,g=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wl(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return je(n),null}t=yt.current,Au(n)?Mh(n):(t=Km(g,o,u),n.stateNode=t,Wl(n))}return je(n),null;case 5:if(_n(n),g=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Wl(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return je(n),null}if(p=yt.current,Au(n))Mh(n);else{var C=C0(At.current);switch(p){case 1:p=C.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=C.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=C.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=C.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof o.is=="string"?C.createElement("select",{is:o.is}):C.createElement("select"),o.multiple?p.multiple=!0:o.size&&(p.size=o.size);break;default:p=typeof o.is=="string"?C.createElement(g,{is:o.is}):C.createElement(g)}}p[Dn]=n,p[la]=o;t:for(C=n.child;C!==null;){if(C.tag===5||C.tag===6)p.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break t;for(;C.sibling===null;){if(C.return===null||C.return===n)break t;C=C.return}C.sibling.return=C.return,C=C.sibling}n.stateNode=p;t:switch(Ma(p,g,o),g){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wl(n)}}return je(n),Qr(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,u),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Wl(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(t=At.current,Au(n)){if(t=n.stateNode,u=n.memoizedProps,o=null,g=yn,g!==null)switch(g.tag){case 27:case 5:o=g.memoizedProps}t[Dn]=n,t=!!(t.nodeValue===u||o!==null&&o.suppressHydrationWarning===!0||Hm(t.nodeValue,u)),t||Vl(n,!0)}else t=C0(t).createTextNode(o),t[Dn]=n,n.stateNode=t}return je(n),null;case 31:if(u=n.memoizedState,t===null||t.memoizedState!==null){if(o=Au(n),u!==null){if(t===null){if(!o)throw Error(r(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[Dn]=n}else Pi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),t=!1}else u=Xo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),t=!0;if(!t)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return je(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(g=Au(n),o!==null&&o.dehydrated!==null){if(t===null){if(!g)throw Error(r(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Dn]=n}else Pi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;je(n),g=!1}else g=Xo(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=u,n):(u=o!==null,t=t!==null&&t.memoizedState!==null,u&&(o=n.child,g=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(g=o.alternate.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==g&&(o.flags|=2048)),u!==t&&u&&(n.child.flags|=8192),Ei(n,n.updateQueue),je(n),null);case 4:return Yt(),t===null&&K1(n.stateNode.containerInfo),je(n),null;case 10:return Jl(n.type),je(n),null;case 19:if(K(ye),o=n.memoizedState,o===null)return je(n),null;if(g=(n.flags&128)!==0,p=o.rendering,p===null)if(g)Pl(o,!1);else{if(on!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=Wa(t),p!==null){for(n.flags|=128,Pl(o,!1),t=p.updateQueue,n.updateQueue=t,Ei(n,t),n.subtreeFlags=0,t=u,u=n.child;u!==null;)xu(u,t),u=u.sibling;return ct(ye,ye.current&1|2),pe&&Xl(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Qt()>Mn&&(n.flags|=128,g=!0,Pl(o,!1),n.lanes=4194304)}else{if(!g)if(t=Wa(p),t!==null){if(n.flags|=128,g=!0,t=t.updateQueue,n.updateQueue=t,Ei(n,t),Pl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!p.alternate&&!pe)return je(n),null}else 2*Qt()-o.renderingStartTime>Mn&&u!==536870912&&(n.flags|=128,g=!0,Pl(o,!1),n.lanes=4194304);o.isBackwards?(p.sibling=n.child,n.child=p):(t=o.last,t!==null?t.sibling=p:n.child=p,o.last=p)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qt(),t.sibling=null,u=ye.current,ct(ye,g?u&1|2:u&1),pe&&Xl(n,o.treeForkCount),t):(je(n),null);case 22:case 23:return En(n),Gr(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(u&536870912)!==0&&(n.flags&128)===0&&(je(n),n.subtreeFlags&6&&(n.flags|=8192)):je(n),u=n.updateQueue,u!==null&&Ei(n,u.retryQueue),u=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==u&&(n.flags|=2048),t!==null&&K(es),null;case 24:return u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Jl(zn),je(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function pl(t,n){switch(Yo(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Jl(zn),Yt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return _n(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Pi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(En(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Pi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return K(ye),null;case 4:return Yt(),null;case 10:return Jl(n.type),null;case 22:case 23:return En(n),Gr(),t!==null&&K(es),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Jl(zn),null;case 25:return null;default:return null}}function Pa(t,n){switch(Yo(n),n.tag){case 3:Jl(zn),Yt();break;case 26:case 27:case 5:_n(n);break;case 4:Yt();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:K(ye);break;case 10:Jl(n.type);break;case 22:case 23:En(n),Gr(),t!==null&&K(es);break;case 24:Jl(zn)}}function yl(t,n){try{var u=n.updateQueue,o=u!==null?u.lastEffect:null;if(o!==null){var g=o.next;u=g;do{if((u.tag&t)===t){o=void 0;var p=u.create,C=u.inst;o=p(),C.destroy=o}u=u.next}while(u!==g)}}catch(R){Ee(n,n.return,R)}}function In(t,n,u){try{var o=n.updateQueue,g=o!==null?o.lastEffect:null;if(g!==null){var p=g.next;o=p;do{if((o.tag&t)===t){var C=o.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,g=n;var q=u,et=R;try{et()}catch(ft){Ee(g,q,ft)}}}o=o.next}while(o!==p)}}catch(ft){Ee(n,n.return,ft)}}function Nl(t){var n=t.updateQueue;if(n!==null){var u=t.stateNode;try{zh(n,u)}catch(o){Ee(t,t.return,o)}}}function Vn(t,n,u){u.props=ss(t.type,t.memoizedProps),u.state=t.memoizedState;try{u.componentWillUnmount()}catch(o){Ee(t,n,o)}}function Ti(t,n){try{var u=t.ref;if(u!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof u=="function"?t.refCleanup=u(o):u.current=o}}catch(g){Ee(t,n,g)}}function kn(t,n){var u=t.ref,o=t.refCleanup;if(u!==null)if(typeof o=="function")try{o()}catch(g){Ee(t,n,g)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(g){Ee(t,n,g)}else u.current=null}function Kr(t){var n=t.type,u=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":u.autoFocus&&o.focus();break t;case"img":u.src?o.src=u.src:u.srcSet&&(o.srcset=u.srcSet)}}catch(g){Ee(t,t.return,g)}}function jn(t,n,u){try{var o=t.stateNode;Sy(o,t.type,u,n),o[la]=n}catch(g){Ee(t,t.return,g)}}function en(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zu(t.type)||t.tag===4}function ge(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||en(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zu(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $l(t,n,u){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(t,n):(n=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,n.appendChild(t),u=u._reactRootContainer,u!=null||n.onclick!==null||(n.onclick=hi));else if(o!==4&&(o===27&&Zu(t.type)&&(u=t.stateNode,n=null),t=t.child,t!==null))for($l(t,n,u),t=t.sibling;t!==null;)$l(t,n,u),t=t.sibling}function _a(t,n,u){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?u.insertBefore(t,n):u.appendChild(t);else if(o!==4&&(o===27&&Zu(t.type)&&(u=t.stateNode),t=t.child,t!==null))for(_a(t,n,u),t=t.sibling;t!==null;)_a(t,n,u),t=t.sibling}function pc(t){var n=t.stateNode,u=t.memoizedProps;try{for(var o=t.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);Ma(n,o,u),n[Dn]=t,n[la]=u}catch(p){Ee(t,t.return,p)}}var Sl=!1,Qe=!1,Dl=!1,b0=typeof WeakSet=="function"?WeakSet:Set,Kn=null;function X1(t,n){if(t=t.containerInfo,F1=D0,t=_h(t),df(t)){if("selectionStart"in t)var u={start:t.selectionStart,end:t.selectionEnd};else t:{u=(u=t.ownerDocument)&&u.defaultView||window;var o=u.getSelection&&u.getSelection();if(o&&o.rangeCount!==0){u=o.anchorNode;var g=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{u.nodeType,p.nodeType}catch{u=null;break t}var C=0,R=-1,q=-1,et=0,ft=0,mt=t,lt=null;e:for(;;){for(var ot;mt!==u||g!==0&&mt.nodeType!==3||(R=C+g),mt!==p||o!==0&&mt.nodeType!==3||(q=C+o),mt.nodeType===3&&(C+=mt.nodeValue.length),(ot=mt.firstChild)!==null;)lt=mt,mt=ot;for(;;){if(mt===t)break e;if(lt===u&&++et===g&&(R=C),lt===p&&++ft===o&&(q=C),(ot=mt.nextSibling)!==null)break;mt=lt,lt=mt.parentNode}mt=ot}u=R===-1||q===-1?null:{start:R,end:q}}else u=null}u=u||{start:0,end:0}}else u=null;for(I1={focusedElem:t,selectionRange:u},D0=!1,Kn=n;Kn!==null;)if(n=Kn,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Kn=t;else for(;Kn!==null;){switch(n=Kn,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(u=0;u<t.length;u++)g=t[u],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,u=n,g=p.memoizedProps,p=p.memoizedState,o=u.stateNode;try{var jt=ss(u.type,g);t=o.getSnapshotBeforeUpdate(jt,p),o.__reactInternalSnapshotBeforeUpdate=t}catch(Pt){Ee(u,u.return,Pt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,u=t.nodeType,u===9)P1(t);else if(u===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":P1(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Kn=t;break}Kn=n.return}}function nn(t,n,u){var o=u.flags;switch(u.tag){case 0:case 11:case 15:_l(t,u),o&4&&yl(5,u);break;case 1:if(_l(t,u),o&4)if(t=u.stateNode,n===null)try{t.componentDidMount()}catch(C){Ee(u,u.return,C)}else{var g=ss(u.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(g,n,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Ee(u,u.return,C)}}o&64&&Nl(u),o&512&&Ti(u,u.return);break;case 3:if(_l(t,u),o&64&&(t=u.updateQueue,t!==null)){if(n=null,u.child!==null)switch(u.child.tag){case 27:case 5:n=u.child.stateNode;break;case 1:n=u.child.stateNode}try{zh(t,n)}catch(C){Ee(u,u.return,C)}}break;case 27:n===null&&o&4&&pc(u);case 26:case 5:_l(t,u),n===null&&o&4&&Kr(u),o&512&&Ti(u,u.return);break;case 12:_l(t,u);break;case 31:_l(t,u),o&4&&us(t,u);break;case 13:_l(t,u),o&4&&Uu(t,u),o&64&&(t=u.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(u=f.bind(null,u),My(t,u))));break;case 22:if(o=u.memoizedState!==null||Sl,!o){n=n!==null&&n.memoizedState!==null||Qe,g=Sl;var p=Qe;Sl=o,(Qe=n)&&!p?Ca(t,u,(u.subtreeFlags&8772)!==0):_l(t,u),Sl=g,Qe=p}break;case 30:break;default:_l(t,u)}}function Zr(t){var n=t.alternate;n!==null&&(t.alternate=null,Zr(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&bs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,oa=!1;function bl(t,n,u){for(u=u.child;u!==null;)yc(t,n,u),u=u.sibling}function yc(t,n,u){if(ea&&typeof ea.onCommitFiberUnmount=="function")try{ea.onCommitFiberUnmount(ji,u)}catch{}switch(u.tag){case 26:Qe||kn(u,n),bl(t,n,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Qe||kn(u,n);var o=ze,g=oa;Zu(u.type)&&(ze=u.stateNode,oa=!1),bl(t,n,u),cd(u.stateNode),ze=o,oa=g;break;case 5:Qe||kn(u,n);case 6:if(o=ze,g=oa,ze=null,bl(t,n,u),ze=o,oa=g,ze!==null)if(oa)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(u.stateNode)}catch(p){Ee(u,n,p)}else try{ze.removeChild(u.stateNode)}catch(p){Ee(u,n,p)}break;case 18:ze!==null&&(oa?(t=ze,Ym(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,u.stateNode),Ac(t)):Ym(ze,u.stateNode));break;case 4:o=ze,g=oa,ze=u.stateNode.containerInfo,oa=!0,bl(t,n,u),ze=o,oa=g;break;case 0:case 11:case 14:case 15:In(2,u,n),Qe||In(4,u,n),bl(t,n,u);break;case 1:Qe||(kn(u,n),o=u.stateNode,typeof o.componentWillUnmount=="function"&&Vn(u,n,o)),bl(t,n,u);break;case 21:bl(t,n,u);break;case 22:Qe=(o=Qe)||u.memoizedState!==null,bl(t,n,u),Qe=o;break;default:bl(t,n,u)}}function us(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ac(t)}catch(u){Ee(n,n.return,u)}}}function Uu(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ac(t)}catch(u){Ee(n,n.return,u)}}function ld(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new b0),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new b0),n;default:throw Error(r(435,t.tag))}}function Ai(t,n){var u=ld(t);n.forEach(function(o){if(!u.has(o)){u.add(o);var g=m.bind(null,t,o);o.then(g,g)}})}function Ln(t,n){var u=n.deletions;if(u!==null)for(var o=0;o<u.length;o++){var g=u[o],p=t,C=n,R=C;t:for(;R!==null;){switch(R.tag){case 27:if(Zu(R.type)){ze=R.stateNode,oa=!1;break t}break;case 5:ze=R.stateNode,oa=!1;break t;case 3:case 4:ze=R.stateNode.containerInfo,oa=!0;break t}R=R.return}if(ze===null)throw Error(r(160));yc(p,C,g),ze=null,oa=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)rs(n,t),n=n.sibling}var xl=null;function rs(t,n){var u=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ln(n,t),Yn(t),o&4&&(In(3,t,t.return),yl(3,t),In(5,t,t.return));break;case 1:Ln(n,t),Yn(t),o&512&&(Qe||u===null||kn(u,u.return)),o&64&&Sl&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(u=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=u===null?o:u.concat(o))));break;case 26:var g=xl;if(Ln(n,t),Yn(t),o&512&&(Qe||u===null||kn(u,u.return)),o&4){var p=u!==null?u.memoizedState:null;if(o=t.memoizedState,u===null)if(o===null)if(t.stateNode===null){t:{o=t.type,u=t.memoizedProps,g=g.ownerDocument||g;e:switch(o){case"title":p=g.getElementsByTagName("title")[0],(!p||p[ci]||p[Dn]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(o),g.head.insertBefore(p,g.querySelector("head > title"))),Ma(p,o,u),p[Dn]=t,On(p),o=p;break t;case"link":var C=Wm("link","href",g).get(o+(u.href||""));if(C){for(var R=0;R<C.length;R++)if(p=C[R],p.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&p.getAttribute("rel")===(u.rel==null?null:u.rel)&&p.getAttribute("title")===(u.title==null?null:u.title)&&p.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(R,1);break e}}p=g.createElement(o),Ma(p,o,u),g.head.appendChild(p);break;case"meta":if(C=Wm("meta","content",g).get(o+(u.content||""))){for(R=0;R<C.length;R++)if(p=C[R],p.getAttribute("content")===(u.content==null?null:""+u.content)&&p.getAttribute("name")===(u.name==null?null:u.name)&&p.getAttribute("property")===(u.property==null?null:u.property)&&p.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&p.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(R,1);break e}}p=g.createElement(o),Ma(p,o,u),g.head.appendChild(p);break;default:throw Error(r(468,o))}p[Dn]=t,On(p),o=p}t.stateNode=o}else Pm(g,t.type,t.stateNode);else t.stateNode=km(g,o,t.memoizedProps);else p!==o?(p===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):p.count--,o===null?Pm(g,t.type,t.stateNode):km(g,o,t.memoizedProps)):o===null&&t.stateNode!==null&&jn(t,t.memoizedProps,u.memoizedProps)}break;case 27:Ln(n,t),Yn(t),o&512&&(Qe||u===null||kn(u,u.return)),u!==null&&o&4&&jn(t,t.memoizedProps,u.memoizedProps);break;case 5:if(Ln(n,t),Yn(t),o&512&&(Qe||u===null||kn(u,u.return)),t.flags&32){g=t.stateNode;try{Cs(g,"")}catch(jt){Ee(t,t.return,jt)}}o&4&&t.stateNode!=null&&(g=t.memoizedProps,jn(t,g,u!==null?u.memoizedProps:g)),o&1024&&(Dl=!0);break;case 6:if(Ln(n,t),Yn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,u=t.stateNode;try{u.nodeValue=o}catch(jt){Ee(t,t.return,jt)}}break;case 3:if(A0=null,g=xl,xl=E0(n.containerInfo),Ln(n,t),xl=g,Yn(t),o&4&&u!==null&&u.memoizedState.isDehydrated)try{Ac(n.containerInfo)}catch(jt){Ee(t,t.return,jt)}Dl&&(Dl=!1,Sc(t));break;case 4:o=xl,xl=E0(t.stateNode.containerInfo),Ln(n,t),Yn(t),xl=o;break;case 12:Ln(n,t),Yn(t);break;case 31:Ln(n,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ai(t,o)));break;case 13:Ln(n,t),Yn(t),t.child.flags&8192&&t.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(ju=Qt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ai(t,o)));break;case 22:g=t.memoizedState!==null;var q=u!==null&&u.memoizedState!==null,et=Sl,ft=Qe;if(Sl=et||g,Qe=ft||q,Ln(n,t),Qe=ft,Sl=et,Yn(t),o&8192)t:for(n=t.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(u===null||q||Sl||Qe||ti(t)),u=null,n=t;;){if(n.tag===5||n.tag===26){if(u===null){q=u=n;try{if(p=q.stateNode,g)C=p.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{R=q.stateNode;var mt=q.memoizedProps.style,lt=mt!=null&&mt.hasOwnProperty("display")?mt.display:null;R.style.display=lt==null||typeof lt=="boolean"?"":(""+lt).trim()}}catch(jt){Ee(q,q.return,jt)}}}else if(n.tag===6){if(u===null){q=n;try{q.stateNode.nodeValue=g?"":q.memoizedProps}catch(jt){Ee(q,q.return,jt)}}}else if(n.tag===18){if(u===null){q=n;try{var ot=q.stateNode;g?qm(ot,!0):qm(q.stateNode,!1)}catch(jt){Ee(q,q.return,jt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;u===n&&(u=null),n=n.return}u===n&&(u=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(u=o.retryQueue,u!==null&&(o.retryQueue=null,Ai(t,u))));break;case 19:Ln(n,t),Yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ai(t,o)));break;case 30:break;case 21:break;default:Ln(n,t),Yn(t)}}function Yn(t){var n=t.flags;if(n&2){try{for(var u,o=t.return;o!==null;){if(en(o)){u=o;break}o=o.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var g=u.stateNode,p=ge(t);_a(t,p,g);break;case 5:var C=u.stateNode;u.flags&32&&(Cs(C,""),u.flags&=-33);var R=ge(t);_a(t,R,C);break;case 3:case 4:var q=u.stateNode.containerInfo,et=ge(t);$l(t,et,q);break;default:throw Error(r(161))}}catch(ft){Ee(t,t.return,ft)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Sc(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Sc(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function _l(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)nn(t,n.alternate,n),n=n.sibling}function ti(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:In(4,n,n.return),ti(n);break;case 1:kn(n,n.return);var u=n.stateNode;typeof u.componentWillUnmount=="function"&&Vn(n,n.return,u),ti(n);break;case 27:cd(n.stateNode);case 26:case 5:kn(n,n.return),ti(n);break;case 22:n.memoizedState===null&&ti(n);break;case 30:ti(n);break;default:ti(n)}t=t.sibling}}function Ca(t,n,u){for(u=u&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,g=t,p=n,C=p.flags;switch(p.tag){case 0:case 11:case 15:Ca(g,p,u),yl(4,p);break;case 1:if(Ca(g,p,u),o=p,g=o.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(et){Ee(o,o.return,et)}if(o=p,g=o.updateQueue,g!==null){var R=o.stateNode;try{var q=g.shared.hiddenCallbacks;if(q!==null)for(g.shared.hiddenCallbacks=null,g=0;g<q.length;g++)Ou(q[g],R)}catch(et){Ee(o,o.return,et)}}u&&C&64&&Nl(p),Ti(p,p.return);break;case 27:pc(p);case 26:case 5:Ca(g,p,u),u&&o===null&&C&4&&Kr(p),Ti(p,p.return);break;case 12:Ca(g,p,u);break;case 31:Ca(g,p,u),u&&C&4&&us(g,p);break;case 13:Ca(g,p,u),u&&C&4&&Uu(g,p);break;case 22:p.memoizedState===null&&Ca(g,p,u),Ti(p,p.return);break;case 30:break;default:Ca(g,p,u)}n=n.sibling}}function os(t,n){var u=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==u&&(t!=null&&t.refCount++,u!=null&&Os(u))}function Ks(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Os(t))}function Wn(t,n,u,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)id(t,n,u,o),n=n.sibling}function id(t,n,u,o){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(t,n,u,o),g&2048&&yl(9,n);break;case 1:Wn(t,n,u,o);break;case 3:Wn(t,n,u,o),g&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Os(t)));break;case 12:if(g&2048){Wn(t,n,u,o),t=n.stateNode;try{var p=n.memoizedProps,C=p.id,R=p.onPostCommit;typeof R=="function"&&R(C,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(q){Ee(n,n.return,q)}}else Wn(t,n,u,o);break;case 31:Wn(t,n,u,o);break;case 13:Wn(t,n,u,o);break;case 23:break;case 22:p=n.stateNode,C=n.alternate,n.memoizedState!==null?p._visibility&2?Wn(t,n,u,o):ei(t,n):p._visibility&2?Wn(t,n,u,o):(p._visibility|=2,Pn(t,n,u,o,(n.subtreeFlags&10256)!==0||!1)),g&2048&&os(C,n);break;case 24:Wn(t,n,u,o),g&2048&&Ks(n.alternate,n);break;default:Wn(t,n,u,o)}}function Pn(t,n,u,o,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,C=n,R=u,q=o,et=C.flags;switch(C.tag){case 0:case 11:case 15:Pn(p,C,R,q,g),yl(8,C);break;case 23:break;case 22:var ft=C.stateNode;C.memoizedState!==null?ft._visibility&2?Pn(p,C,R,q,g):ei(p,C):(ft._visibility|=2,Pn(p,C,R,q,g)),g&&et&2048&&os(C.alternate,C);break;case 24:Pn(p,C,R,q,g),g&&et&2048&&Ks(C.alternate,C);break;default:Pn(p,C,R,q,g)}n=n.sibling}}function ei(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var u=t,o=n,g=o.flags;switch(o.tag){case 22:ei(u,o),g&2048&&os(o.alternate,o);break;case 24:ei(u,o),g&2048&&Ks(o.alternate,o);break;default:ei(u,o)}n=n.sibling}}var Zs=8192;function $a(t,n,u){if(t.subtreeFlags&Zs)for(t=t.child;t!==null;)bc(t,n,u),t=t.sibling}function bc(t,n,u){switch(t.tag){case 26:$a(t,n,u),t.flags&Zs&&t.memoizedState!==null&&Ly(u,xl,t.memoizedState,t.memoizedProps);break;case 5:$a(t,n,u);break;case 3:case 4:var o=xl;xl=E0(t.stateNode.containerInfo),$a(t,n,u),xl=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Zs,Zs=16777216,$a(t,n,u),Zs=o):$a(t,n,u));break;default:$a(t,n,u)}}function Js(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function cs(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var u=0;u<n.length;u++){var o=n[u];Kn=o,Sn(o,t)}Js(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ua(t),t=t.sibling}function Ua(t){switch(t.tag){case 0:case 11:case 15:cs(t),t.flags&2048&&In(9,t,t.return);break;case 3:cs(t);break;case 12:cs(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Ea(t)):cs(t);break;default:cs(t)}}function Ea(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var u=0;u<n.length;u++){var o=n[u];Kn=o,Sn(o,t)}Js(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:In(8,n,n.return),Ea(n);break;case 22:u=n.stateNode,u._visibility&2&&(u._visibility&=-3,Ea(n));break;default:Ea(n)}t=t.sibling}}function Sn(t,n){for(;Kn!==null;){var u=Kn;switch(u.tag){case 0:case 11:case 15:In(8,u,n);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var o=u.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Os(u.memoizedState.cache)}if(o=u.child,o!==null)o.return=u,Kn=o;else t:for(u=t;Kn!==null;){o=Kn;var g=o.sibling,p=o.return;if(Zr(o),o===u){Kn=null;break t}if(g!==null){g.return=p,Kn=g;break t}Kn=p}}}var Mi={getCacheForType:function(t){var n=$t(zn),u=n.data.get(t);return u===void 0&&(u=t(),n.data.set(t,u)),u},cacheSignal:function(){return $t(zn).controller.signal}},le=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ee=null,re=null,se=0,Se=0,ca=null,Cl=!1,Ol=!1,sd=!1,tl=0,on=0,ni=0,fs=0,Jr=0,Ta=0,Fe=0,Fs=null,bn=null,xn=!1,ju=0,ud=0,Mn=1/0,cn=null,Rn=null,we=0,el=null,Lu=null,El=0,Yu=0,qu=null,Fr=null,ds=0,Is=null;function nl(){return(Xt&2)!==0&&se!==0?se&-se:D.T!==null?ut():Qa()}function fe(){if(Ta===0)if((se&536870912)===0||pe){var t=Li;Li<<=1,(Li&3932160)===0&&(Li=262144),Ta=t}else Ta=536870912;return t=wa.current,t!==null&&(t.flags|=32),Ta}function oe(t,n,u){(t===ee&&(Se===2||Se===9)||t.cancelPendingCommit!==null)&&(ms(t,0),Hn(t,se,Ta,!1)),qa(t,u),((Xt&2)===0||t!==ee)&&(t===ee&&((Xt&2)===0&&(fs|=u),on===4&&Hn(t,se,Ta,!1)),bt(t))}function de(t,n,u){if((Xt&6)!==0)throw Error(r(327));var o=!u&&(n&127)===0&&(n&t.expiredLanes)===0||ha(t,n),g=o?Ir(t,n):Aa(t,n,!0),p=o;do{if(g===0){Ol&&!o&&Hn(t,n,0,!1);break}else{if(u=t.current.alternate,p&&!He(u)){g=Aa(t,n,!1),p=!1;continue}if(g===2){if(p=n,t.errorRecoveryDisabledLanes&p)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){n=C;t:{var R=t;g=Fs;var q=R.current.memoizedState.isDehydrated;if(q&&(ms(R,C).flags|=256),C=Aa(R,C,!1),C!==2){if(sd&&!q){R.errorRecoveryDisabledLanes|=p,fs|=p,g=4;break t}p=bn,bn=g,p!==null&&(bn===null?bn=p:bn.push.apply(bn,p))}g=C}if(p=!1,g!==2)continue}}if(g===1){ms(t,0),Hn(t,n,0,!0);break}t:{switch(o=t,p=g,p){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Hn(o,n,Ta,!Cl);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(g=ju+300-Qt(),10<g)){if(Hn(o,n,Ta,!Cl),Cn(o,0,!0)!==0)break t;El=n,o.timeoutHandle=jm(ve.bind(null,o,u,bn,cn,xn,n,Ta,fs,Fe,Cl,p,"Throttled",-0,0),g);break t}ve(o,u,bn,cn,xn,n,Ta,fs,Fe,Cl,p,null,-0,0)}}break}while(!0);bt(t)}function ve(t,n,u,o,g,p,C,R,q,et,ft,mt,lt,ot){if(t.timeoutHandle=-1,mt=n.subtreeFlags,mt&8192||(mt&16785408)===16785408){mt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},bc(n,p,mt);var jt=(p&62914560)===p?ju-Qt():(p&4194048)===p?ud-Qt():0;if(jt=Yy(mt,jt),jt!==null){El=p,t.cancelPendingCommit=jt(Ni.bind(null,t,n,p,u,o,g,C,R,q,ft,mt,null,lt,ot)),Hn(t,p,C,!et);return}}Ni(t,n,p,u,o,g,C,R,q)}function He(t){for(var n=t;;){var u=n.tag;if((u===0||u===11||u===15)&&n.flags&16384&&(u=n.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var o=0;o<u.length;o++){var g=u[o],p=g.getSnapshot;g=g.value;try{if(!ya(p(),g))return!1}catch{return!1}}if(u=n.child,n.subtreeFlags&16384&&u!==null)u.return=n,n=u;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Hn(t,n,u,o){n&=~Jr,n&=~fs,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var g=n;0<g;){var p=31-na(g),C=1<<p;o[p]=-1,g&=~C}u!==0&&va(t,u,n)}function zl(){return(Xt&6)===0?(Gt(0),!1):!0}function hs(){if(re!==null){if(Se===0)var t=re.return;else t=re,Zl=$i=null,Df(t),Gs=null,Us=0,t=re;for(;t!==null;)Pa(t.alternate,t),t=t.return;re=null}}function ms(t,n){var u=t.timeoutHandle;u!==-1&&(t.timeoutHandle=-1,_y(u)),u=t.cancelPendingCommit,u!==null&&(t.cancelPendingCommit=null,u()),El=0,hs(),ee=t,re=u=Da(t.current,null),se=n,Se=0,ca=null,Cl=!1,Ol=ha(t,n),sd=!1,Fe=Ta=Jr=fs=ni=on=0,bn=Fs=null,xn=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var g=31-na(o),p=1<<g;n|=t[g],o&=~p}return tl=n,Rr(),u}function ai(t,n){ae=null,D.H=Bu,n===zs||n===ue?(n=Hs(),Se=3):n===zr?(n=Hs(),Se=4):Se=n===rc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ca=n,re===null&&(on=1,uc(t,Fa(n,t.current)))}function fn(){var t=wa.current;return t===null?!0:(se&4194048)===se?xa===null:(se&62914560)===se||(se&536870912)!==0?t===xa:!1}function Ri(){var t=D.H;return D.H=Bu,t===null?Bu:t}function gs(){var t=D.A;return D.A=Mi,t}function Xu(){on=4,Cl||(se&4194048)!==se&&wa.current!==null||(Ol=!0),(ni&134217727)===0&&(fs&134217727)===0||ee===null||Hn(ee,se,Ta,!1)}function Aa(t,n,u){var o=Xt;Xt|=2;var g=Ri(),p=gs();(ee!==t||se!==n)&&(cn=null,ms(t,n)),n=!1;var C=on;t:do try{if(Se!==0&&re!==null){var R=re,q=ca;switch(Se){case 8:hs(),C=6;break t;case 3:case 2:case 9:case 6:wa.current===null&&(n=!0);var et=Se;if(Se=0,ca=null,ks(t,R,q,et),u&&Ol){C=0;break t}break;default:et=Se,Se=0,ca=null,ks(t,R,q,et)}}Qu(),C=on;break}catch(ft){ai(t,ft)}while(!0);return n&&t.shellSuspendCounter++,Zl=$i=null,Xt=o,D.H=g,D.A=p,re===null&&(ee=null,se=0,Rr()),C}function Qu(){for(;re!==null;)xc(re)}function Ir(t,n){var u=Xt;Xt|=2;var o=Ri(),g=gs();ee!==t||se!==n?(cn=null,Mn=Qt()+500,ms(t,n)):Ol=ha(t,n);t:do try{if(Se!==0&&re!==null){n=re;var p=ca;e:switch(Se){case 1:Se=0,ca=null,ks(t,n,p,1);break;case 2:case 9:if(za(p)){Se=0,ca=null,kr(n);break}n=function(){Se!==2&&Se!==9||ee!==t||(Se=7),bt(t)},p.then(n,n);break t;case 3:Se=7;break t;case 4:Se=5;break t;case 7:za(p)?(Se=0,ca=null,kr(n)):(Se=0,ca=null,ks(t,n,p,7));break;case 5:var C=null;switch(re.tag){case 26:C=re.memoizedState;case 5:case 27:var R=re;if(C?$m(C):R.stateNode.complete){Se=0,ca=null;var q=R.sibling;if(q!==null)re=q;else{var et=R.return;et!==null?(re=et,vs(et)):re=null}break e}}Se=0,ca=null,ks(t,n,p,5);break;case 6:Se=0,ca=null,ks(t,n,p,6);break;case 8:hs(),on=6;break t;default:throw Error(r(462))}}ja();break}catch(ft){ai(t,ft)}while(!0);return Zl=$i=null,D.H=o,D.A=g,Xt=u,re!==null?0:(ee=null,se=0,Rr(),on)}function ja(){for(;re!==null&&!Ge();)xc(re)}function xc(t){var n=vc(t.alternate,t,tl);t.memoizedProps=t.pendingProps,n===null?vs(t):re=n}function kr(t){var n=t,u=n.alternate;switch(n.tag){case 15:case 0:n=qr(u,n,n.pendingProps,n.type,void 0,se);break;case 11:n=qr(u,n,n.pendingProps,n.type.render,n.ref,se);break;case 5:Df(n);default:Pa(u,n),n=re=xu(n,tl),n=vc(u,n,tl)}t.memoizedProps=t.pendingProps,n===null?vs(t):re=n}function ks(t,n,u,o){Zl=$i=null,Df(n),Gs=null,Us=0;var g=n.return;try{if(Un(t,g,n,u,se)){on=1,uc(t,Fa(u,t.current)),re=null;return}}catch(p){if(g!==null)throw re=g,p;on=1,uc(t,Fa(u,t.current)),re=null;return}n.flags&32768?(pe||o===1?t=!0:Ol||(se&536870912)!==0?t=!1:(Cl=t=!0,(o===2||o===9||o===3||o===6)&&(o=wa.current,o!==null&&o.tag===13&&(o.flags|=16384))),Wr(n,t)):vs(n)}function vs(t){var n=t;do{if((n.flags&32768)!==0){Wr(n,Cl);return}t=n.return;var u=Vr(n.alternate,n,tl);if(u!==null){re=u;return}if(n=n.sibling,n!==null){re=n;return}re=n=t}while(n!==null);on===0&&(on=5)}function Wr(t,n){do{var u=pl(t.alternate,t);if(u!==null){u.flags&=32767,re=u;return}if(u=t.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!n&&(t=t.sibling,t!==null)){re=t;return}re=t=u}while(t!==null);on=6,re=null}function Ni(t,n,u,o,g,p,C,R,q){t.cancelPendingCommit=null;do Vu();while(we!==0);if((Xt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(p=n.lanes|n.childLanes,p|=qn,pn(t,u,p,C,R,q),t===ee&&(re=ee=null,se=0),Lu=n,el=t,El=u,Yu=p,qu=g,Fr=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,S(Je,function(){return _c(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=D.T,D.T=null,g=Q.p,Q.p=2,C=Xt,Xt|=4;try{X1(t,n,u)}finally{Xt=C,Q.p=g,D.T=o}}we=1,Bn(),Di(),Ws()}}function Bn(){if(we===1){we=0;var t=el,n=Lu,u=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var o=Q.p;Q.p=2;var g=Xt;Xt|=4;try{rs(n,t);var p=I1,C=_h(t.containerInfo),R=p.focusedElem,q=p.selectionRange;if(C!==R&&R&&R.ownerDocument&&qe(R.ownerDocument.documentElement,R)){if(q!==null&&df(R)){var et=q.start,ft=q.end;if(ft===void 0&&(ft=et),"selectionStart"in R)R.selectionStart=et,R.selectionEnd=Math.min(ft,R.value.length);else{var mt=R.ownerDocument||document,lt=mt&&mt.defaultView||window;if(lt.getSelection){var ot=lt.getSelection(),jt=R.textContent.length,Pt=Math.min(q.start,jt),Ke=q.end===void 0?Pt:Math.min(q.end,jt);!ot.extend&&Pt>Ke&&(C=Ke,Ke=Pt,Pt=C);var k=yu(R,Pt),V=yu(R,Ke);if(k&&V&&(ot.rangeCount!==1||ot.anchorNode!==k.node||ot.anchorOffset!==k.offset||ot.focusNode!==V.node||ot.focusOffset!==V.offset)){var tt=mt.createRange();tt.setStart(k.node,k.offset),ot.removeAllRanges(),Pt>Ke?(ot.addRange(tt),ot.extend(V.node,V.offset)):(tt.setEnd(V.node,V.offset),ot.addRange(tt))}}}}for(mt=[],ot=R;ot=ot.parentNode;)ot.nodeType===1&&mt.push({element:ot,left:ot.scrollLeft,top:ot.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<mt.length;R++){var dt=mt[R];dt.element.scrollLeft=dt.left,dt.element.scrollTop=dt.top}}D0=!!F1,I1=F1=null}finally{Xt=g,Q.p=o,D.T=u}}t.current=n,we=2}}function Di(){if(we===2){we=0;var t=el,n=Lu,u=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var o=Q.p;Q.p=2;var g=Xt;Xt|=4;try{nn(t,n.alternate,n)}finally{Xt=g,Q.p=o,D.T=u}}we=3}}function Ws(){if(we===4||we===3){we=0,Kt();var t=el,n=Lu,u=El,o=Fr;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?we=5:(we=0,Lu=el=null,li(t,t.pendingLanes));var g=t.pendingLanes;if(g===0&&(Rn=null),sl(u),n=n.stateNode,ea&&typeof ea.onCommitFiberRoot=="function")try{ea.onCommitFiberRoot(ji,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=D.T,g=Q.p,Q.p=2,D.T=null;try{for(var p=t.onRecoverableError,C=0;C<o.length;C++){var R=o[C];p(R.value,{componentStack:R.stack})}}finally{D.T=n,Q.p=g}}(El&3)!==0&&Vu(),bt(t),g=t.pendingLanes,(u&261930)!==0&&(g&42)!==0?t===Is?ds++:(ds=0,Is=t):ds=0,Gt(0)}}function li(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Os(n)))}function Vu(){return Bn(),Di(),Ws(),_c()}function _c(){if(we!==5)return!1;var t=el,n=Yu;Yu=0;var u=sl(El),o=D.T,g=Q.p;try{Q.p=32>u?32:u,D.T=null,u=qu,qu=null;var p=el,C=El;if(we=0,Lu=el=null,El=0,(Xt&6)!==0)throw Error(r(331));var R=Xt;if(Xt|=4,Ua(p.current),id(p,p.current,C,u),Xt=R,Gt(0,!1),ea&&typeof ea.onPostCommitFiberRoot=="function")try{ea.onPostCommitFiberRoot(ji,p)}catch{}return!0}finally{Q.p=g,D.T=o,li(t,n)}}function rd(t,n,u){n=Fa(u,n),n=Pf(t.stateNode,n,2),t=ns(t,n,2),t!==null&&(qa(t,2),bt(t))}function Ee(t,n,u){if(t.tag===3)rd(t,t,u);else for(;n!==null;){if(n.tag===3){rd(n,t,u);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Rn===null||!Rn.has(o))){t=Fa(u,t),u=$f(2),o=ns(n,u,2),o!==null&&(g0(u,o,n,t),qa(o,2),bt(o));break}}n=n.return}}function Pr(t,n,u){var o=t.pingCache;if(o===null){o=t.pingCache=new le;var g=new Set;o.set(n,g)}else g=o.get(n),g===void 0&&(g=new Set,o.set(n,g));g.has(u)||(sd=!0,g.add(u),t=a.bind(null,t,n,u),n.then(t,t))}function a(t,n,u){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&u,t.warmLanes&=~u,ee===t&&(se&u)===u&&(on===4||on===3&&(se&62914560)===se&&300>Qt()-ju?(Xt&2)===0&&ms(t,0):Jr|=u,Fe===se&&(Fe=0)),bt(t)}function l(t,n){n===0&&(n=vn()),t=Sa(t,n),t!==null&&(qa(t,n),bt(t))}function f(t){var n=t.memoizedState,u=0;n!==null&&(u=n.retryLane),l(t,u)}function m(t,n){var u=0;switch(t.tag){case 31:case 13:var o=t.stateNode,g=t.memoizedState;g!==null&&(u=g.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),l(t,u)}function S(t,n){return Ce(t,n)}var x=null,M=null,X=!1,rt=!1,vt=!1,Mt=0;function bt(t){t!==M&&t.next===null&&(M===null?x=M=t:M=M.next=t),rt=!0,X||(X=!0,W())}function Gt(t,n){if(!vt&&rt){vt=!0;do for(var u=!1,o=x;o!==null;){if(t!==0){var g=o.pendingLanes;if(g===0)var p=0;else{var C=o.suspendedLanes,R=o.pingedLanes;p=(1<<31-na(42|t)+1)-1,p&=g&~(C&~R),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(u=!0,nt(o,p))}else p=se,p=Cn(o,o===ee?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||ha(o,p)||(u=!0,nt(o,p));o=o.next}while(u);vt=!1}}function ne(){Zn()}function Zn(){rt=X=!1;var t=0;Mt!==0&&xy()&&(t=Mt);for(var n=Qt(),u=null,o=x;o!==null;){var g=o.next,p=Ku(o,n);p===0?(o.next=null,u===null?x=g:u.next=g,g===null&&(M=u)):(u=o,(t!==0||(p&3)!==0)&&(rt=!0)),o=g}we!==0&&we!==5||Gt(t),Mt!==0&&(Mt=0)}function Ku(t,n){for(var u=t.suspendedLanes,o=t.pingedLanes,g=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var C=31-na(p),R=1<<C,q=g[C];q===-1?((R&u)===0||(R&o)!==0)&&(g[C]=ma(R,n)):q<=n&&(t.expiredLanes|=R),p&=~R}if(n=ee,u=se,u=Cn(t,t===n?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,u===0||t===n&&(Se===2||Se===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ze(o),t.callbackNode=null,t.callbackPriority=0;if((u&3)===0||ha(t,u)){if(n=u&-u,n===t.callbackPriority)return n;switch(o!==null&&Ze(o),sl(u)){case 2:case 8:u=Le;break;case 32:u=Je;break;case 268435456:u=ll;break;default:u=Je}return o=ps.bind(null,t),u=Ce(u,o),t.callbackPriority=n,t.callbackNode=u,n}return o!==null&&o!==null&&Ze(o),t.callbackPriority=2,t.callbackNode=null,2}function ps(t,n){if(we!==0&&we!==5)return t.callbackNode=null,t.callbackPriority=0,null;var u=t.callbackNode;if(Vu()&&t.callbackNode!==u)return null;var o=se;return o=Cn(t,t===ee?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(de(t,o,n),Ku(t,Qt()),t.callbackNode!=null&&t.callbackNode===u?ps.bind(null,t):null)}function nt(t,n){if(Vu())return null;de(t,n,!0)}function W(){Cy(function(){(Xt&6)!==0?Ce(Ra,ne):Zn()})}function ut(){if(Mt===0){var t=Si;t===0&&(t=iu,iu<<=1,(iu&261888)===0&&(iu=256)),Mt=t}return Mt}function Et(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:mr(""+t)}function It(t,n){var u=n.ownerDocument.createElement("input");return u.name=n.name,u.value=n.value,t.id&&u.setAttribute("form",t.id),n.parentNode.insertBefore(u,n),t=new FormData(t),u.parentNode.removeChild(u),t}function dn(t,n,u,o,g){if(n==="submit"&&u&&u.stateNode===g){var p=Et((g[la]||null).action),C=o.submitter;C&&(n=(n=C[la]||null)?Et(n.formAction):C.getAttribute("formAction"),n!==null&&(p=n,C=null));var R=new pr("action","action",null,o,g);t.push({event:R,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Mt!==0){var q=C?It(g,C):new FormData(g);Vf(u,{pending:!0,data:q,method:g.method,action:p},null,q)}}else typeof p=="function"&&(R.preventDefault(),q=C?It(g,C):new FormData(g),Vf(u,{pending:!0,data:q,method:g.method,action:p},p,q))},currentTarget:g}]})}}for(var Wt=0;Wt<Ar.length;Wt++){var xe=Ar[Wt],Jn=xe.toLowerCase(),Me=xe[0].toUpperCase()+xe.slice(1);cl(Jn,"on"+Me)}cl(Bo,"onAnimationEnd"),cl(Tr,"onAnimationIteration"),cl(mf,"onAnimationStart"),cl("dblclick","onDoubleClick"),cl("focusin","onFocus"),cl("focusout","onBlur"),cl(Eh,"onTransitionRun"),cl(H1,"onTransitionStart"),cl(Th,"onTransitionCancel"),cl(gf,"onTransitionEnd"),Ka("onMouseEnter",["mouseout","mouseover"]),Ka("onMouseLeave",["mouseout","mouseover"]),Ka("onPointerEnter",["pointerout","pointerover"]),Ka("onPointerLeave",["pointerout","pointerover"]),Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Dm(t,n){n=(n&4)!==0;for(var u=0;u<t.length;u++){var o=t[u],g=o.event;o=o.listeners;t:{var p=void 0;if(n)for(var C=o.length-1;0<=C;C--){var R=o[C],q=R.instance,et=R.currentTarget;if(R=R.listener,q!==p&&g.isPropagationStopped())break t;p=R,g.currentTarget=et;try{p(g)}catch(ft){Mr(ft)}g.currentTarget=null,p=q}else for(C=0;C<o.length;C++){if(R=o[C],q=R.instance,et=R.currentTarget,R=R.listener,q!==p&&g.isPropagationStopped())break t;p=R,g.currentTarget=et;try{p(g)}catch(ft){Mr(ft)}g.currentTarget=null,p=q}}}}function be(t,n){var u=n[Bl];u===void 0&&(u=n[Bl]=new Set);var o=t+"__bubble";u.has(o)||(Om(n,t,2,!1),u.add(o))}function V1(t,n,u){var o=0;n&&(o|=4),Om(u,t,o,n)}var x0="_reactListening"+Math.random().toString(36).slice(2);function K1(t){if(!t[x0]){t[x0]=!0,fi.forEach(function(u){u!=="selectionchange"&&(Q1.has(u)||V1(u,!1,t),V1(u,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[x0]||(n[x0]=!0,V1("selectionchange",!1,n))}}function Om(t,n,u,o){switch(sg(n)){case 2:var g=Qy;break;case 8:g=Vy;break;default:g=s2}u=g.bind(null,n,u,t),g=void 0,!Ic||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),o?g!==void 0?t.addEventListener(n,u,{capture:!0,passive:g}):t.addEventListener(n,u,!0):g!==void 0?t.addEventListener(n,u,{passive:g}):t.addEventListener(n,u,!1)}function Z1(t,n,u,o,g){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var C=o.tag;if(C===3||C===4){var R=o.stateNode.containerInfo;if(R===g)break;if(C===4)for(C=o.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===g)return;C=C.return}for(;R!==null;){if(C=xs(R),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){o=p=C;continue t}R=R.parentNode}}o=o.return}Fc(function(){var et=p,ft=_o(u),mt=[];t:{var lt=ol.get(t);if(lt!==void 0){var ot=pr,jt=t;switch(t){case"keypress":if(vr(u)===0)break t;case"keydown":case"keyup":ot=As;break;case"focusin":jt="focus",ot=Ao;break;case"focusout":jt="blur",ot=Ao;break;case"beforeblur":case"afterblur":ot=Ao;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=ch;break;case Bo:case Tr:case mf:ot=O1;break;case gf:ot=w1;break;case"scroll":case"scrollend":ot=nh;break;case"wheel":ot=dh;break;case"copy":case"cut":case"paste":ot=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=$c;break;case"toggle":case"beforetoggle":ot=mh}var Pt=(n&4)!==0,Ke=!Pt&&(t==="scroll"||t==="scrollend"),k=Pt?lt!==null?lt+"Capture":null:lt;Pt=[];for(var V=et,tt;V!==null;){var dt=V;if(tt=dt.stateNode,dt=dt.tag,dt!==5&&dt!==26&&dt!==27||tt===null||k===null||(dt=ou(V,k),dt!=null&&Pt.push(od(V,dt,tt))),Ke)break;V=V.return}0<Pt.length&&(lt=new ot(lt,jt,null,u,ft),mt.push({event:lt,listeners:Pt}))}}if((n&7)===0){t:{if(lt=t==="mouseover"||t==="pointerover",ot=t==="mouseout"||t==="pointerout",lt&&u!==xo&&(jt=u.relatedTarget||u.fromElement)&&(xs(jt)||jt[Yi]))break t;if((ot||lt)&&(lt=ft.window===ft?ft:(lt=ft.ownerDocument)?lt.defaultView||lt.parentWindow:window,ot?(jt=u.relatedTarget||u.toElement,ot=et,jt=jt?xs(jt):null,jt!==null&&(Ke=d(jt),Pt=jt.tag,jt!==Ke||Pt!==5&&Pt!==27&&Pt!==6)&&(jt=null)):(ot=null,jt=et),ot!==jt)){if(Pt=kc,dt="onMouseLeave",k="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Pt=$c,dt="onPointerLeave",k="onPointerEnter",V="pointer"),Ke=ot==null?lt:su(ot),tt=jt==null?lt:su(jt),lt=new Pt(dt,V+"leave",ot,u,ft),lt.target=Ke,lt.relatedTarget=tt,dt=null,xs(ft)===et&&(Pt=new Pt(k,V+"enter",jt,u,ft),Pt.target=tt,Pt.relatedTarget=Ke,dt=Pt),Ke=dt,ot&&jt)e:{for(Pt=vy,k=ot,V=jt,tt=0,dt=k;dt;dt=Pt(dt))tt++;dt=0;for(var Ft=V;Ft;Ft=Pt(Ft))dt++;for(;0<tt-dt;)k=Pt(k),tt--;for(;0<dt-tt;)V=Pt(V),dt--;for(;tt--;){if(k===V||V!==null&&k===V.alternate){Pt=k;break e}k=Pt(k),V=Pt(V)}Pt=null}else Pt=null;ot!==null&&zm(mt,lt,ot,Pt,!1),jt!==null&&Ke!==null&&zm(mt,Ke,jt,Pt,!0)}}t:{if(lt=et?su(et):window,ot=lt.nodeName&&lt.nodeName.toLowerCase(),ot==="select"||ot==="input"&&lt.type==="file")var Ne=uf;else if(sf(lt))if(jl)Ne=xh;else{Ne=cf;var qt=Sh}else ot=lt.nodeName,!ot||ot.toLowerCase()!=="input"||lt.type!=="checkbox"&&lt.type!=="radio"?et&&bo(et.elementType)&&(Ne=uf):Ne=bh;if(Ne&&(Ne=Ne(t,et))){wo(mt,Ne,u,ft);break t}qt&&qt(t,lt,et),t==="focusout"&&et&&lt.type==="number"&&et.memoizedProps.value!=null&&Ml(lt,"number",lt.value)}switch(qt=et?su(et):window,t){case"focusin":(sf(qt)||qt.contentEditable==="true")&&(Ll=qt,Yl=et,Su=null);break;case"focusout":Su=Yl=Ll=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,bu(mt,u,ft);break;case"selectionchange":if(Ch)break;case"keydown":case"keyup":bu(mt,u,ft)}var ce;if(Ms)t:{switch(t){case"compositionstart":var _e="onCompositionStart";break t;case"compositionend":_e="onCompositionEnd";break t;case"compositionupdate":_e="onCompositionUpdate";break t}_e=void 0}else Rs?zo(t,u)&&(_e="onCompositionEnd"):t==="keydown"&&u.keyCode===229&&(_e="onCompositionStart");_e&&(ef&&u.locale!=="ko"&&(Rs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Rs&&(ce=gr()):(Ja=ft,Eo="value"in Ja?Ja.value:Ja.textContent,Rs=!0)),qt=_0(et,_e),0<qt.length&&(_e=new Mo(_e,t,null,u,ft),mt.push({event:_e,listeners:qt}),ce?_e.data=ce:(ce=nf(u),ce!==null&&(_e.data=ce)))),(ce=Oo?ph(t,u):af(t,u))&&(_e=_0(et,"onBeforeInput"),0<_e.length&&(qt=new Mo("onBeforeInput","beforeinput",null,u,ft),mt.push({event:qt,listeners:_e}),qt.data=ce)),dn(mt,t,et,u,ft)}Dm(mt,n)})}function od(t,n,u){return{instance:t,listener:n,currentTarget:u}}function _0(t,n){for(var u=n+"Capture",o=[];t!==null;){var g=t,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=ou(t,u),g!=null&&o.unshift(od(t,g,p)),g=ou(t,n),g!=null&&o.push(od(t,g,p))),t.tag===3)return o;t=t.return}return[]}function vy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zm(t,n,u,o,g){for(var p=n._reactName,C=[];u!==null&&u!==o;){var R=u,q=R.alternate,et=R.stateNode;if(R=R.tag,q!==null&&q===o)break;R!==5&&R!==26&&R!==27||et===null||(q=et,g?(et=ou(u,p),et!=null&&C.unshift(od(u,et,q))):g||(et=ou(u,p),et!=null&&C.push(od(u,et,q)))),u=u.return}C.length!==0&&t.push({event:n,listeners:C})}var py=/\r\n?/g,yy=/\u0000|\uFFFD/g;function wm(t){return(typeof t=="string"?t:""+t).replace(py,`
`).replace(yy,"")}function Hm(t,n){return n=wm(n),wm(t)===n}function Ve(t,n,u,o,g,p){switch(u){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Cs(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Cs(t,""+o);break;case"className":dr(t,"class",o);break;case"tabIndex":dr(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dr(t,u,o);break;case"style":Kc(t,o,p);break;case"data":if(n!=="object"){dr(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||u!=="href")){t.removeAttribute(u);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(u);break}o=mr(""+o),t.setAttribute(u,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(u==="formAction"?(n!=="input"&&Ve(t,n,"name",g.name,g,null),Ve(t,n,"formEncType",g.formEncType,g,null),Ve(t,n,"formMethod",g.formMethod,g,null),Ve(t,n,"formTarget",g.formTarget,g,null)):(Ve(t,n,"encType",g.encType,g,null),Ve(t,n,"method",g.method,g,null),Ve(t,n,"target",g.target,g,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(u);break}o=mr(""+o),t.setAttribute(u,o);break;case"onClick":o!=null&&(t.onclick=hi);break;case"onScroll":o!=null&&be("scroll",t);break;case"onScrollEnd":o!=null&&be("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(u=o.__html,u!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=u}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}u=mr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(u,""+o):t.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(u,""):t.removeAttribute(u);break;case"capture":case"download":o===!0?t.setAttribute(u,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(u,o):t.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(u,o):t.removeAttribute(u);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(u):t.setAttribute(u,o);break;case"popover":be("beforetoggle",t),be("toggle",t),uu(t,"popover",o);break;case"xlinkActuate":Gl(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Gl(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Gl(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Gl(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Gl(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Gl(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Gl(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Gl(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Gl(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":uu(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=th.get(u)||u,uu(t,u,o))}}function J1(t,n,u,o,g,p){switch(u){case"style":Kc(t,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(u=o.__html,u!=null){if(g.children!=null)throw Error(r(60));t.innerHTML=u}}break;case"children":typeof o=="string"?Cs(t,o):(typeof o=="number"||typeof o=="bigint")&&Cs(t,""+o);break;case"onScroll":o!=null&&be("scroll",t);break;case"onScrollEnd":o!=null&&be("scrollend",t);break;case"onClick":o!=null&&(t.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mo.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(g=u.endsWith("Capture"),n=u.slice(2,g?u.length-7:void 0),p=t[la]||null,p=p!=null?p[u]:null,typeof p=="function"&&t.removeEventListener(n,p,g),typeof o=="function")){typeof p!="function"&&p!==null&&(u in t?t[u]=null:t.hasAttribute(u)&&t.removeAttribute(u)),t.addEventListener(n,o,g);break t}u in t?t[u]=o:o===!0?t.setAttribute(u,""):uu(t,u,o)}}}function Ma(t,n,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":be("error",t),be("load",t);var o=!1,g=!1,p;for(p in u)if(u.hasOwnProperty(p)){var C=u[p];if(C!=null)switch(p){case"src":o=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(t,n,p,C,u,null)}}g&&Ve(t,n,"srcSet",u.srcSet,u,null),o&&Ve(t,n,"src",u.src,u,null);return;case"input":be("invalid",t);var R=p=C=g=null,q=null,et=null;for(o in u)if(u.hasOwnProperty(o)){var ft=u[o];if(ft!=null)switch(o){case"name":g=ft;break;case"type":C=ft;break;case"checked":q=ft;break;case"defaultChecked":et=ft;break;case"value":p=ft;break;case"defaultValue":R=ft;break;case"children":case"dangerouslySetInnerHTML":if(ft!=null)throw Error(r(137,n));break;default:Ve(t,n,o,ft,u,null)}}po(t,p,R,q,et,C,g,!1);return;case"select":be("invalid",t),o=C=p=null;for(g in u)if(u.hasOwnProperty(g)&&(R=u[g],R!=null))switch(g){case"value":p=R;break;case"defaultValue":C=R;break;case"multiple":o=R;default:Ve(t,n,g,R,u,null)}n=p,u=C,t.multiple=!!o,n!=null?di(t,!!o,n,!1):u!=null&&di(t,!!o,u,!0);return;case"textarea":be("invalid",t),p=g=o=null;for(C in u)if(u.hasOwnProperty(C)&&(R=u[C],R!=null))switch(C){case"value":o=R;break;case"defaultValue":g=R;break;case"children":p=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Ve(t,n,C,R,u,null)}So(t,o,g,p);return;case"option":for(q in u)u.hasOwnProperty(q)&&(o=u[q],o!=null)&&(q==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":Ve(t,n,q,o,u,null));return;case"dialog":be("beforetoggle",t),be("toggle",t),be("cancel",t),be("close",t);break;case"iframe":case"object":be("load",t);break;case"video":case"audio":for(o=0;o<Tl.length;o++)be(Tl[o],t);break;case"image":be("error",t),be("load",t);break;case"details":be("toggle",t);break;case"embed":case"source":case"link":be("error",t),be("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(et in u)if(u.hasOwnProperty(et)&&(o=u[et],o!=null))switch(et){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ve(t,n,et,o,u,null)}return;default:if(bo(n)){for(ft in u)u.hasOwnProperty(ft)&&(o=u[ft],o!==void 0&&J1(t,n,ft,o,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(o=u[R],o!=null&&Ve(t,n,R,o,u,null))}function Sy(t,n,u,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,C=null,R=null,q=null,et=null,ft=null;for(ot in u){var mt=u[ot];if(u.hasOwnProperty(ot)&&mt!=null)switch(ot){case"checked":break;case"value":break;case"defaultValue":q=mt;default:o.hasOwnProperty(ot)||Ve(t,n,ot,null,o,mt)}}for(var lt in o){var ot=o[lt];if(mt=u[lt],o.hasOwnProperty(lt)&&(ot!=null||mt!=null))switch(lt){case"type":p=ot;break;case"name":g=ot;break;case"checked":et=ot;break;case"defaultChecked":ft=ot;break;case"value":C=ot;break;case"defaultValue":R=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(r(137,n));break;default:ot!==mt&&Ve(t,n,lt,ot,o,mt)}}ru(t,C,R,q,et,ft,p,g);return;case"select":ot=C=R=lt=null;for(p in u)if(q=u[p],u.hasOwnProperty(p)&&q!=null)switch(p){case"value":break;case"multiple":ot=q;default:o.hasOwnProperty(p)||Ve(t,n,p,null,o,q)}for(g in o)if(p=o[g],q=u[g],o.hasOwnProperty(g)&&(p!=null||q!=null))switch(g){case"value":lt=p;break;case"defaultValue":R=p;break;case"multiple":C=p;default:p!==q&&Ve(t,n,g,p,o,q)}n=R,u=C,o=ot,lt!=null?di(t,!!u,lt,!1):!!o!=!!u&&(n!=null?di(t,!!u,n,!0):di(t,!!u,u?[]:"",!1));return;case"textarea":ot=lt=null;for(R in u)if(g=u[R],u.hasOwnProperty(R)&&g!=null&&!o.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ve(t,n,R,null,o,g)}for(C in o)if(g=o[C],p=u[C],o.hasOwnProperty(C)&&(g!=null||p!=null))switch(C){case"value":lt=g;break;case"defaultValue":ot=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==p&&Ve(t,n,C,g,o,p)}yo(t,lt,ot);return;case"option":for(var jt in u)lt=u[jt],u.hasOwnProperty(jt)&&lt!=null&&!o.hasOwnProperty(jt)&&(jt==="selected"?t.selected=!1:Ve(t,n,jt,null,o,lt));for(q in o)lt=o[q],ot=u[q],o.hasOwnProperty(q)&&lt!==ot&&(lt!=null||ot!=null)&&(q==="selected"?t.selected=lt&&typeof lt!="function"&&typeof lt!="symbol":Ve(t,n,q,lt,o,ot));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in u)lt=u[Pt],u.hasOwnProperty(Pt)&&lt!=null&&!o.hasOwnProperty(Pt)&&Ve(t,n,Pt,null,o,lt);for(et in o)if(lt=o[et],ot=u[et],o.hasOwnProperty(et)&&lt!==ot&&(lt!=null||ot!=null))switch(et){case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(r(137,n));break;default:Ve(t,n,et,lt,o,ot)}return;default:if(bo(n)){for(var Ke in u)lt=u[Ke],u.hasOwnProperty(Ke)&&lt!==void 0&&!o.hasOwnProperty(Ke)&&J1(t,n,Ke,void 0,o,lt);for(ft in o)lt=o[ft],ot=u[ft],!o.hasOwnProperty(ft)||lt===ot||lt===void 0&&ot===void 0||J1(t,n,ft,lt,o,ot);return}}for(var k in u)lt=u[k],u.hasOwnProperty(k)&&lt!=null&&!o.hasOwnProperty(k)&&Ve(t,n,k,null,o,lt);for(mt in o)lt=o[mt],ot=u[mt],!o.hasOwnProperty(mt)||lt===ot||lt==null&&ot==null||Ve(t,n,mt,lt,o,ot)}function Bm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function by(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,u=performance.getEntriesByType("resource"),o=0;o<u.length;o++){var g=u[o],p=g.transferSize,C=g.initiatorType,R=g.duration;if(p&&R&&Bm(C)){for(C=0,R=g.responseEnd,o+=1;o<u.length;o++){var q=u[o],et=q.startTime;if(et>R)break;var ft=q.transferSize,mt=q.initiatorType;ft&&Bm(mt)&&(q=q.responseEnd,C+=ft*(q<R?1:(R-et)/(q-et)))}if(--o,n+=8*(p+C)/(g.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var F1=null,I1=null;function C0(t){return t.nodeType===9?t:t.ownerDocument}function Gm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Um(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function k1(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var W1=null;function xy(){var t=window.event;return t&&t.type==="popstate"?t===W1?!1:(W1=t,!0):(W1=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,_y=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,Cy=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(Ey)}:jm;function Ey(t){setTimeout(function(){throw t})}function Zu(t){return t==="head"}function Ym(t,n){var u=n,o=0;do{var g=u.nextSibling;if(t.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"||u==="/&"){if(o===0){t.removeChild(g),Ac(n);return}o--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")o++;else if(u==="html")cd(t.ownerDocument.documentElement);else if(u==="head"){u=t.ownerDocument.head,cd(u);for(var p=u.firstChild;p;){var C=p.nextSibling,R=p.nodeName;p[ci]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&p.rel.toLowerCase()==="stylesheet"||u.removeChild(p),p=C}}else u==="body"&&cd(t.ownerDocument.body);u=g}while(u);Ac(n)}function qm(t,n){var u=t;t=0;do{var o=u.nextSibling;if(u.nodeType===1?n?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(n?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),o&&o.nodeType===8)if(u=o.data,u==="/$"){if(t===0)break;t--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||t++;u=o}while(u)}function P1(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var u=n;switch(n=n.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":P1(u),bs(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}t.removeChild(u)}}function Ty(t,n,u,o){for(;t.nodeType===1;){var g=u;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[ci])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==g.rel||t.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||t.getAttribute("title")!==(g.title==null?null:g.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(g.src==null?null:g.src)||t.getAttribute("type")!==(g.type==null?null:g.type)||t.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function Ay(t,n,u){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!u||(t=ii(t.nextSibling),t===null))return null;return t}function Xm(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=ii(t.nextSibling),t===null))return null;return t}function $1(t){return t.data==="$?"||t.data==="$~"}function t2(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function My(t,n){var u=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||u.readyState!=="loading")n();else{var o=function(){n(),u.removeEventListener("DOMContentLoaded",o)};u.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function ii(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var e2=null;function Qm(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var u=t.data;if(u==="/$"||u==="/&"){if(n===0)return ii(t.nextSibling);n--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||n++}t=t.nextSibling}return null}function Vm(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var u=t.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(n===0)return t;n--}else u!=="/$"&&u!=="/&"||n++}t=t.previousSibling}return null}function Km(t,n,u){switch(n=C0(u),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function cd(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);bs(t)}var si=new Map,Zm=new Set;function E0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ps=Q.d;Q.d={f:Ry,r:Ny,D:Dy,C:Oy,L:zy,m:wy,X:By,S:Hy,M:Gy};function Ry(){var t=Ps.f(),n=zl();return t||n}function Ny(t){var n=_s(t);n!==null&&n.tag===5&&n.type==="form"?s0(n):Ps.r(t)}var Cc=typeof document>"u"?null:document;function Jm(t,n,u){var o=Cc;if(o&&typeof n=="string"&&n){var g=sa(n);g='link[rel="'+t+'"][href="'+g+'"]',typeof u=="string"&&(g+='[crossorigin="'+u+'"]'),Zm.has(g)||(Zm.add(g),t={rel:t,crossOrigin:u,href:n},o.querySelector(g)===null&&(n=o.createElement("link"),Ma(n,"link",t),On(n),o.head.appendChild(n)))}}function Dy(t){Ps.D(t),Jm("dns-prefetch",t,null)}function Oy(t,n){Ps.C(t,n),Jm("preconnect",t,n)}function zy(t,n,u){Ps.L(t,n,u);var o=Cc;if(o&&t&&n){var g='link[rel="preload"][as="'+sa(n)+'"]';n==="image"&&u&&u.imageSrcSet?(g+='[imagesrcset="'+sa(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(g+='[imagesizes="'+sa(u.imageSizes)+'"]')):g+='[href="'+sa(t)+'"]';var p=g;switch(n){case"style":p=Ec(t);break;case"script":p=Tc(t)}si.has(p)||(t=E({rel:"preload",href:n==="image"&&u&&u.imageSrcSet?void 0:t,as:n},u),si.set(p,t),o.querySelector(g)!==null||n==="style"&&o.querySelector(fd(p))||n==="script"&&o.querySelector(dd(p))||(n=o.createElement("link"),Ma(n,"link",t),On(n),o.head.appendChild(n)))}}function wy(t,n){Ps.m(t,n);var u=Cc;if(u&&t){var o=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+sa(o)+'"][href="'+sa(t)+'"]',p=g;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Tc(t)}if(!si.has(p)&&(t=E({rel:"modulepreload",href:t},n),si.set(p,t),u.querySelector(g)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(dd(p)))return}o=u.createElement("link"),Ma(o,"link",t),On(o),u.head.appendChild(o)}}}function Hy(t,n,u){Ps.S(t,n,u);var o=Cc;if(o&&t){var g=Xi(o).hoistableStyles,p=Ec(t);n=n||"default";var C=g.get(p);if(!C){var R={loading:0,preload:null};if(C=o.querySelector(fd(p)))R.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},u),(u=si.get(p))&&n2(t,u);var q=C=o.createElement("link");On(q),Ma(q,"link",t),q._p=new Promise(function(et,ft){q.onload=et,q.onerror=ft}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,T0(C,n,o)}C={type:"stylesheet",instance:C,count:1,state:R},g.set(p,C)}}}function By(t,n){Ps.X(t,n);var u=Cc;if(u&&t){var o=Xi(u).hoistableScripts,g=Tc(t),p=o.get(g);p||(p=u.querySelector(dd(g)),p||(t=E({src:t,async:!0},n),(n=si.get(g))&&a2(t,n),p=u.createElement("script"),On(p),Ma(p,"link",t),u.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(g,p))}}function Gy(t,n){Ps.M(t,n);var u=Cc;if(u&&t){var o=Xi(u).hoistableScripts,g=Tc(t),p=o.get(g);p||(p=u.querySelector(dd(g)),p||(t=E({src:t,async:!0,type:"module"},n),(n=si.get(g))&&a2(t,n),p=u.createElement("script"),On(p),Ma(p,"link",t),u.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(g,p))}}function Fm(t,n,u,o){var g=(g=At.current)?E0(g):null;if(!g)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(n=Ec(u.href),u=Xi(g).hoistableStyles,o=u.get(n),o||(o={type:"style",instance:null,count:0,state:null},u.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){t=Ec(u.href);var p=Xi(g).hoistableStyles,C=p.get(t);if(C||(g=g.ownerDocument||g,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,C),(p=g.querySelector(fd(t)))&&!p._p&&(C.instance=p,C.state.loading=5),si.has(t)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},si.set(t,u),p||Uy(g,t,u,C.state))),n&&o===null)throw Error(r(528,""));return C}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=u.async,u=u.src,typeof u=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Tc(u),u=Xi(g).hoistableScripts,o=u.get(n),o||(o={type:"script",instance:null,count:0,state:null},u.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Ec(t){return'href="'+sa(t)+'"'}function fd(t){return'link[rel="stylesheet"]['+t+"]"}function Im(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function Uy(t,n,u,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ma(n,"link",u),On(n),t.head.appendChild(n))}function Tc(t){return'[src="'+sa(t)+'"]'}function dd(t){return"script[async]"+t}function km(t,n,u){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+sa(u.href)+'"]');if(o)return n.instance=o,On(o),o;var g=E({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),On(o),Ma(o,"style",g),T0(o,u.precedence,t),n.instance=o;case"stylesheet":g=Ec(u.href);var p=t.querySelector(fd(g));if(p)return n.state.loading|=4,n.instance=p,On(p),p;o=Im(u),(g=si.get(g))&&n2(o,g),p=(t.ownerDocument||t).createElement("link"),On(p);var C=p;return C._p=new Promise(function(R,q){C.onload=R,C.onerror=q}),Ma(p,"link",o),n.state.loading|=4,T0(p,u.precedence,t),n.instance=p;case"script":return p=Tc(u.src),(g=t.querySelector(dd(p)))?(n.instance=g,On(g),g):(o=u,(g=si.get(p))&&(o=E({},u),a2(o,g)),t=t.ownerDocument||t,g=t.createElement("script"),On(g),Ma(g,"link",o),t.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,T0(o,u.precedence,t));return n.instance}function T0(t,n,u){for(var o=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=o.length?o[o.length-1]:null,p=g,C=0;C<o.length;C++){var R=o[C];if(R.dataset.precedence===n)p=R;else if(p!==g)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=u.nodeType===9?u.head:u,n.insertBefore(t,n.firstChild))}function n2(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function a2(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var A0=null;function Wm(t,n,u){if(A0===null){var o=new Map,g=A0=new Map;g.set(u,o)}else g=A0,o=g.get(u),o||(o=new Map,g.set(u,o));if(o.has(t))return o;for(o.set(t,null),u=u.getElementsByTagName(t),g=0;g<u.length;g++){var p=u[g];if(!(p[ci]||p[Dn]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var C=p.getAttribute(n)||"";C=t+C;var R=o.get(C);R?R.push(p):o.set(C,[p])}}return o}function Pm(t,n,u){t=t.ownerDocument||t,t.head.insertBefore(u,n==="title"?t.querySelector("head > title"):null)}function jy(t,n,u){if(u===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function $m(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ly(t,n,u,o){if(u.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var g=Ec(o.href),p=n.querySelector(fd(g));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=M0.bind(t),n.then(t,t)),u.state.loading|=4,u.instance=p,On(p);return}p=n.ownerDocument||n,o=Im(o),(g=si.get(g))&&n2(o,g),p=p.createElement("link"),On(p);var C=p;C._p=new Promise(function(R,q){C.onload=R,C.onerror=q}),Ma(p,"link",o),u.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(u,n),(n=u.state.preload)&&(u.state.loading&3)===0&&(t.count++,u=M0.bind(t),n.addEventListener("load",u),n.addEventListener("error",u))}}var l2=0;function Yy(t,n){return t.stylesheets&&t.count===0&&N0(t,t.stylesheets),0<t.count||0<t.imgCount?function(u){var o=setTimeout(function(){if(t.stylesheets&&N0(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&l2===0&&(l2=62500*by());var g=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&N0(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>l2?50:800)+n);return t.unsuspend=u,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(g)}}:null}function M0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)N0(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var R0=null;function N0(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,R0=new Map,n.forEach(qy,t),R0=null,M0.call(t))}function qy(t,n){if(!(n.state.loading&4)){var u=R0.get(t);if(u)var o=u.get(null);else{u=new Map,R0.set(t,u);for(var g=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var C=g[p];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),o=C)}o&&u.set(null,o)}g=n.instance,C=g.getAttribute("data-precedence"),p=u.get(C)||o,p===o&&u.set(null,g),u.set(C,g),this.count++,o=M0.bind(this),g.addEventListener("load",o),g.addEventListener("error",o),p?p.parentNode.insertBefore(g,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(g,t.firstChild)),n.state.loading|=4}}var hd={$$typeof:L,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function Xy(t,n,u,o,g,p,C,R,q){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=o,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function tg(t,n,u,o,g,p,C,R,q,et,ft,mt){return t=new Xy(t,n,u,C,q,et,ft,mt,R),n=1,p===!0&&(n|=24),p=sn(3,null,null,n),t.current=p,p.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:u,cache:n},Hr(p),t}function eg(t){return t?(t=Fi,t):Fi}function ng(t,n,u,o,g,p){g=eg(g),o.context===null?o.context=g:o.pendingContext=g,o=xi(n),o.payload={element:u},p=p===void 0?null:p,p!==null&&(o.callback=p),u=ns(t,o,n),u!==null&&(oe(u,t,n),as(u,t,n))}function ag(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var u=t.retryLane;t.retryLane=u!==0&&u<n?u:n}}function i2(t,n){ag(t,n),(t=t.alternate)&&ag(t,n)}function lg(t){if(t.tag===13||t.tag===31){var n=Sa(t,67108864);n!==null&&oe(n,t,67108864),i2(t,67108864)}}function ig(t){if(t.tag===13||t.tag===31){var n=nl();n=il(n);var u=Sa(t,n);u!==null&&oe(u,t,n),i2(t,n)}}var D0=!0;function Qy(t,n,u,o){var g=D.T;D.T=null;var p=Q.p;try{Q.p=2,s2(t,n,u,o)}finally{Q.p=p,D.T=g}}function Vy(t,n,u,o){var g=D.T;D.T=null;var p=Q.p;try{Q.p=8,s2(t,n,u,o)}finally{Q.p=p,D.T=g}}function s2(t,n,u,o){if(D0){var g=u2(o);if(g===null)Z1(t,n,o,O0,u),ug(t,o);else if(Zy(g,t,n,u,o))o.stopPropagation();else if(ug(t,o),n&4&&-1<Ky.indexOf(t)){for(;g!==null;){var p=_s(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var C=gn(p.pendingLanes);if(C!==0){var R=p;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var q=1<<31-na(C);R.entanglements[1]|=q,C&=~q}bt(p),(Xt&6)===0&&(Mn=Qt()+500,Gt(0))}}break;case 31:case 13:R=Sa(p,2),R!==null&&oe(R,p,2),zl(),i2(p,2)}if(p=u2(o),p===null&&Z1(t,n,o,O0,u),p===g)break;g=p}g!==null&&o.stopPropagation()}else Z1(t,n,o,null,u)}}function u2(t){return t=_o(t),r2(t)}var O0=null;function r2(t){if(O0=null,t=xs(t),t!==null){var n=d(t);if(n===null)t=null;else{var u=n.tag;if(u===13){if(t=h(n),t!==null)return t;t=null}else if(u===31){if(t=v(n),t!==null)return t;t=null}else if(u===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return O0=t,null}function sg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ke()){case Ra:return 2;case Le:return 8;case Je:case mn:return 32;case ll:return 268435456;default:return 32}default:return 32}}var o2=!1,Ju=null,Fu=null,Iu=null,md=new Map,gd=new Map,ku=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ug(t,n){switch(t){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":Fu=null;break;case"mouseover":case"mouseout":Iu=null;break;case"pointerover":case"pointerout":md.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gd.delete(n.pointerId)}}function vd(t,n,u,o,g,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:u,eventSystemFlags:o,nativeEvent:p,targetContainers:[g]},n!==null&&(n=_s(n),n!==null&&lg(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),t)}function Zy(t,n,u,o,g){switch(n){case"focusin":return Ju=vd(Ju,t,n,u,o,g),!0;case"dragenter":return Fu=vd(Fu,t,n,u,o,g),!0;case"mouseover":return Iu=vd(Iu,t,n,u,o,g),!0;case"pointerover":var p=g.pointerId;return md.set(p,vd(md.get(p)||null,t,n,u,o,g)),!0;case"gotpointercapture":return p=g.pointerId,gd.set(p,vd(gd.get(p)||null,t,n,u,o,g)),!0}return!1}function rg(t){var n=xs(t.target);if(n!==null){var u=d(n);if(u!==null){if(n=u.tag,n===13){if(n=h(u),n!==null){t.blockedOn=n,Na(t.priority,function(){ig(u)});return}}else if(n===31){if(n=v(u),n!==null){t.blockedOn=n,Na(t.priority,function(){ig(u)});return}}else if(n===3&&u.stateNode.current.memoizedState.isDehydrated){t.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}t.blockedOn=null}function z0(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var u=u2(t.nativeEvent);if(u===null){u=t.nativeEvent;var o=new u.constructor(u.type,u);xo=o,u.target.dispatchEvent(o),xo=null}else return n=_s(u),n!==null&&lg(n),t.blockedOn=u,!1;n.shift()}return!0}function og(t,n,u){z0(t)&&u.delete(n)}function Jy(){o2=!1,Ju!==null&&z0(Ju)&&(Ju=null),Fu!==null&&z0(Fu)&&(Fu=null),Iu!==null&&z0(Iu)&&(Iu=null),md.forEach(og),gd.forEach(og)}function w0(t,n){t.blockedOn===n&&(t.blockedOn=null,o2||(o2=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Jy)))}var H0=null;function cg(t){H0!==t&&(H0=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){H0===t&&(H0=null);for(var n=0;n<t.length;n+=3){var u=t[n],o=t[n+1],g=t[n+2];if(typeof o!="function"){if(r2(o||u)===null)continue;break}var p=_s(u);p!==null&&(t.splice(n,3),n-=3,Vf(p,{pending:!0,data:g,method:u.method,action:o},o,g))}}))}function Ac(t){function n(q){return w0(q,t)}Ju!==null&&w0(Ju,t),Fu!==null&&w0(Fu,t),Iu!==null&&w0(Iu,t),md.forEach(n),gd.forEach(n);for(var u=0;u<ku.length;u++){var o=ku[u];o.blockedOn===t&&(o.blockedOn=null)}for(;0<ku.length&&(u=ku[0],u.blockedOn===null);)rg(u),u.blockedOn===null&&ku.shift();if(u=(t.ownerDocument||t).$$reactFormReplay,u!=null)for(o=0;o<u.length;o+=3){var g=u[o],p=u[o+1],C=g[la]||null;if(typeof p=="function")C||cg(u);else if(C){var R=null;if(p&&p.hasAttribute("formAction")){if(g=p,C=p[la]||null)R=C.formAction;else if(r2(g)!==null)continue}else R=C.action;typeof R=="function"?u[o+1]=R:(u.splice(o,3),o-=3),cg(u)}}}function fg(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(C){return g=C})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),o||setTimeout(u,20)}function u(){if(!o&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,g=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(u,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function c2(t){this._internalRoot=t}B0.prototype.render=c2.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var u=n.current,o=nl();ng(u,o,t,n,null,null)},B0.prototype.unmount=c2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ng(t.current,2,null,t,null,null),zl(),n[Yi]=null}};function B0(t){this._internalRoot=t}B0.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qa();t={blockedOn:null,target:t,priority:n};for(var u=0;u<ku.length&&n!==0&&n<ku[u].priority;u++);ku.splice(u,0,t),u===0&&rg(t)}};var dg=e.version;if(dg!=="19.2.3")throw Error(r(527,dg,"19.2.3"));Q.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=b(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Fy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G0.isDisabled&&G0.supportsFiber)try{ji=G0.inject(Fy),ea=G0}catch{}}return yd.createRoot=function(t,n){if(!c(t))throw Error(r(299));var u=!1,o="",g=h0,p=kf,C=Wf;return n!=null&&(n.unstable_strictMode===!0&&(u=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(C=n.onRecoverableError)),n=tg(t,1,!1,null,null,u,o,null,g,p,C,fg),t[Yi]=n.current,K1(t),new c2(n)},yd.hydrateRoot=function(t,n,u){if(!c(t))throw Error(r(299));var o=!1,g="",p=h0,C=kf,R=Wf,q=null;return u!=null&&(u.unstable_strictMode===!0&&(o=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(p=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.formState!==void 0&&(q=u.formState)),n=tg(t,1,!0,n,u??null,o,g,q,p,C,R,fg),n.context=eg(null),u=n.current,o=nl(),o=il(o),g=xi(o),g.callback=null,ns(u,g,o),u=o,n.current.lanes=u,qa(n,u),bt(n),t[Yi]=n.current,K1(t),new B0(n)},yd.version="19.2.3",yd}var _g;function n3(){if(_g)return h2.exports;_g=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),h2.exports=e3(),h2.exports}var a3=n3();const l3=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i3=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),Cg=s=>{const e=i3(s);return e.charAt(0).toUpperCase()+e.slice(1)},Yv=(...s)=>s.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),s3=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var u3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const r3=G.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:c="",children:d,iconNode:h,...v},y)=>G.createElement("svg",{ref:y,...u3,width:e,height:e,stroke:s,strokeWidth:r?Number(i)*24/Number(e):i,className:Yv("lucide",c),...!d&&!s3(v)&&{"aria-hidden":"true"},...v},[...h.map(([b,_])=>G.createElement(b,_)),...Array.isArray(d)?d:[d]]));const ys=(s,e)=>{const i=G.forwardRef(({className:r,...c},d)=>G.createElement(r3,{ref:d,iconNode:e,className:Yv(`lucide-${l3(Cg(s))}`,`lucide-${s}`,r),...c}));return i.displayName=Cg(s),i};const o3=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],qv=ys("folder-open",o3);const c3=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],f3=ys("link",c3);const d3=[["path",{d:"M5 12h14",key:"1ays0h"}]],h3=ys("minus",d3);const m3=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],g3=ys("pin",m3);const v3=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],p3=ys("refresh-cw",v3);const y3=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S3=ys("search",y3);const b3=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],x3=ys("settings-2",b3);const _3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],C3=ys("square",_3);const E3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],T3=ys("trash-2",E3);const A3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],um=ys("x",A3);function Xv(s){var e,i,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(e=0;e<c;e++)s[e]&&(i=Xv(s[e]))&&(r&&(r+=" "),r+=i)}else for(i in s)s[i]&&(r&&(r+=" "),r+=i);return r}function Eg(){for(var s,e,i=0,r="",c=arguments.length;i<c;i++)(s=arguments[i])&&(e=Xv(s))&&(r&&(r+=" "),r+=e);return r}const M3=Symbol(),rm=Symbol(),Md="a",Qv="f",Tg="p",Vv="c",Kv="t",om="h",wd="w",cm="o",fm="k";let R3=(s,e)=>new Proxy(s,e);const q2=Object.getPrototypeOf,X2=new WeakMap,Zv=s=>s&&(X2.has(s)?X2.get(s):q2(s)===Object.prototype||q2(s)===Array.prototype),s1=s=>typeof s=="object"&&s!==null,N3=s=>Object.values(Object.getOwnPropertyDescriptors(s)).some(e=>!e.configurable&&!e.writable),D3=s=>{if(Array.isArray(s))return Array.from(s);const e=Object.getOwnPropertyDescriptors(s);return Object.values(e).forEach(i=>{i.configurable=!0}),Object.create(q2(s),e)},O3=(s,e)=>{const i={[Qv]:e};let r=!1;const c=(v,y)=>{if(!r){let b=i[Md].get(s);if(b||(b={},i[Md].set(s,b)),v===wd)b[wd]=!0;else{let _=b[v];_||(_=new Set,b[v]=_),_.add(y)}}},d=()=>{r=!0,i[Md].delete(s)},h={get(v,y){return y===rm?s:(c(fm,y),Jv(Reflect.get(v,y),i[Md],i[Vv],i[Kv]))},has(v,y){return y===M3?(d(),!0):(c(om,y),Reflect.has(v,y))},getOwnPropertyDescriptor(v,y){return c(cm,y),Reflect.getOwnPropertyDescriptor(v,y)},ownKeys(v){return c(wd),Reflect.ownKeys(v)}};return e&&(h.set=h.deleteProperty=()=>!1),[h,i]},dm=s=>s[rm]||s,Jv=(s,e,i,r)=>{if(!Zv(s))return s;let c=r&&r.get(s);if(!c){const y=dm(s);N3(y)?c=[y,D3(y)]:c=[y],r?.set(s,c)}const[d,h]=c;let v=i&&i.get(d);return(!v||v[1][Qv]!==!!h)&&(v=O3(d,!!h),v[1][Tg]=R3(h||d,v[0]),i&&i.set(d,v)),v[1][Md]=e,v[1][Vv]=i,v[1][Kv]=r,v[1][Tg]},z3=(s,e)=>{const i=Reflect.ownKeys(s),r=Reflect.ownKeys(e);return i.length!==r.length||i.some((c,d)=>c!==r[d])},Fv=(s,e,i,r,c=Object.is)=>{if(c(s,e))return!1;if(!s1(s)||!s1(e))return!0;const d=i.get(dm(s));if(!d)return!0;if(r){if(r.get(s)===e)return!1;r.set(s,e)}let h=null;for(const v of d[om]||[])if(h=Reflect.has(s,v)!==Reflect.has(e,v),h)return h;if(d[wd]===!0){if(h=z3(s,e),h)return h}else for(const v of d[cm]||[]){const y=!!Reflect.getOwnPropertyDescriptor(s,v),b=!!Reflect.getOwnPropertyDescriptor(e,v);if(h=y!==b,h)return h}for(const v of d[fm]||[])if(h=Fv(s[v],e[v],i,r,c),h)return h;if(h===null)throw new Error("invalid used");return h},w3=s=>Zv(s)&&s[rm]||null,Ag=(s,e=!0)=>{X2.set(s,e)},H3=(s,e,i)=>{const r=[],c=new WeakSet,d=(h,v)=>{var y,b,_;if(c.has(h))return;s1(h)&&c.add(h);const E=s1(h)&&e.get(dm(h));if(E){if((y=E[om])===null||y===void 0||y.forEach(T=>{const N=`:has(${String(T)})`;r.push(v?[...v,N]:[N])}),E[wd]===!0){const T=":ownKeys";r.push(v?[...v,T]:[T])}else(b=E[cm])===null||b===void 0||b.forEach(T=>{const N=`:hasOwn(${String(T)})`;r.push(v?[...v,N]:[N])});(_=E[fm])===null||_===void 0||_.forEach(T=>{"value"in(Object.getOwnPropertyDescriptor(h,T)||{})&&d(h[T],v?[...v,T]:[T])})}else v&&r.push(v)};return d(s),r},u1={},hm=s=>typeof s=="object"&&s!==null,B3=s=>hm(s)&&!mm.has(s)&&(Array.isArray(s)||!(Symbol.iterator in s))&&!(s instanceof WeakMap)&&!(s instanceof WeakSet)&&!(s instanceof Error)&&!(s instanceof Number)&&!(s instanceof Date)&&!(s instanceof String)&&!(s instanceof RegExp)&&!(s instanceof ArrayBuffer)&&!(s instanceof Promise),Iv=(s,e)=>{const i=Mg.get(s);if(i?.[0]===e)return i[1];const r=Array.isArray(s)?[]:Object.create(Object.getPrototypeOf(s));return Ag(r,!0),Mg.set(s,[e,r]),Reflect.ownKeys(s).forEach(c=>{if(Object.getOwnPropertyDescriptor(r,c))return;const d=Reflect.get(s,c),{enumerable:h}=Reflect.getOwnPropertyDescriptor(s,c),v={value:d,enumerable:h,configurable:!0};if(mm.has(d))Ag(d,!1);else if(ao.has(d)){const[y,b]=ao.get(d);v.value=Iv(y,b())}Object.defineProperty(r,c,v)}),Object.preventExtensions(r)},G3=(s,e,i,r)=>({deleteProperty(c,d){Reflect.get(c,d),i(d);const h=Reflect.deleteProperty(c,d);return h&&r(void 0),h},set(c,d,h,v){const y=!s()&&Reflect.has(c,d),b=Reflect.get(c,d,v);if(y&&(Rg(b,h)||r1.has(h)&&Rg(b,r1.get(h))))return!0;i(d),hm(h)&&(h=w3(h)||h);const _=!ao.has(h)&&j3(h)?gm(h):h;return e(d,_),Reflect.set(c,d,_,v),r(void 0),!0}}),ao=new WeakMap,mm=new WeakSet,Mg=new WeakMap,p2=[1],r1=new WeakMap;let Rg=Object.is,U3=(s,e)=>new Proxy(s,e),j3=B3,L3=Iv,Y3=G3;function gm(s={}){if(!hm(s))throw new Error("object required");const e=r1.get(s);if(e)return e;let i=p2[0];const r=new Set,c=(w,U=++p2[0])=>{i!==U&&(d=i=U,r.forEach(H=>H(w,U)))};let d=i;const h=(w=p2[0])=>(d!==w&&(d=w,y.forEach(([U])=>{const H=U[1](w);H>i&&(i=H)})),i),v=w=>(U,H)=>{let L;U&&(L=[...U],L[1]=[w,...L[1]]),c(L,H)},y=new Map,b=(w,U)=>{const H=!mm.has(U)&&ao.get(U);if(H){if((u1?"production":void 0)!=="production"&&y.has(w))throw new Error("prop listener already exists");if(r.size){const L=H[2](v(w));y.set(w,[H,L])}else y.set(w,[H])}},_=w=>{var U;const H=y.get(w);H&&(y.delete(w),(U=H[1])==null||U.call(H))},E=w=>(r.add(w),r.size===1&&y.forEach(([H,L],z)=>{if((u1?"production":void 0)!=="production"&&L)throw new Error("remove already exists");const F=H[2](v(z));y.set(z,[H,F])}),()=>{r.delete(w),r.size===0&&y.forEach(([H,L],z)=>{L&&(L(),y.set(z,[H]))})});let T=!0;const N=Y3(()=>T,b,_,c),A=U3(s,N);r1.set(s,A);const B=[s,h,E];return ao.set(A,B),Reflect.ownKeys(s).forEach(w=>{const U=Object.getOwnPropertyDescriptor(s,w);"value"in U&&U.writable&&(A[w]=s[w])}),T=!1,A}function q3(s,e,i){const r=ao.get(s);(u1?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let c;const d=[],h=r[2];let v=!1;const b=h(_=>{_&&d.push(_),c||(c=Promise.resolve().then(()=>{c=void 0,v&&e(d.splice(0))}))});return v=!0,()=>{v=!1,b()}}function Ng(s){const e=ao.get(s);(u1?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[i,r]=e;return L3(i,r())}const X3={},Q3=(s,e)=>{const i=G.useRef(void 0);G.useEffect(()=>{i.current=H3(s,e)}),G.useDebugValue(i.current)},V3=Q3,K3=new WeakMap;function Uc(s,e){const r=G.useMemo(()=>s&&new WeakMap,[s]),c=G.useRef(void 0),d=G.useRef(!1),h=G.useSyncExternalStore(G.useCallback(y=>{d.current=!0;const b=q3(s,y);return y(),()=>{b(),d.current=!1}},[s,void 0]),()=>{const y=Ng(s);try{if(d.current&&c.current&&!Fv(c.current,y,r,new WeakMap))return c.current}catch{}return y},()=>Ng(s));G.useLayoutEffect(()=>{c.current=h}),(X3?"production":void 0)!=="production"&&V3(h,r);const v=G.useMemo(()=>new WeakMap,[]);return Jv(h,r,v,K3)}const Oe={primary:"#39c5bb",danger:"#ef4444",canvas:{selectionFill:"rgba(57, 197, 187, 0.2)"}},nr=(s,e)=>{const i=s.trim().replace("#","");if(i.length!==6)return null;const r=parseInt(i.slice(0,2),16),c=parseInt(i.slice(2,4),16),d=parseInt(i.slice(4,6),16);return isNaN(r)||isNaN(c)||isNaN(d)?null:`rgba(${r}, ${c}, ${d}, ${e})`},Z3=s=>{const e=s.trim();if(!e)return"image";const i=e.split(/[\\/]/).pop()||e,r=i.lastIndexOf(".");return r<=0?i:i.slice(0,r)||i},Sd=["#a855f7","#3b82f6","#06b6d4","#22c55e","#eab308","#f97316","#ef4444","#ec4899","#94a3b8","#ffffff","#0f172a"],J3=()=>{try{const s=localStorage.getItem("sidebarWidth");if(!s)return 320;const e=parseInt(s,10);return isNaN(e)?320:e}catch{return 320}},F3=()=>{try{const s=localStorage.getItem("tagColors");if(!s)return{};const e=JSON.parse(s);if(!e||typeof e!="object")return{};const i={};for(const[r,c]of Object.entries(e))typeof r=="string"&&typeof c=="string"&&r.trim()&&(i[r]=c);return i}catch{return{}}},kv=s=>typeof s!="string"?!1:/^#[0-9a-fA-F]{6}$/.test(s.trim())||/^#[0-9a-fA-F]{3}$/.test(s.trim()),Wv=s=>{const e=s.trim().toLowerCase();if(/^#[0-9a-f]{6}$/.test(e))return e;if(/^#[0-9a-f]{3}$/.test(e)){const i=e[1],r=e[2],c=e[3];return`#${i}${i}${r}${r}${c}${c}`}return Oe.primary},I3=()=>{try{const s=localStorage.getItem("colorSwatches");if(!s)return[...Sd];const e=JSON.parse(s);if(!Array.isArray(e))return[...Sd];const i=e.filter(kv).map(r=>Wv(r));return i.length===0?[...Sd]:i.slice(0,Sd.length)}catch{return[...Sd]}},k3=()=>{try{const s=localStorage.getItem("tagSortOrder");if(!s)return[];const e=JSON.parse(s);return Array.isArray(e)&&e.every(i=>typeof i=="string")?e:[]}catch{return[]}},Dg=s=>{try{localStorage.setItem("tagColors",JSON.stringify(s))}catch{}},W3=s=>{try{localStorage.setItem("tagSortOrder",JSON.stringify(s))}catch{}},P3=s=>{try{localStorage.setItem("colorSwatches",JSON.stringify(s))}catch{}},Pv=()=>{try{const s=localStorage.getItem("canvasBoardsMeta"),e=localStorage.getItem("canvasActiveBoardId"),i=[];if(s){const c=JSON.parse(s);if(Array.isArray(c)){for(const d of c)if(d&&typeof d=="object"){const h=d,v=typeof h.id=="string"?h.id:"",y=typeof h.name=="string"?h.name:"",b=typeof h.createdAt=="number"?h.createdAt:Date.now();v&&y&&i.push({id:v,name:y,createdAt:b})}}}const r=typeof e=="string"&&e.trim()?e:null;return{boards:i,activeBoardId:r}}catch{return{boards:[],activeBoardId:null}}},U0=(s,e)=>{try{localStorage.setItem("canvasBoardsMeta",JSON.stringify(s)),e?localStorage.setItem("canvasActiveBoardId",e):localStorage.removeItem("canvasActiveBoardId")}catch{}},Og=s=>{try{const e=localStorage.getItem(`canvasBoard:${s}`);if(!e)return[];const i=JSON.parse(e);return Array.isArray(i)?i:[]}catch{return[]}},$0=(s,e)=>{try{localStorage.setItem(`canvasBoard:${s}`,JSON.stringify(e))}catch{}},{boards:$3,activeBoardId:t4}=Pv(),j0=s=>{st.activeCanvasBoardId&&$0(st.activeCanvasBoardId,Oi(s))},st=gm({images:[],allImages:[],searchQuery:"",searchTags:[],searchColor:null,searchImage:null,tagColors:F3(),colorSwatches:I3(),canvasImages:[],canvasHistory:[],canvasHistoryIndex:-1,canvasBoards:$3,activeCanvasBoardId:t4,toasts:[],pinMode:!1,canvasGrayscale:!1,sidebarWidth:J3(),tagSortOrder:k3(),activeArea:null}),e4=s=>({...s,tags:[...s.tags],vector:Array.isArray(s.vector)?[...s.vector]:s.vector}),Oi=s=>s.map(e4),St={pushToast:(s,e="info",i=3200)=>{const r=s.trim();if(!r)return;const c=`toast_${Date.now()}_${Math.random().toString(16).slice(2)}`;st.toasts=[...st.toasts,{id:c,message:r,type:e,createdAt:Date.now()}],i>0&&window.setTimeout(()=>{St.removeToast(c)},i)},removeToast:s=>{st.toasts=st.toasts.filter(e=>e.id!==s)},createDropBatchId:()=>`drop_${Date.now()}`,setActiveArea:s=>{st.activeArea=s},createDroppedImageMeta:(s,e,i,r)=>({id:`${i}_${r}`,image:s.name,name:Z3(s.name),localPath:s.path||s.name,localUrl:e,pageUrl:void 0,pageTitle:s.name,tags:[],createdAt:Date.now()}),setTagSortOrder:s=>{st.tagSortOrder=s,W3(s)},setTagColor:(s,e)=>{const i=s.trim();if(!i)return;const r={...st.tagColors,[i]:e};st.tagColors=r,Dg(r)},clearTagColor:s=>{const e=s.trim();if(!e||!Object.prototype.hasOwnProperty.call(st.tagColors,e))return;const i={...st.tagColors};delete i[e],st.tagColors=i,Dg(i)},setColorSwatch:(s,e)=>{if(!Number.isInteger(s)||s<0||s>=st.colorSwatches.length||!kv(e))return;const i=[...st.colorSwatches];i[s]=Wv(e),st.colorSwatches=i,P3(i)},initCanvas:async()=>{const{boards:s,activeBoardId:e}=Pv();if(st.canvasBoards=s,st.activeCanvasBoardId=e,e){const i=Og(e),r=Oi(Array.isArray(i)?i:[]);st.canvasImages=r,st.canvasHistory=[Oi(r)],st.canvasHistoryIndex=0;return}st.canvasImages=[],st.canvasHistory=[[]],st.canvasHistoryIndex=0},commitCanvasChange:()=>{const s=Oi(st.canvasImages),e=st.canvasHistoryIndex+1;st.canvasHistory=st.canvasHistory.slice(0,e),st.canvasHistory.push(s),st.canvasHistoryIndex=e,st.canvasHistory.length>50&&(st.canvasHistory.shift(),st.canvasHistoryIndex--),j0(st.canvasImages),st.activeCanvasBoardId&&$0(st.activeCanvasBoardId,Oi(st.canvasImages))},undoCanvas:()=>{st.canvasHistoryIndex>0&&(st.canvasHistoryIndex--,st.canvasImages=Oi(st.canvasHistory[st.canvasHistoryIndex]),j0(st.canvasImages))},redoCanvas:()=>{st.canvasHistoryIndex<st.canvasHistory.length-1&&(st.canvasHistoryIndex++,st.canvasImages=Oi(st.canvasHistory[st.canvasHistoryIndex]),j0(st.canvasImages))},setImages:s=>{st.images=s.map(e=>({...e}))},setAllImages:s=>{const e=s.map(i=>({...i}));st.allImages=e,!st.searchQuery&&st.searchTags.length===0&&!st.searchColor&&(st.images=e.map(i=>({...i})))},saveGalleryOrder:async s=>{const e=s.map(i=>i.id);try{await fetch("http://localhost:30001/api/save-gallery-order",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:e})})}catch(i){console.error("Failed to save gallery order",i)}},reorderImages:s=>{const e=s.map(i=>({...i}));st.allImages=e,!st.searchQuery&&st.searchTags.length===0&&!st.searchColor&&(st.images=e.map(i=>({...i}))),St.saveGalleryOrder(e)},addImage:s=>{const e=st.images.findIndex(r=>r.id===s.id);e>=0?Object.assign(st.images[e],s):st.images.unshift(s);const i=st.allImages.findIndex(r=>r.id===s.id);i>=0?Object.assign(st.allImages[i],s):st.allImages.unshift(s)},setSearchQuery:s=>{st.searchQuery=s},setSearchTags:s=>{st.searchTags=s},setSearchColor:s=>{st.searchColor=s&&s.trim()?s.trim():null},setSearchImage:s=>{st.searchImage=s},togglePinMode:()=>{st.pinMode=!st.pinMode},setPinMode:s=>{st.pinMode=s},toggleCanvasGrayscale:()=>{st.canvasGrayscale=!st.canvasGrayscale},setSidebarWidth:s=>{st.sidebarWidth=s},persistSidebarWidth:()=>{try{localStorage.setItem("sidebarWidth",String(st.sidebarWidth))}catch{}},saveActiveCanvasBoard:()=>{const s=st.activeCanvasBoardId;if(s){if(st.canvasBoards.findIndex(d=>d.id===s)===-1){const d={id:s,name:`Board ${st.canvasBoards.length+1}`,createdAt:Date.now()};st.canvasBoards=[...st.canvasBoards,d]}U0(st.canvasBoards,s),$0(s,Oi(st.canvasImages));return}const e=`board_${Date.now()}_${Math.random().toString(16).slice(2)}`,i=`Board ${st.canvasBoards.length+1}`,r={id:e,name:i,createdAt:Date.now()};st.canvasBoards=[...st.canvasBoards,r],st.activeCanvasBoardId=e,U0(st.canvasBoards,e),$0(e,Oi(st.canvasImages))},selectCanvasBoard:s=>{if(!s){st.activeCanvasBoardId=null,U0(st.canvasBoards,null);return}if(!st.canvasBoards.some(c=>c.id===s))return;const i=Og(s),r=Oi(Array.isArray(i)?i:[]);st.canvasImages=r,st.canvasHistory=[Oi(r)],st.canvasHistoryIndex=0,st.activeCanvasBoardId=s,U0(st.canvasBoards,s),j0(st.canvasImages)},addToCanvas:(s,e,i)=>{let r=e,c=i;if(typeof r!="number"||typeof c!="number"){const v=st.canvasImages.length,y=4,b=260,_=260,E=120,T=80,N=v%y,A=Math.floor(v/y);r=E+N*b,c=T+A*_}const{vector:d,...h}=s;st.canvasImages.push({...h,canvasId:`${s.id}_${Date.now()}`,x:r,y:c,scale:1,rotation:0}),St.commitCanvasChange()},addToCanvasWithHistory:(s,e,i)=>{St.addToCanvas(s,e,i)},updateCanvasImageTransient:(s,e)=>{const i=st.canvasImages.findIndex(r=>r.canvasId===s);i!==-1&&Object.assign(st.canvasImages[i],e)},updateCanvasImage:(s,e)=>{const i=st.canvasImages.findIndex(r=>r.canvasId===s);i!==-1&&(Object.assign(st.canvasImages[i],e),St.commitCanvasChange())},updateCanvasImageWithHistory:(s,e)=>{St.updateCanvasImage(s,e)},removeFromCanvas:s=>{const e=st.canvasImages.findIndex(i=>i.canvasId===s);if(e!==-1){const i=st.canvasImages[e];i.localPath&&(i.localPath.includes("canvas_temp")||i.localPath.includes("temp-images"))&&fetch("http://localhost:30001/api/delete-temp-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:i.localPath})}).catch(console.error),st.canvasImages.splice(e,1),St.commitCanvasChange()}},removeFromCanvasWithHistory:s=>{St.removeFromCanvas(s)},removeManyFromCanvasWithHistory:s=>{if(!s.length)return;const e=new Set(s);st.canvasImages.forEach(i=>{e.has(i.canvasId)&&i.localPath&&(i.localPath.includes("canvas_temp")||i.localPath.includes("temp-images"))&&fetch("http://localhost:30001/api/delete-temp-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:i.localPath})}).catch(console.error)}),st.canvasImages=st.canvasImages.filter(i=>!e.has(i.canvasId)),St.commitCanvasChange()},deleteImage:s=>{const e=st.images.findIndex(c=>c.id===s);e!==-1&&st.images.splice(e,1);const i=st.allImages.findIndex(c=>c.id===s);i!==-1&&st.allImages.splice(i,1);const r=st.canvasImages.length;st.canvasImages=st.canvasImages.filter(c=>c.id!==s),st.canvasImages.length!==r&&St.commitCanvasChange()},updateImage:(s,e)=>{const i=st.images.findIndex(c=>c.id===s);i!==-1&&Object.assign(st.images[i],e);const r=st.allImages.findIndex(c=>c.id===s);r!==-1&&Object.assign(st.allImages[r],e)},autoLayoutCanvas:()=>{if(st.canvasImages.length===0)return;const s=20,e=100,i=100;let r=0,c=0;const d=[...st.canvasImages].sort((A,B)=>Math.abs(A.y-B.y)>50?A.y-B.y:A.x-B.x);d.forEach(A=>{const B=A.scale||1,w=(A.width||250)*B,U=(A.height||200)*B;r+=w*U,c+=w});const h=c/d.length,v=Math.sqrt(r);let y=Math.round(v/h);y<1&&(y=1);const b=new Array(y).fill(i),_=new Array(y).fill(0),E=new Map;d.forEach(A=>{const B=Math.min(...b),w=b.indexOf(B),U=A.scale||1,H=(A.width||250)*U,L=(A.height||200)*U;A.y=B,E.set(A.canvasId,w),_[w]=Math.max(_[w],H),b[w]+=L+s});const T=[];let N=e;for(let A=0;A<y;A++)T[A]=N,_[A]>0&&(N+=_[A]+s);st.canvasImages.forEach(A=>{const B=E.get(A.canvasId);typeof B=="number"&&(A.x=T[B])}),St.commitCanvasChange()},clearCanvas:()=>{st.canvasImages.length!==0&&(st.canvasImages.forEach(s=>{s.localPath&&(s.localPath.includes("canvas_temp")||s.localPath.includes("temp-images"))&&fetch("http://localhost:30001/api/delete-temp-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filePath:s.localPath})}).catch(console.error)}),st.canvasImages=[],St.commitCanvasChange())},bringToFront:s=>{const e=st.canvasImages.findIndex(i=>i.canvasId===s);if(e!==-1&&e!==st.canvasImages.length-1){const[i]=st.canvasImages.splice(e,1);st.canvasImages.push(i),St.commitCanvasChange()}}},n4=()=>{const s=Uc(st),[e,i]=G.useState(!1),[r,c]=G.useState(""),[d,h]=G.useState(!1),[v,y]=G.useState(!1),[b,_]=G.useState(!1),[E,T]=G.useState(!0),N=()=>{const H=!st.pinMode,L=st.sidebarWidth;St.setPinMode(H),window.electron?.setPinMode?.(H,L)},A=async()=>{if(window.electron?.getStorageDir){h(!0);try{const H=await window.electron.getStorageDir();c(H)}finally{h(!1)}}};G.useEffect(()=>{const H=()=>T(!0),L=()=>T(!1),z=()=>{T(!document.hidden)};return window.addEventListener("focus",H),window.addEventListener("blur",L),document.addEventListener("visibilitychange",z),z(),()=>{window.removeEventListener("focus",H),window.removeEventListener("blur",L),document.removeEventListener("visibilitychange",z)}},[]),G.useEffect(()=>{e&&A()},[e]);const B=()=>{i(H=>!H)},w=async()=>{if(window.electron?.chooseStorageDir){y(!0);try{const H=await window.electron.chooseStorageDir();H&&c(H)}finally{y(!1)}}},U=async()=>{_(!0);try{const H=await fetch("http://localhost:30001/api/index-missing",{method:"POST",headers:{"Content-Type":"application/json"}});if(!H.ok){St.pushToast("Failed to index images","error");return}const L=await H.json().catch(()=>({})),z=typeof L.created=="number"?L.created:0,F=typeof L.updated=="number"?L.updated:0;if(z+F===0){St.pushToast("No unindexed images found","info");return}St.pushToast(`Index completed: ${z} created, ${F} updated`,"success")}catch(H){console.error(H),St.pushToast("Failed to index images","error")}finally{_(!1)}};return Y.jsxs("div",{className:Eg("relative z-50 h-8 flex items-center justify-between pr-2 pl-2 select-none draggable border-b border-neutral-800","bg-neutral-900"),children:[Y.jsx("div",{className:"flex items-center gap-2 text-neutral-400 text-xs font-bold",children:Y.jsx("span",{style:{color:E?Oe.primary:"#6b7280"},children:"LookBack"})}),Y.jsxs("div",{className:"flex items-center gap-1 no-drag",children:[Y.jsx("button",{onClick:B,className:"p-1 hover:bg-neutral-800 rounded transition-colors",title:"Setting",children:Y.jsx(x3,{size:14})}),Y.jsx("button",{onClick:N,className:Eg("p-1 hover:bg-neutral-800 rounded transition-colors"),style:{color:s.pinMode?Oe.primary:void 0},title:"Always on Top",children:Y.jsx(g3,{size:14})}),Y.jsx("div",{className:"w-px h-4 bg-neutral-700 mx-1"}),Y.jsx("button",{onClick:()=>window.electron?.min(),className:"p-1 hover:bg-neutral-800 rounded transition-colors",children:Y.jsx(h3,{size:14})}),Y.jsx("button",{onClick:()=>window.electron?.max(),className:"p-1 hover:bg-neutral-800 rounded transition-colors",children:Y.jsx(C3,{size:14})}),Y.jsx("button",{onClick:()=>window.electron?.close(),className:"p-1 hover:bg-red-900 hover:text-red-200 rounded transition-colors",children:Y.jsx(um,{size:14})})]}),e&&Y.jsxs("div",{className:"absolute right-2 top-8 mt-1 w-80 rounded border border-neutral-700 bg-neutral-900/95 shadow-lg p-3 text-xs text-neutral-200 no-drag",children:[Y.jsx("div",{className:"font-semibold mb-2",children:"Setting"}),Y.jsxs("div",{className:"space-y-1",children:[Y.jsx("div",{className:"text-[11px] text-neutral-400",children:"Data Folder"}),Y.jsxs("div",{className:"flex items-center gap-2",children:[Y.jsx("div",{className:"flex-1 truncate text-[10px] text-neutral-300",children:d?"Loading...":r||"Not configured, using default directory"}),Y.jsx("button",{onClick:w,disabled:v,className:"px-2 py-0.5 rounded bg-neutral-800 hover:bg-neutral-700 text-[10px] disabled:opacity-60",children:"Change"})]})]}),Y.jsxs("div",{className:"mt-3 space-y-1",children:[Y.jsx("div",{className:"text-[11px] text-neutral-400",children:"Index"}),Y.jsx("button",{onClick:U,disabled:b,className:"px-2 py-0.5 rounded bg-neutral-800 hover:bg-neutral-700 text-[10px] disabled:opacity-60",children:b?"Indexing...":"Index unindexed images"})]})]})]})};function a4(s,e){if(s==null)return{};var i=l4(s,e),r,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(c=0;c<d.length;c++)r=d[c],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(s,r)&&(i[r]=s[r])}return i}function l4(s,e){if(s==null)return{};var i={},r=Object.keys(s),c,d;for(d=0;d<r.length;d++)c=r[d],!(e.indexOf(c)>=0)&&(i[c]=s[c]);return i}function o1(){return o1=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},o1.apply(this,arguments)}function zg(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,r)}return i}function bd(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?zg(Object(i),!0).forEach(function(r){i4(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):zg(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function i4(s,e,i){return e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}const s4={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},y2=2;class $v extends Lt.Component{constructor(e){super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this);let i;this.props.breakpointCols&&this.props.breakpointCols.default?i=this.props.breakpointCols.default:i=parseInt(this.props.breakpointCols)||y2,this.state={columnCount:i}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){if(!window||!window.requestAnimationFrame){this.reCalculateColumnCount();return}window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let i=this.props.breakpointCols;typeof i!="object"&&(i={default:parseInt(i)||y2});let r=1/0,c=i.default||y2;for(let d in i){const h=parseInt(d);h>0&&e<=h&&h<r&&(r=h,c=i[d])}c=Math.max(1,parseInt(c)||1),this.state.columnCount!==c&&this.setState({columnCount:c})}itemsInColumns(){const e=this.state.columnCount,i=new Array(e),r=Lt.Children.toArray(this.props.children);for(let c=0;c<r.length;c++){const d=c%e;i[d]||(i[d]=[]),i[d].push(r[c])}return i}renderColumns(){const{column:e,columnAttrs:i={},columnClassName:r}=this.props,c=this.itemsInColumns(),d=`${100/c.length}%`;let h=r;h&&typeof h!="string"&&(this.logDeprecated('The property "columnClassName" requires a string'),typeof h>"u"&&(h="my-masonry-grid_column"));const v=bd(bd(bd({},e),i),{},{style:bd(bd({},i.style),{},{width:d}),className:h});return c.map((y,b)=>Lt.createElement("div",o1({},v,{key:b}),y))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:i,breakpointCols:r,columnClassName:c,columnAttrs:d,column:h,className:v}=e,y=a4(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let b=v;return typeof v!="string"&&(this.logDeprecated('The property "className" requires a string'),typeof v>"u"&&(b="my-masonry-grid")),Lt.createElement("div",o1({},y,{className:b}),this.renderColumns())}}$v.defaultProps=s4;function lo(s){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(s)}function u4(s,e){if(lo(s)!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,e);if(lo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(s)}function r4(s){var e=u4(s,"string");return lo(e)=="symbol"?e:e+""}function zi(s,e,i){return(e=r4(e))in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function wg(s,e){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);e&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),i.push.apply(i,r)}return i}function to(s){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?wg(Object(i),!0).forEach(function(r){zi(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):wg(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function Xd(){return Xd=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},Xd.apply(null,arguments)}var S2={exports:{}};var Hg;function o4(){return Hg||(Hg=1,(function(s){(function(){var e={}.hasOwnProperty;function i(){for(var d="",h=0;h<arguments.length;h++){var v=arguments[h];v&&(d=c(d,r(v)))}return d}function r(d){if(typeof d=="string"||typeof d=="number")return d;if(typeof d!="object")return"";if(Array.isArray(d))return i.apply(null,d);if(d.toString!==Object.prototype.toString&&!d.toString.toString().includes("[native code]"))return d.toString();var h="";for(var v in d)e.call(d,v)&&d[v]&&(h=c(h,v));return h}function c(d,h){return h?d?d+" "+h:d+h:d}s.exports?(i.default=i,s.exports=i):window.classNames=i})()})(S2)),S2.exports}var c4=o4();const wi=S1(c4);function f4(s){return!!(s.addonBefore||s.addonAfter)}function d4(s){return!!(s.prefix||s.suffix||s.allowClear)}function Bg(s,e,i){var r=e.cloneNode(!0),c=Object.create(s,{target:{value:r},currentTarget:{value:r}});return r.value=i,typeof e.selectionStart=="number"&&typeof e.selectionEnd=="number"&&(r.selectionStart=e.selectionStart,r.selectionEnd=e.selectionEnd),r.setSelectionRange=function(){e.setSelectionRange.apply(e,arguments)},c}function Gg(s,e,i,r){if(i){var c=e;if(e.type==="click"){c=Bg(e,s,""),i(c);return}if(s.type!=="file"&&r!==void 0){c=Bg(e,s,r),i(c);return}i(c)}}function h4(s,e){if(s){s.focus(e);var i=e||{},r=i.cursor;if(r){var c=s.value.length;switch(r){case"start":s.setSelectionRange(0,0);break;case"end":s.setSelectionRange(c,c);break;default:s.setSelectionRange(0,c)}}}}var m4=Lt.forwardRef(function(s,e){var i,r,c,d=s.inputElement,h=s.children,v=s.prefixCls,y=s.prefix,b=s.suffix,_=s.addonBefore,E=s.addonAfter,T=s.className,N=s.style,A=s.disabled,B=s.readOnly,w=s.focused,U=s.triggerFocus,H=s.allowClear,L=s.value,z=s.handleReset,F=s.hidden,J=s.classes,Z=s.classNames,it=s.dataAttrs,gt=s.styles,_t=s.components,Nt=s.onClear,Tt=h??d,Ut=_t?.affixWrapper||"span",zt=_t?.groupWrapper||"span",Ct=_t?.wrapper||"span",D=_t?.groupAddon||"span",Q=G.useRef(null),I=function(Ot){var Bt;(Bt=Q.current)!==null&&Bt!==void 0&&Bt.contains(Ot.target)&&U?.()},at=d4(s),ht=G.cloneElement(Tt,{value:L,className:wi((i=Tt.props)===null||i===void 0?void 0:i.className,!at&&Z?.variant)||null}),O=G.useRef(null);if(Lt.useImperativeHandle(e,function(){return{nativeElement:O.current||Q.current}}),at){var K=null;if(H){var ct=!A&&!B&&L,yt="".concat(v,"-clear-icon"),Ht=lo(H)==="object"&&H!==null&&H!==void 0&&H.clearIcon?H.clearIcon:"";K=Lt.createElement("button",{type:"button",tabIndex:-1,onClick:function(Ot){z?.(Ot),Nt?.()},onMouseDown:function(Ot){return Ot.preventDefault()},className:wi(yt,zi(zi({},"".concat(yt,"-hidden"),!ct),"".concat(yt,"-has-suffix"),!!b))},Ht)}var At="".concat(v,"-affix-wrapper"),kt=wi(At,zi(zi(zi(zi(zi({},"".concat(v,"-disabled"),A),"".concat(At,"-disabled"),A),"".concat(At,"-focused"),w),"".concat(At,"-readonly"),B),"".concat(At,"-input-with-clear-btn"),b&&H&&L),J?.affixWrapper,Z?.affixWrapper,Z?.variant),Zt=(b||H)&&Lt.createElement("span",{className:wi("".concat(v,"-suffix"),Z?.suffix),style:gt?.suffix},K,b);ht=Lt.createElement(Ut,Xd({className:kt,style:gt?.affixWrapper,onClick:I},it?.affixWrapper,{ref:Q}),y&&Lt.createElement("span",{className:wi("".concat(v,"-prefix"),Z?.prefix),style:gt?.prefix},y),ht,Zt)}if(f4(s)){var Yt="".concat(v,"-group"),te="".concat(Yt,"-addon"),_n="".concat(Yt,"-wrapper"),he=wi("".concat(v,"-wrapper"),Yt,J?.wrapper,Z?.wrapper),$=wi(_n,zi({},"".concat(_n,"-disabled"),A),J?.group,Z?.groupWrapper);ht=Lt.createElement(zt,{className:$,ref:O},Lt.createElement(Ct,{className:he},_&&Lt.createElement(D,{className:te},_),ht,E&&Lt.createElement(D,{className:te},E)))}return Lt.cloneElement(ht,{className:wi((r=ht.props)===null||r===void 0?void 0:r.className,T)||null,style:to(to({},(c=ht.props)===null||c===void 0?void 0:c.style),N),hidden:F})});function Q2(s,e){(e==null||e>s.length)&&(e=s.length);for(var i=0,r=Array(e);i<e;i++)r[i]=s[i];return r}function g4(s){if(Array.isArray(s))return Q2(s)}function v4(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function tp(s,e){if(s){if(typeof s=="string")return Q2(s,e);var i={}.toString.call(s).slice(8,-1);return i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set"?Array.from(s):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Q2(s,e):void 0}}function p4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y4(s){return g4(s)||v4(s)||tp(s)||p4()}function S4(s){if(Array.isArray(s))return s}function b4(s,e){var i=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(i!=null){var r,c,d,h,v=[],y=!0,b=!1;try{if(d=(i=i.call(s)).next,e!==0)for(;!(y=(r=d.call(i)).done)&&(v.push(r.value),v.length!==e);y=!0);}catch(_){b=!0,c=_}finally{try{if(!y&&i.return!=null&&(h=i.return(),Object(h)!==h))return}finally{if(b)throw c}}return v}}function x4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wc(s,e){return S4(s)||b4(s,e)||tp(s,e)||x4()}function _4(s,e){if(s==null)return{};var i={};for(var r in s)if({}.hasOwnProperty.call(s,r)){if(e.indexOf(r)!==-1)continue;i[r]=s[r]}return i}function ep(s,e){if(s==null)return{};var i,r,c=_4(s,e);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(r=0;r<d.length;r++)i=d[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(s,i)&&(c[i]=s[i])}return c}function Ug(s){var e=G.useRef();e.current=s;var i=G.useCallback(function(){for(var r,c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return(r=e.current)===null||r===void 0?void 0:r.call.apply(r,[e].concat(d))},[]);return i}function C4(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jg=C4()?G.useLayoutEffect:G.useEffect,E4=function(e,i){var r=G.useRef(!0);jg(function(){return e(r.current)},i),jg(function(){return r.current=!1,function(){r.current=!0}},[])},Lg=function(e,i){E4(function(r){if(!r)return e()},i)};function Yg(s){var e=G.useRef(!1),i=G.useState(s),r=wc(i,2),c=r[0],d=r[1];G.useEffect(function(){return e.current=!1,function(){e.current=!0}},[]);function h(v,y){y&&e.current||d(v)}return[c,h]}function b2(s){return s!==void 0}function T4(s,e){var i=e||{},r=i.defaultValue,c=i.value,d=i.onChange,h=i.postState,v=Yg(function(){return b2(c)?c:b2(r)?typeof r=="function"?r():r:typeof s=="function"?s():s}),y=wc(v,2),b=y[0],_=y[1],E=c!==void 0?c:b,T=h?h(E):E,N=Ug(d),A=Yg([E]),B=wc(A,2),w=B[0],U=B[1];Lg(function(){var L=w[0];b!==L&&N(b,L)},[w]),Lg(function(){b2(c)||_(c)},[c]);var H=Ug(function(L,z){_(L,z),U([E],z)});return[T,H]}function A4(s,e){var i=Object.assign({},s);return Array.isArray(e)&&e.forEach(function(r){delete i[r]}),i}var M4=["show"];function R4(s,e){return G.useMemo(function(){var i={};e&&(i.show=lo(e)==="object"&&e.formatter?e.formatter:!!e),i=to(to({},i),s);var r=i,c=r.show,d=ep(r,M4);return to(to({},d),{},{show:!!c,showFormatter:typeof c=="function"?c:void 0,strategy:d.strategy||function(h){return h.length}})},[s,e])}var N4=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","onKeyUp","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","count","type","classes","classNames","styles","onCompositionStart","onCompositionEnd"],D4=G.forwardRef(function(s,e){var i=s.autoComplete,r=s.onChange,c=s.onFocus,d=s.onBlur,h=s.onPressEnter,v=s.onKeyDown,y=s.onKeyUp,b=s.prefixCls,_=b===void 0?"rc-input":b,E=s.disabled,T=s.htmlSize,N=s.className,A=s.maxLength,B=s.suffix,w=s.showCount,U=s.count,H=s.type,L=H===void 0?"text":H,z=s.classes,F=s.classNames,J=s.styles,Z=s.onCompositionStart,it=s.onCompositionEnd,gt=ep(s,N4),_t=G.useState(!1),Nt=wc(_t,2),Tt=Nt[0],Ut=Nt[1],zt=G.useRef(!1),Ct=G.useRef(!1),D=G.useRef(null),Q=G.useRef(null),I=function(Qt){D.current&&h4(D.current,Qt)},at=T4(s.defaultValue,{value:s.value}),ht=wc(at,2),O=ht[0],K=ht[1],ct=O==null?"":String(O),yt=G.useState(null),Ht=wc(yt,2),At=Ht[0],kt=Ht[1],Zt=R4(U,w),Yt=Zt.max||A,te=Zt.strategy(ct),_n=!!Yt&&te>Yt;G.useImperativeHandle(e,function(){var Kt;return{focus:I,blur:function(){var ke;(ke=D.current)===null||ke===void 0||ke.blur()},setSelectionRange:function(ke,Ra,Le){var Je;(Je=D.current)===null||Je===void 0||Je.setSelectionRange(ke,Ra,Le)},select:function(){var ke;(ke=D.current)===null||ke===void 0||ke.select()},input:D.current,nativeElement:((Kt=Q.current)===null||Kt===void 0?void 0:Kt.nativeElement)||D.current}}),G.useEffect(function(){Ct.current&&(Ct.current=!1),Ut(function(Kt){return Kt&&E?!1:Kt})},[E]);var he=function(Qt,ke,Ra){var Le=ke;if(!zt.current&&Zt.exceedFormatter&&Zt.max&&Zt.strategy(ke)>Zt.max){if(Le=Zt.exceedFormatter(ke,{max:Zt.max}),ke!==Le){var Je,mn;kt([((Je=D.current)===null||Je===void 0?void 0:Je.selectionStart)||0,((mn=D.current)===null||mn===void 0?void 0:mn.selectionEnd)||0])}}else if(Ra.source==="compositionEnd")return;K(Le),D.current&&Gg(D.current,Qt,r,Le)};G.useEffect(function(){if(At){var Kt;(Kt=D.current)===null||Kt===void 0||Kt.setSelectionRange.apply(Kt,y4(At))}},[At]);var $=function(Qt){he(Qt,Qt.target.value,{source:"change"})},pt=function(Qt){zt.current=!1,he(Qt,Qt.currentTarget.value,{source:"compositionEnd"}),it?.(Qt)},Ot=function(Qt){h&&Qt.key==="Enter"&&!Ct.current&&(Ct.current=!0,h(Qt)),v?.(Qt)},Bt=function(Qt){Qt.key==="Enter"&&(Ct.current=!1),y?.(Qt)},Vt=function(Qt){Ut(!0),c?.(Qt)},Re=function(Qt){Ct.current&&(Ct.current=!1),Ut(!1),d?.(Qt)},Ye=function(Qt){K(""),I(),D.current&&Gg(D.current,Qt,r)},Ce=_n&&"".concat(_,"-out-of-range"),Ze=function(){var Qt=A4(s,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","count","classes","htmlSize","styles","classNames","onClear"]);return Lt.createElement("input",Xd({autoComplete:i},Qt,{onChange:$,onFocus:Vt,onBlur:Re,onKeyDown:Ot,onKeyUp:Bt,className:wi(_,zi({},"".concat(_,"-disabled"),E),F?.input),style:J?.input,ref:D,size:T,type:L,onCompositionStart:function(Ra){zt.current=!0,Z?.(Ra)},onCompositionEnd:pt}))},Ge=function(){var Qt=Number(Yt)>0;if(B||Zt.show){var ke=Zt.showFormatter?Zt.showFormatter({value:ct,count:te,maxLength:Yt}):"".concat(te).concat(Qt?" / ".concat(Yt):"");return Lt.createElement(Lt.Fragment,null,Zt.show&&Lt.createElement("span",{className:wi("".concat(_,"-show-count-suffix"),zi({},"".concat(_,"-show-count-has-suffix"),!!B),F?.count),style:to({},J?.count)},ke),B)}return null};return Lt.createElement(m4,Xd({},gt,{prefixCls:_,className:wi(N,Ce),handleReset:Ye,value:ct,focused:Tt,triggerFocus:I,suffix:Ge(),disabled:E,classes:z,classNames:F,styles:J,ref:Q}),Ze())});const V2=({delay:s},e)=>{let i,r=!0;const c=(...d)=>{r?(clearTimeout(i),i=setTimeout(()=>{r&&e(...d),i=void 0},s)):e(...d)};return c.isPending=()=>i!==void 0,c.cancel=()=>{r=!1},c.flush=(...d)=>e(...d),c},O4=s=>{const e=s.trim().replace("#","");if(e.length!==6)return"#e5e7eb";const i=parseInt(e.slice(0,2),16),r=parseInt(e.slice(2,4),16),c=parseInt(e.slice(4,6),16);return Number.isNaN(i)||Number.isNaN(r)||Number.isNaN(c)?"#e5e7eb":(i*299+r*587+c*114)/1e3>154?"#020617":"#f9fafb"},qg=({tag:s,color:e,className:i,size:r="sm"})=>{const c=typeof e=="string"?e.trim():"",h=c.length>0?c:Oe.primary;return Y.jsx("div",{className:`${r==="sm"?"w-2.5 h-2.5":"w-3.5 h-3.5"} border rounded-full cursor-pointer shrink-0 ${i||""}`,style:{backgroundColor:h},onMouseDown:v=>{v.preventDefault(),v.stopPropagation();const y=new CustomEvent("open-tag-color-picker",{detail:{tag:s,x:v.clientX,y:v.clientY}});window.dispatchEvent(y)},title:"Set Color"})},no=({tag:s,size:e="sm",isEdit:i=!1,showColor:r=!0,onRemove:c,onClick:d,className:h,style:v,...y})=>{const _=Uc(st).tagColors[s],E=typeof _=="string"?_.trim():"",T=E.length>0?E:Oe.primary,N=r,A=nr(T,1),B=O4(T),w="relative rounded transition-colors flex items-center group/tag whitespace-nowrap",U=e==="sm"?"text-[10px] px-1":"text-xs px-2 py-1",H=d?"cursor-pointer hover:text-white":"",L=i?"group hover:bg-red-900/20 hover:text-red-200":"";return Y.jsxs("div",{className:`${w} ${U} ${H} ${L} ${h||""}`,style:{backgroundColor:A||(i?void 0:"rgba(38, 38, 38, 1)"),color:B,...v},onClick:z=>{d&&(z.stopPropagation(),d(z))},title:s,...y,children:[Y.jsx("span",{children:s}),!i&&N&&Y.jsx("div",{className:"w-0 overflow-hidden group-hover/tag:w-auto transition-all duration-0",children:Y.jsx(qg,{tag:s,color:_,className:"ml-1",size:e})}),i&&Y.jsxs("div",{className:"w-0 overflow-hidden group-hover:w-auto flex items-center transition-all duration-200",children:[N&&Y.jsx(qg,{tag:s,color:_,className:"opacity-0 group-hover:opacity-100 transition-opacity mx-1",size:e}),Y.jsx("span",{className:"cursor-pointer hover:text-red-400 ml-1 shrink-0",onMouseDown:z=>{z.preventDefault(),z.stopPropagation()},onClick:z=>{z.stopPropagation(),c?.()},children:Y.jsx(um,{size:12})})]})]})};var Oc=Lv();function z4(){for(var s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return G.useMemo(()=>r=>{e.forEach(c=>c(r))},e)}const b1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jc(s){const e=Object.prototype.toString.call(s);return e==="[object Window]"||e==="[object global]"}function vm(s){return"nodeType"in s}function al(s){var e,i;return s?jc(s)?s:vm(s)&&(e=(i=s.ownerDocument)==null?void 0:i.defaultView)!=null?e:window:window}function pm(s){const{Document:e}=al(s);return s instanceof e}function Fd(s){return jc(s)?!1:s instanceof al(s).HTMLElement}function np(s){return s instanceof al(s).SVGElement}function Lc(s){return s?jc(s)?s.document:vm(s)?pm(s)?s:Fd(s)||np(s)?s.ownerDocument:document:document:document}const Hi=b1?G.useLayoutEffect:G.useEffect;function x1(s){const e=G.useRef(s);return Hi(()=>{e.current=s}),G.useCallback(function(){for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return e.current==null?void 0:e.current(...r)},[])}function w4(){const s=G.useRef(null),e=G.useCallback((r,c)=>{s.current=setInterval(r,c)},[]),i=G.useCallback(()=>{s.current!==null&&(clearInterval(s.current),s.current=null)},[]);return[e,i]}function Qd(s,e){e===void 0&&(e=[s]);const i=G.useRef(s);return Hi(()=>{i.current!==s&&(i.current=s)},e),i}function Id(s,e){const i=G.useRef();return G.useMemo(()=>{const r=s(i.current);return i.current=r,r},[...e])}function c1(s){const e=x1(s),i=G.useRef(null),r=G.useCallback(c=>{c!==i.current&&e?.(c,i.current),i.current=c},[]);return[i,r]}function f1(s){const e=G.useRef();return G.useEffect(()=>{e.current=s},[s]),e.current}let x2={};function kd(s,e){return G.useMemo(()=>{if(e)return e;const i=x2[s]==null?0:x2[s]+1;return x2[s]=i,s+"-"+i},[s,e])}function ap(s){return function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),c=1;c<i;c++)r[c-1]=arguments[c];return r.reduce((d,h)=>{const v=Object.entries(h);for(const[y,b]of v){const _=d[y];_!=null&&(d[y]=_+s*b)}return d},{...e})}}const Hc=ap(1),Vd=ap(-1);function H4(s){return"clientX"in s&&"clientY"in s}function _1(s){if(!s)return!1;const{KeyboardEvent:e}=al(s.target);return e&&s instanceof e}function B4(s){if(!s)return!1;const{TouchEvent:e}=al(s.target);return e&&s instanceof e}function d1(s){if(B4(s)){if(s.touches&&s.touches.length){const{clientX:e,clientY:i}=s.touches[0];return{x:e,y:i}}else if(s.changedTouches&&s.changedTouches.length){const{clientX:e,clientY:i}=s.changedTouches[0];return{x:e,y:i}}}return H4(s)?{x:s.clientX,y:s.clientY}:null}const eu=Object.freeze({Translate:{toString(s){if(!s)return;const{x:e,y:i}=s;return"translate3d("+(e?Math.round(e):0)+"px, "+(i?Math.round(i):0)+"px, 0)"}},Scale:{toString(s){if(!s)return;const{scaleX:e,scaleY:i}=s;return"scaleX("+e+") scaleY("+i+")"}},Transform:{toString(s){if(s)return[eu.Translate.toString(s),eu.Scale.toString(s)].join(" ")}},Transition:{toString(s){let{property:e,duration:i,easing:r}=s;return e+" "+i+"ms "+r}}}),Xg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function G4(s){return s.matches(Xg)?s:s.querySelector(Xg)}const U4={display:"none"};function j4(s){let{id:e,value:i}=s;return Lt.createElement("div",{id:e,style:U4},i)}function L4(s){let{id:e,announcement:i,ariaLiveType:r="assertive"}=s;const c={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Lt.createElement("div",{id:e,style:c,role:"status","aria-live":r,"aria-atomic":!0},i)}function Y4(){const[s,e]=G.useState("");return{announce:G.useCallback(r=>{r!=null&&e(r)},[]),announcement:s}}const lp=G.createContext(null);function q4(s){const e=G.useContext(lp);G.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(s)},[s,e])}function X4(){const[s]=G.useState(()=>new Set),e=G.useCallback(r=>(s.add(r),()=>s.delete(r)),[s]);return[G.useCallback(r=>{let{type:c,event:d}=r;s.forEach(h=>{var v;return(v=h[c])==null?void 0:v.call(h,d)})},[s]),e]}const Q4={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},V4={onDragStart(s){let{active:e}=s;return"Picked up draggable item "+e.id+"."},onDragOver(s){let{active:e,over:i}=s;return i?"Draggable item "+e.id+" was moved over droppable area "+i.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(s){let{active:e,over:i}=s;return i?"Draggable item "+e.id+" was dropped over droppable area "+i.id:"Draggable item "+e.id+" was dropped."},onDragCancel(s){let{active:e}=s;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function K4(s){let{announcements:e=V4,container:i,hiddenTextDescribedById:r,screenReaderInstructions:c=Q4}=s;const{announce:d,announcement:h}=Y4(),v=kd("DndLiveRegion"),[y,b]=G.useState(!1);if(G.useEffect(()=>{b(!0)},[]),q4(G.useMemo(()=>({onDragStart(E){let{active:T}=E;d(e.onDragStart({active:T}))},onDragMove(E){let{active:T,over:N}=E;e.onDragMove&&d(e.onDragMove({active:T,over:N}))},onDragOver(E){let{active:T,over:N}=E;d(e.onDragOver({active:T,over:N}))},onDragEnd(E){let{active:T,over:N}=E;d(e.onDragEnd({active:T,over:N}))},onDragCancel(E){let{active:T,over:N}=E;d(e.onDragCancel({active:T,over:N}))}}),[d,e])),!y)return null;const _=Lt.createElement(Lt.Fragment,null,Lt.createElement(j4,{id:r,value:c.draggable}),Lt.createElement(L4,{id:v,announcement:h}));return i?Oc.createPortal(_,i):_}var $n;(function(s){s.DragStart="dragStart",s.DragMove="dragMove",s.DragEnd="dragEnd",s.DragCancel="dragCancel",s.DragOver="dragOver",s.RegisterDroppable="registerDroppable",s.SetDroppableDisabled="setDroppableDisabled",s.UnregisterDroppable="unregisterDroppable"})($n||($n={}));function h1(){}function Qg(s,e){return G.useMemo(()=>({sensor:s,options:e??{}}),[s,e])}function Z4(){for(var s=arguments.length,e=new Array(s),i=0;i<s;i++)e[i]=arguments[i];return G.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const Bi=Object.freeze({x:0,y:0});function ip(s,e){return Math.sqrt(Math.pow(s.x-e.x,2)+Math.pow(s.y-e.y,2))}function J4(s,e){const i=d1(s);if(!i)return"0 0";const r={x:(i.x-e.left)/e.width*100,y:(i.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function sp(s,e){let{data:{value:i}}=s,{data:{value:r}}=e;return i-r}function F4(s,e){let{data:{value:i}}=s,{data:{value:r}}=e;return r-i}function Vg(s){let{left:e,top:i,height:r,width:c}=s;return[{x:e,y:i},{x:e+c,y:i},{x:e,y:i+r},{x:e+c,y:i+r}]}function up(s,e){if(!s||s.length===0)return null;const[i]=s;return i[e]}function Kg(s,e,i){return e===void 0&&(e=s.left),i===void 0&&(i=s.top),{x:e+s.width*.5,y:i+s.height*.5}}const I4=s=>{let{collisionRect:e,droppableRects:i,droppableContainers:r}=s;const c=Kg(e,e.left,e.top),d=[];for(const h of r){const{id:v}=h,y=i.get(v);if(y){const b=ip(Kg(y),c);d.push({id:v,data:{droppableContainer:h,value:b}})}}return d.sort(sp)},k4=s=>{let{collisionRect:e,droppableRects:i,droppableContainers:r}=s;const c=Vg(e),d=[];for(const h of r){const{id:v}=h,y=i.get(v);if(y){const b=Vg(y),_=c.reduce((T,N,A)=>T+ip(b[A],N),0),E=Number((_/4).toFixed(4));d.push({id:v,data:{droppableContainer:h,value:E}})}}return d.sort(sp)};function W4(s,e){const i=Math.max(e.top,s.top),r=Math.max(e.left,s.left),c=Math.min(e.left+e.width,s.left+s.width),d=Math.min(e.top+e.height,s.top+s.height),h=c-r,v=d-i;if(r<c&&i<d){const y=e.width*e.height,b=s.width*s.height,_=h*v,E=_/(y+b-_);return Number(E.toFixed(4))}return 0}const P4=s=>{let{collisionRect:e,droppableRects:i,droppableContainers:r}=s;const c=[];for(const d of r){const{id:h}=d,v=i.get(h);if(v){const y=W4(v,e);y>0&&c.push({id:h,data:{droppableContainer:d,value:y}})}}return c.sort(F4)};function $4(s,e,i){return{...s,scaleX:e&&i?e.width/i.width:1,scaleY:e&&i?e.height/i.height:1}}function rp(s,e){return s&&e?{x:s.left-e.left,y:s.top-e.top}:Bi}function t5(s){return function(i){for(var r=arguments.length,c=new Array(r>1?r-1:0),d=1;d<r;d++)c[d-1]=arguments[d];return c.reduce((h,v)=>({...h,top:h.top+s*v.y,bottom:h.bottom+s*v.y,left:h.left+s*v.x,right:h.right+s*v.x}),{...i})}}const e5=t5(1);function op(s){if(s.startsWith("matrix3d(")){const e=s.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(s.startsWith("matrix(")){const e=s.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function n5(s,e,i){const r=op(e);if(!r)return s;const{scaleX:c,scaleY:d,x:h,y:v}=r,y=s.left-h-(1-c)*parseFloat(i),b=s.top-v-(1-d)*parseFloat(i.slice(i.indexOf(" ")+1)),_=c?s.width/c:s.width,E=d?s.height/d:s.height;return{width:_,height:E,top:b,right:y+_,bottom:b+E,left:y}}const a5={ignoreTransform:!1};function Yc(s,e){e===void 0&&(e=a5);let i=s.getBoundingClientRect();if(e.ignoreTransform){const{transform:b,transformOrigin:_}=al(s).getComputedStyle(s);b&&(i=n5(i,b,_))}const{top:r,left:c,width:d,height:h,bottom:v,right:y}=i;return{top:r,left:c,width:d,height:h,bottom:v,right:y}}function Zg(s){return Yc(s,{ignoreTransform:!0})}function l5(s){const e=s.innerWidth,i=s.innerHeight;return{top:0,left:0,right:e,bottom:i,width:e,height:i}}function i5(s,e){return e===void 0&&(e=al(s).getComputedStyle(s)),e.position==="fixed"}function s5(s,e){e===void 0&&(e=al(s).getComputedStyle(s));const i=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(c=>{const d=e[c];return typeof d=="string"?i.test(d):!1})}function C1(s,e){const i=[];function r(c){if(e!=null&&i.length>=e||!c)return i;if(pm(c)&&c.scrollingElement!=null&&!i.includes(c.scrollingElement))return i.push(c.scrollingElement),i;if(!Fd(c)||np(c)||i.includes(c))return i;const d=al(s).getComputedStyle(c);return c!==s&&s5(c,d)&&i.push(c),i5(c,d)?i:r(c.parentNode)}return s?r(s):i}function cp(s){const[e]=C1(s,1);return e??null}function _2(s){return!b1||!s?null:jc(s)?s:vm(s)?pm(s)||s===Lc(s).scrollingElement?window:Fd(s)?s:null:null}function fp(s){return jc(s)?s.scrollX:s.scrollLeft}function dp(s){return jc(s)?s.scrollY:s.scrollTop}function K2(s){return{x:fp(s),y:dp(s)}}var fa;(function(s){s[s.Forward=1]="Forward",s[s.Backward=-1]="Backward"})(fa||(fa={}));function hp(s){return!b1||!s?!1:s===document.scrollingElement}function mp(s){const e={x:0,y:0},i=hp(s)?{height:window.innerHeight,width:window.innerWidth}:{height:s.clientHeight,width:s.clientWidth},r={x:s.scrollWidth-i.width,y:s.scrollHeight-i.height},c=s.scrollTop<=e.y,d=s.scrollLeft<=e.x,h=s.scrollTop>=r.y,v=s.scrollLeft>=r.x;return{isTop:c,isLeft:d,isBottom:h,isRight:v,maxScroll:r,minScroll:e}}const u5={x:.2,y:.2};function r5(s,e,i,r,c){let{top:d,left:h,right:v,bottom:y}=i;r===void 0&&(r=10),c===void 0&&(c=u5);const{isTop:b,isBottom:_,isLeft:E,isRight:T}=mp(s),N={x:0,y:0},A={x:0,y:0},B={height:e.height*c.y,width:e.width*c.x};return!b&&d<=e.top+B.height?(N.y=fa.Backward,A.y=r*Math.abs((e.top+B.height-d)/B.height)):!_&&y>=e.bottom-B.height&&(N.y=fa.Forward,A.y=r*Math.abs((e.bottom-B.height-y)/B.height)),!T&&v>=e.right-B.width?(N.x=fa.Forward,A.x=r*Math.abs((e.right-B.width-v)/B.width)):!E&&h<=e.left+B.width&&(N.x=fa.Backward,A.x=r*Math.abs((e.left+B.width-h)/B.width)),{direction:N,speed:A}}function o5(s){if(s===document.scrollingElement){const{innerWidth:d,innerHeight:h}=window;return{top:0,left:0,right:d,bottom:h,width:d,height:h}}const{top:e,left:i,right:r,bottom:c}=s.getBoundingClientRect();return{top:e,left:i,right:r,bottom:c,width:s.clientWidth,height:s.clientHeight}}function gp(s){return s.reduce((e,i)=>Hc(e,K2(i)),Bi)}function c5(s){return s.reduce((e,i)=>e+fp(i),0)}function f5(s){return s.reduce((e,i)=>e+dp(i),0)}function vp(s,e){if(e===void 0&&(e=Yc),!s)return;const{top:i,left:r,bottom:c,right:d}=e(s);cp(s)&&(c<=0||d<=0||i>=window.innerHeight||r>=window.innerWidth)&&s.scrollIntoView({block:"center",inline:"center"})}const d5=[["x",["left","right"],c5],["y",["top","bottom"],f5]];let ym=class{constructor(e,i){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=C1(i),c=gp(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[d,h,v]of d5)for(const y of h)Object.defineProperty(this,y,{get:()=>{const b=v(r),_=c[d]-b;return this.rect[y]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class Hd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(i=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...i)})},this.target=e}add(e,i,r){var c;(c=this.target)==null||c.addEventListener(e,i,r),this.listeners.push([e,i,r])}}function h5(s){const{EventTarget:e}=al(s);return s instanceof e?s:Lc(s)}function C2(s,e){const i=Math.abs(s.x),r=Math.abs(s.y);return typeof e=="number"?Math.sqrt(i**2+r**2)>e:"x"in e&&"y"in e?i>e.x&&r>e.y:"x"in e?i>e.x:"y"in e?r>e.y:!1}var ui;(function(s){s.Click="click",s.DragStart="dragstart",s.Keydown="keydown",s.ContextMenu="contextmenu",s.Resize="resize",s.SelectionChange="selectionchange",s.VisibilityChange="visibilitychange"})(ui||(ui={}));function Jg(s){s.preventDefault()}function m5(s){s.stopPropagation()}var Te;(function(s){s.Space="Space",s.Down="ArrowDown",s.Right="ArrowRight",s.Left="ArrowLeft",s.Up="ArrowUp",s.Esc="Escape",s.Enter="Enter",s.Tab="Tab"})(Te||(Te={}));const pp={start:[Te.Space,Te.Enter],cancel:[Te.Esc],end:[Te.Space,Te.Enter,Te.Tab]},g5=(s,e)=>{let{currentCoordinates:i}=e;switch(s.code){case Te.Right:return{...i,x:i.x+25};case Te.Left:return{...i,x:i.x-25};case Te.Down:return{...i,y:i.y+25};case Te.Up:return{...i,y:i.y-25}}};class Sm{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:i}}=e;this.props=e,this.listeners=new Hd(Lc(i)),this.windowListeners=new Hd(al(i)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(ui.Resize,this.handleCancel),this.windowListeners.add(ui.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(ui.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:i}=this.props,r=e.node.current;r&&vp(r),i(Bi)}handleKeyDown(e){if(_1(e)){const{active:i,context:r,options:c}=this.props,{keyboardCodes:d=pp,coordinateGetter:h=g5,scrollBehavior:v="smooth"}=c,{code:y}=e;if(d.end.includes(y)){this.handleEnd(e);return}if(d.cancel.includes(y)){this.handleCancel(e);return}const{collisionRect:b}=r.current,_=b?{x:b.left,y:b.top}:Bi;this.referenceCoordinates||(this.referenceCoordinates=_);const E=h(e,{active:i,context:r.current,currentCoordinates:_});if(E){const T=Vd(E,_),N={x:0,y:0},{scrollableAncestors:A}=r.current;for(const B of A){const w=e.code,{isTop:U,isRight:H,isLeft:L,isBottom:z,maxScroll:F,minScroll:J}=mp(B),Z=o5(B),it={x:Math.min(w===Te.Right?Z.right-Z.width/2:Z.right,Math.max(w===Te.Right?Z.left:Z.left+Z.width/2,E.x)),y:Math.min(w===Te.Down?Z.bottom-Z.height/2:Z.bottom,Math.max(w===Te.Down?Z.top:Z.top+Z.height/2,E.y))},gt=w===Te.Right&&!H||w===Te.Left&&!L,_t=w===Te.Down&&!z||w===Te.Up&&!U;if(gt&&it.x!==E.x){const Nt=B.scrollLeft+T.x,Tt=w===Te.Right&&Nt<=F.x||w===Te.Left&&Nt>=J.x;if(Tt&&!T.y){B.scrollTo({left:Nt,behavior:v});return}Tt?N.x=B.scrollLeft-Nt:N.x=w===Te.Right?B.scrollLeft-F.x:B.scrollLeft-J.x,N.x&&B.scrollBy({left:-N.x,behavior:v});break}else if(_t&&it.y!==E.y){const Nt=B.scrollTop+T.y,Tt=w===Te.Down&&Nt<=F.y||w===Te.Up&&Nt>=J.y;if(Tt&&!T.x){B.scrollTo({top:Nt,behavior:v});return}Tt?N.y=B.scrollTop-Nt:N.y=w===Te.Down?B.scrollTop-F.y:B.scrollTop-J.y,N.y&&B.scrollBy({top:-N.y,behavior:v});break}}this.handleMove(e,Hc(Vd(E,this.referenceCoordinates),N))}}}handleMove(e,i){const{onMove:r}=this.props;e.preventDefault(),r(i)}handleEnd(e){const{onEnd:i}=this.props;e.preventDefault(),this.detach(),i()}handleCancel(e){const{onCancel:i}=this.props;e.preventDefault(),this.detach(),i()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Sm.activators=[{eventName:"onKeyDown",handler:(s,e,i)=>{let{keyboardCodes:r=pp,onActivation:c}=e,{active:d}=i;const{code:h}=s.nativeEvent;if(r.start.includes(h)){const v=d.activatorNode.current;return v&&s.target!==v?!1:(s.preventDefault(),c?.({event:s.nativeEvent}),!0)}return!1}}];function Fg(s){return!!(s&&"distance"in s)}function Ig(s){return!!(s&&"delay"in s)}class bm{constructor(e,i,r){var c;r===void 0&&(r=h5(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=i;const{event:d}=e,{target:h}=d;this.props=e,this.events=i,this.document=Lc(h),this.documentListeners=new Hd(this.document),this.listeners=new Hd(r),this.windowListeners=new Hd(al(h)),this.initialCoordinates=(c=d1(d))!=null?c:Bi,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:i,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(ui.Resize,this.handleCancel),this.windowListeners.add(ui.DragStart,Jg),this.windowListeners.add(ui.VisibilityChange,this.handleCancel),this.windowListeners.add(ui.ContextMenu,Jg),this.documentListeners.add(ui.Keydown,this.handleKeydown),i){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ig(i)){this.timeoutId=setTimeout(this.handleStart,i.delay),this.handlePending(i);return}if(Fg(i)){this.handlePending(i);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,i){const{active:r,onPending:c}=this.props;c(r,e,this.initialCoordinates,i)}handleStart(){const{initialCoordinates:e}=this,{onStart:i}=this.props;e&&(this.activated=!0,this.documentListeners.add(ui.Click,m5,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(ui.SelectionChange,this.removeTextSelection),i(e))}handleMove(e){var i;const{activated:r,initialCoordinates:c,props:d}=this,{onMove:h,options:{activationConstraint:v}}=d;if(!c)return;const y=(i=d1(e))!=null?i:Bi,b=Vd(c,y);if(!r&&v){if(Fg(v)){if(v.tolerance!=null&&C2(b,v.tolerance))return this.handleCancel();if(C2(b,v.distance))return this.handleStart()}if(Ig(v)&&C2(b,v.tolerance))return this.handleCancel();this.handlePending(v,b);return}e.cancelable&&e.preventDefault(),h(y)}handleEnd(){const{onAbort:e,onEnd:i}=this.props;this.detach(),this.activated||e(this.props.active),i()}handleCancel(){const{onAbort:e,onCancel:i}=this.props;this.detach(),this.activated||e(this.props.active),i()}handleKeydown(e){e.code===Te.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const v5={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class xm extends bm{constructor(e){const{event:i}=e,r=Lc(i.target);super(e,v5,r)}}xm.activators=[{eventName:"onPointerDown",handler:(s,e)=>{let{nativeEvent:i}=s,{onActivation:r}=e;return!i.isPrimary||i.button!==0?!1:(r?.({event:i}),!0)}}];const p5={move:{name:"mousemove"},end:{name:"mouseup"}};var Z2;(function(s){s[s.RightClick=2]="RightClick"})(Z2||(Z2={}));class y5 extends bm{constructor(e){super(e,p5,Lc(e.event.target))}}y5.activators=[{eventName:"onMouseDown",handler:(s,e)=>{let{nativeEvent:i}=s,{onActivation:r}=e;return i.button===Z2.RightClick?!1:(r?.({event:i}),!0)}}];const E2={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class S5 extends bm{constructor(e){super(e,E2)}static setup(){return window.addEventListener(E2.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(E2.move.name,e)};function e(){}}}S5.activators=[{eventName:"onTouchStart",handler:(s,e)=>{let{nativeEvent:i}=s,{onActivation:r}=e;const{touches:c}=i;return c.length>1?!1:(r?.({event:i}),!0)}}];var Bd;(function(s){s[s.Pointer=0]="Pointer",s[s.DraggableRect=1]="DraggableRect"})(Bd||(Bd={}));var m1;(function(s){s[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder"})(m1||(m1={}));function b5(s){let{acceleration:e,activator:i=Bd.Pointer,canScroll:r,draggingRect:c,enabled:d,interval:h=5,order:v=m1.TreeOrder,pointerCoordinates:y,scrollableAncestors:b,scrollableAncestorRects:_,delta:E,threshold:T}=s;const N=_5({delta:E,disabled:!d}),[A,B]=w4(),w=G.useRef({x:0,y:0}),U=G.useRef({x:0,y:0}),H=G.useMemo(()=>{switch(i){case Bd.Pointer:return y?{top:y.y,bottom:y.y,left:y.x,right:y.x}:null;case Bd.DraggableRect:return c}},[i,c,y]),L=G.useRef(null),z=G.useCallback(()=>{const J=L.current;if(!J)return;const Z=w.current.x*U.current.x,it=w.current.y*U.current.y;J.scrollBy(Z,it)},[]),F=G.useMemo(()=>v===m1.TreeOrder?[...b].reverse():b,[v,b]);G.useEffect(()=>{if(!d||!b.length||!H){B();return}for(const J of F){if(r?.(J)===!1)continue;const Z=b.indexOf(J),it=_[Z];if(!it)continue;const{direction:gt,speed:_t}=r5(J,it,H,e,T);for(const Nt of["x","y"])N[Nt][gt[Nt]]||(_t[Nt]=0,gt[Nt]=0);if(_t.x>0||_t.y>0){B(),L.current=J,A(z,h),w.current=_t,U.current=gt;return}}w.current={x:0,y:0},U.current={x:0,y:0},B()},[e,z,r,B,d,h,JSON.stringify(H),JSON.stringify(N),A,b,F,_,JSON.stringify(T)])}const x5={x:{[fa.Backward]:!1,[fa.Forward]:!1},y:{[fa.Backward]:!1,[fa.Forward]:!1}};function _5(s){let{delta:e,disabled:i}=s;const r=f1(e);return Id(c=>{if(i||!r||!c)return x5;const d={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[fa.Backward]:c.x[fa.Backward]||d.x===-1,[fa.Forward]:c.x[fa.Forward]||d.x===1},y:{[fa.Backward]:c.y[fa.Backward]||d.y===-1,[fa.Forward]:c.y[fa.Forward]||d.y===1}}},[i,e,r])}function C5(s,e){const i=e!=null?s.get(e):void 0,r=i?i.node.current:null;return Id(c=>{var d;return e==null?null:(d=r??c)!=null?d:null},[r,e])}function E5(s,e){return G.useMemo(()=>s.reduce((i,r)=>{const{sensor:c}=r,d=c.activators.map(h=>({eventName:h.eventName,handler:e(h.handler,r)}));return[...i,...d]},[]),[s,e])}var Kd;(function(s){s[s.Always=0]="Always",s[s.BeforeDragging=1]="BeforeDragging",s[s.WhileDragging=2]="WhileDragging"})(Kd||(Kd={}));var J2;(function(s){s.Optimized="optimized"})(J2||(J2={}));const kg=new Map;function T5(s,e){let{dragging:i,dependencies:r,config:c}=e;const[d,h]=G.useState(null),{frequency:v,measure:y,strategy:b}=c,_=G.useRef(s),E=w(),T=Qd(E),N=G.useCallback(function(U){U===void 0&&(U=[]),!T.current&&h(H=>H===null?U:H.concat(U.filter(L=>!H.includes(L))))},[T]),A=G.useRef(null),B=Id(U=>{if(E&&!i)return kg;if(!U||U===kg||_.current!==s||d!=null){const H=new Map;for(let L of s){if(!L)continue;if(d&&d.length>0&&!d.includes(L.id)&&L.rect.current){H.set(L.id,L.rect.current);continue}const z=L.node.current,F=z?new ym(y(z),z):null;L.rect.current=F,F&&H.set(L.id,F)}return H}return U},[s,d,i,E,y]);return G.useEffect(()=>{_.current=s},[s]),G.useEffect(()=>{E||N()},[i,E]),G.useEffect(()=>{d&&d.length>0&&h(null)},[JSON.stringify(d)]),G.useEffect(()=>{E||typeof v!="number"||A.current!==null||(A.current=setTimeout(()=>{N(),A.current=null},v))},[v,E,N,...r]),{droppableRects:B,measureDroppableContainers:N,measuringScheduled:d!=null};function w(){switch(b){case Kd.Always:return!1;case Kd.BeforeDragging:return i;default:return!i}}}function _m(s,e){return Id(i=>s?i||(typeof e=="function"?e(s):s):null,[e,s])}function A5(s,e){return _m(s,e)}function M5(s){let{callback:e,disabled:i}=s;const r=x1(e),c=G.useMemo(()=>{if(i||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:d}=window;return new d(r)},[r,i]);return G.useEffect(()=>()=>c?.disconnect(),[c]),c}function E1(s){let{callback:e,disabled:i}=s;const r=x1(e),c=G.useMemo(()=>{if(i||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:d}=window;return new d(r)},[i]);return G.useEffect(()=>()=>c?.disconnect(),[c]),c}function R5(s){return new ym(Yc(s),s)}function Wg(s,e,i){e===void 0&&(e=R5);const[r,c]=G.useState(null);function d(){c(y=>{if(!s)return null;if(s.isConnected===!1){var b;return(b=y??i)!=null?b:null}const _=e(s);return JSON.stringify(y)===JSON.stringify(_)?y:_})}const h=M5({callback(y){if(s)for(const b of y){const{type:_,target:E}=b;if(_==="childList"&&E instanceof HTMLElement&&E.contains(s)){d();break}}}}),v=E1({callback:d});return Hi(()=>{d(),s?(v?.observe(s),h?.observe(document.body,{childList:!0,subtree:!0})):(v?.disconnect(),h?.disconnect())},[s]),r}function N5(s){const e=_m(s);return rp(s,e)}const Pg=[];function D5(s){const e=G.useRef(s),i=Id(r=>s?r&&r!==Pg&&s&&e.current&&s.parentNode===e.current.parentNode?r:C1(s):Pg,[s]);return G.useEffect(()=>{e.current=s},[s]),i}function O5(s){const[e,i]=G.useState(null),r=G.useRef(s),c=G.useCallback(d=>{const h=_2(d.target);h&&i(v=>v?(v.set(h,K2(h)),new Map(v)):null)},[]);return G.useEffect(()=>{const d=r.current;if(s!==d){h(d);const v=s.map(y=>{const b=_2(y);return b?(b.addEventListener("scroll",c,{passive:!0}),[b,K2(b)]):null}).filter(y=>y!=null);i(v.length?new Map(v):null),r.current=s}return()=>{h(s),h(d)};function h(v){v.forEach(y=>{const b=_2(y);b?.removeEventListener("scroll",c)})}},[c,s]),G.useMemo(()=>s.length?e?Array.from(e.values()).reduce((d,h)=>Hc(d,h),Bi):gp(s):Bi,[s,e])}function $g(s,e){e===void 0&&(e=[]);const i=G.useRef(null);return G.useEffect(()=>{i.current=null},e),G.useEffect(()=>{const r=s!==Bi;r&&!i.current&&(i.current=s),!r&&i.current&&(i.current=null)},[s]),i.current?Vd(s,i.current):Bi}function z5(s){G.useEffect(()=>{if(!b1)return;const e=s.map(i=>{let{sensor:r}=i;return r.setup==null?void 0:r.setup()});return()=>{for(const i of e)i?.()}},s.map(e=>{let{sensor:i}=e;return i}))}function w5(s,e){return G.useMemo(()=>s.reduce((i,r)=>{let{eventName:c,handler:d}=r;return i[c]=h=>{d(h,e)},i},{}),[s,e])}function yp(s){return G.useMemo(()=>s?l5(s):null,[s])}const tv=[];function H5(s,e){e===void 0&&(e=Yc);const[i]=s,r=yp(i?al(i):null),[c,d]=G.useState(tv);function h(){d(()=>s.length?s.map(y=>hp(y)?r:new ym(e(y),y)):tv)}const v=E1({callback:h});return Hi(()=>{v?.disconnect(),h(),s.forEach(y=>v?.observe(y))},[s]),c}function Sp(s){if(!s)return null;if(s.children.length>1)return s;const e=s.children[0];return Fd(e)?e:s}function B5(s){let{measure:e}=s;const[i,r]=G.useState(null),c=G.useCallback(b=>{for(const{target:_}of b)if(Fd(_)){r(E=>{const T=e(_);return E?{...E,width:T.width,height:T.height}:T});break}},[e]),d=E1({callback:c}),h=G.useCallback(b=>{const _=Sp(b);d?.disconnect(),_&&d?.observe(_),r(_?e(_):null)},[e,d]),[v,y]=c1(h);return G.useMemo(()=>({nodeRef:v,rect:i,setRef:y}),[i,v,y])}const G5=[{sensor:xm,options:{}},{sensor:Sm,options:{}}],U5={current:{}},t1={draggable:{measure:Zg},droppable:{measure:Zg,strategy:Kd.WhileDragging,frequency:J2.Optimized},dragOverlay:{measure:Yc}};class Gd extends Map{get(e){var i;return e!=null&&(i=super.get(e))!=null?i:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:i}=e;return!i})}getNodeFor(e){var i,r;return(i=(r=this.get(e))==null?void 0:r.node.current)!=null?i:void 0}}const j5={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Gd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:h1},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:t1,measureDroppableContainers:h1,windowRect:null,measuringScheduled:!1},bp={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:h1,draggableNodes:new Map,over:null,measureDroppableContainers:h1},Wd=G.createContext(bp),xp=G.createContext(j5);function L5(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Gd}}}function Y5(s,e){switch(e.type){case $n.DragStart:return{...s,draggable:{...s.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case $n.DragMove:return s.draggable.active==null?s:{...s,draggable:{...s.draggable,translate:{x:e.coordinates.x-s.draggable.initialCoordinates.x,y:e.coordinates.y-s.draggable.initialCoordinates.y}}};case $n.DragEnd:case $n.DragCancel:return{...s,draggable:{...s.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case $n.RegisterDroppable:{const{element:i}=e,{id:r}=i,c=new Gd(s.droppable.containers);return c.set(r,i),{...s,droppable:{...s.droppable,containers:c}}}case $n.SetDroppableDisabled:{const{id:i,key:r,disabled:c}=e,d=s.droppable.containers.get(i);if(!d||r!==d.key)return s;const h=new Gd(s.droppable.containers);return h.set(i,{...d,disabled:c}),{...s,droppable:{...s.droppable,containers:h}}}case $n.UnregisterDroppable:{const{id:i,key:r}=e,c=s.droppable.containers.get(i);if(!c||r!==c.key)return s;const d=new Gd(s.droppable.containers);return d.delete(i),{...s,droppable:{...s.droppable,containers:d}}}default:return s}}function q5(s){let{disabled:e}=s;const{active:i,activatorEvent:r,draggableNodes:c}=G.useContext(Wd),d=f1(r),h=f1(i?.id);return G.useEffect(()=>{if(!e&&!r&&d&&h!=null){if(!_1(d)||document.activeElement===d.target)return;const v=c.get(h);if(!v)return;const{activatorNode:y,node:b}=v;if(!y.current&&!b.current)return;requestAnimationFrame(()=>{for(const _ of[y.current,b.current]){if(!_)continue;const E=G4(_);if(E){E.focus();break}}})}},[r,e,c,h,d]),null}function _p(s,e){let{transform:i,...r}=e;return s!=null&&s.length?s.reduce((c,d)=>d({transform:c,...r}),i):i}function X5(s){return G.useMemo(()=>({draggable:{...t1.draggable,...s?.draggable},droppable:{...t1.droppable,...s?.droppable},dragOverlay:{...t1.dragOverlay,...s?.dragOverlay}}),[s?.draggable,s?.droppable,s?.dragOverlay])}function Q5(s){let{activeNode:e,measure:i,initialRect:r,config:c=!0}=s;const d=G.useRef(!1),{x:h,y:v}=typeof c=="boolean"?{x:c,y:c}:c;Hi(()=>{if(!h&&!v||!e){d.current=!1;return}if(d.current||!r)return;const b=e?.node.current;if(!b||b.isConnected===!1)return;const _=i(b),E=rp(_,r);if(h||(E.x=0),v||(E.y=0),d.current=!0,Math.abs(E.x)>0||Math.abs(E.y)>0){const T=cp(b);T&&T.scrollBy({top:E.y,left:E.x})}},[e,h,v,r,i])}const T1=G.createContext({...Bi,scaleX:1,scaleY:1});var tr;(function(s){s[s.Uninitialized=0]="Uninitialized",s[s.Initializing=1]="Initializing",s[s.Initialized=2]="Initialized"})(tr||(tr={}));const V5=G.memo(function(e){var i,r,c,d;let{id:h,accessibility:v,autoScroll:y=!0,children:b,sensors:_=G5,collisionDetection:E=P4,measuring:T,modifiers:N,...A}=e;const B=G.useReducer(Y5,void 0,L5),[w,U]=B,[H,L]=X4(),[z,F]=G.useState(tr.Uninitialized),J=z===tr.Initialized,{draggable:{active:Z,nodes:it,translate:gt},droppable:{containers:_t}}=w,Nt=Z!=null?it.get(Z):null,Tt=G.useRef({initial:null,translated:null}),Ut=G.useMemo(()=>{var We;return Z!=null?{id:Z,data:(We=Nt?.data)!=null?We:U5,rect:Tt}:null},[Z,Nt]),zt=G.useRef(null),[Ct,D]=G.useState(null),[Q,I]=G.useState(null),at=Qd(A,Object.values(A)),ht=kd("DndDescribedBy",h),O=G.useMemo(()=>_t.getEnabled(),[_t]),K=X5(T),{droppableRects:ct,measureDroppableContainers:yt,measuringScheduled:Ht}=T5(O,{dragging:J,dependencies:[gt.x,gt.y],config:K.droppable}),At=C5(it,Z),kt=G.useMemo(()=>Q?d1(Q):null,[Q]),Zt=Li(),Yt=A5(At,K.draggable.measure);Q5({activeNode:Z!=null?it.get(Z):null,config:Zt.layoutShiftCompensation,initialRect:Yt,measure:K.draggable.measure});const te=Wg(At,K.draggable.measure,Yt),_n=Wg(At?At.parentElement:null),he=G.useRef({activatorEvent:null,active:null,activeNode:At,collisionRect:null,collisions:null,droppableRects:ct,draggableNodes:it,draggingNode:null,draggingNodeRect:null,droppableContainers:_t,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$=_t.getNodeFor((i=he.current.over)==null?void 0:i.id),pt=B5({measure:K.dragOverlay.measure}),Ot=(r=pt.nodeRef.current)!=null?r:At,Bt=J?(c=pt.rect)!=null?c:te:null,Vt=!!(pt.nodeRef.current&&pt.rect),Re=N5(Vt?null:te),Ye=yp(Ot?al(Ot):null),Ce=D5(J?$??At:null),Ze=H5(Ce),Ge=_p(N,{transform:{x:gt.x-Re.x,y:gt.y-Re.y,scaleX:1,scaleY:1},activatorEvent:Q,active:Ut,activeNodeRect:te,containerNodeRect:_n,draggingNodeRect:Bt,over:he.current.over,overlayNodeRect:pt.rect,scrollableAncestors:Ce,scrollableAncestorRects:Ze,windowRect:Ye}),Kt=kt?Hc(kt,gt):null,Qt=O5(Ce),ke=$g(Qt),Ra=$g(Qt,[te]),Le=Hc(Ge,ke),Je=Bt?e5(Bt,Ge):null,mn=Ut&&Je?E({active:Ut,collisionRect:Je,droppableRects:ct,droppableContainers:O,pointerCoordinates:Kt}):null,ll=up(mn,"id"),[da,rr]=G.useState(null),ji=Vt?Ge:Hc(Ge,Ra),ea=$4(ji,(d=da?.rect)!=null?d:null,te),Ya=G.useRef(null),na=G.useCallback((We,gn)=>{let{sensor:Cn,options:ha}=gn;if(zt.current==null)return;const ma=it.get(zt.current);if(!ma)return;const vn=We.nativeEvent,ga=new Cn({active:zt.current,activeNode:ma,event:vn,options:ha,context:he,onAbort(pn){if(!it.get(pn))return;const{onDragAbort:aa}=at.current,Xa={id:pn};aa?.(Xa),H({type:"onDragAbort",event:Xa})},onPending(pn,va,aa,Xa){if(!it.get(pn))return;const{onDragPending:sl}=at.current,Qa={id:pn,constraint:va,initialCoordinates:aa,offset:Xa};sl?.(Qa),H({type:"onDragPending",event:Qa})},onStart(pn){const va=zt.current;if(va==null)return;const aa=it.get(va);if(!aa)return;const{onDragStart:Xa}=at.current,il={activatorEvent:vn,active:{id:va,data:aa.data,rect:Tt}};Oc.unstable_batchedUpdates(()=>{Xa?.(il),F(tr.Initializing),U({type:$n.DragStart,initialCoordinates:pn,active:va}),H({type:"onDragStart",event:il}),D(Ya.current),I(vn)})},onMove(pn){U({type:$n.DragMove,coordinates:pn})},onEnd:qa($n.DragEnd),onCancel:qa($n.DragCancel)});Ya.current=ga;function qa(pn){return async function(){const{active:aa,collisions:Xa,over:il,scrollAdjustedTranslate:sl}=he.current;let Qa=null;if(aa&&sl){const{cancelDrop:Na}=at.current;Qa={activatorEvent:vn,active:aa,collisions:Xa,delta:sl,over:il},pn===$n.DragEnd&&typeof Na=="function"&&await Promise.resolve(Na(Qa))&&(pn=$n.DragCancel)}zt.current=null,Oc.unstable_batchedUpdates(()=>{U({type:pn}),F(tr.Uninitialized),rr(null),D(null),I(null),Ya.current=null;const Na=pn===$n.DragEnd?"onDragEnd":"onDragCancel";if(Qa){const Va=at.current[Na];Va?.(Qa),H({type:Na,event:Qa})}})}}},[it]),or=G.useCallback((We,gn)=>(Cn,ha)=>{const ma=Cn.nativeEvent,vn=it.get(ha);if(zt.current!==null||!vn||ma.dndKit||ma.defaultPrevented)return;const ga={active:vn};We(Cn,gn.options,ga)===!0&&(ma.dndKit={capturedBy:gn.sensor},zt.current=ha,na(Cn,gn))},[it,na]),co=E5(_,or);z5(_),Hi(()=>{te&&z===tr.Initializing&&F(tr.Initialized)},[te,z]),G.useEffect(()=>{const{onDragMove:We}=at.current,{active:gn,activatorEvent:Cn,collisions:ha,over:ma}=he.current;if(!gn||!Cn)return;const vn={active:gn,activatorEvent:Cn,collisions:ha,delta:{x:Le.x,y:Le.y},over:ma};Oc.unstable_batchedUpdates(()=>{We?.(vn),H({type:"onDragMove",event:vn})})},[Le.x,Le.y]),G.useEffect(()=>{const{active:We,activatorEvent:gn,collisions:Cn,droppableContainers:ha,scrollAdjustedTranslate:ma}=he.current;if(!We||zt.current==null||!gn||!ma)return;const{onDragOver:vn}=at.current,ga=ha.get(ll),qa=ga&&ga.rect.current?{id:ga.id,rect:ga.rect.current,data:ga.data,disabled:ga.disabled}:null,pn={active:We,activatorEvent:gn,collisions:Cn,delta:{x:ma.x,y:ma.y},over:qa};Oc.unstable_batchedUpdates(()=>{rr(qa),vn?.(pn),H({type:"onDragOver",event:pn})})},[ll]),Hi(()=>{he.current={activatorEvent:Q,active:Ut,activeNode:At,collisionRect:Je,collisions:mn,droppableRects:ct,draggableNodes:it,draggingNode:Ot,draggingNodeRect:Bt,droppableContainers:_t,over:da,scrollableAncestors:Ce,scrollAdjustedTranslate:Le},Tt.current={initial:Bt,translated:Je}},[Ut,At,mn,Je,it,Ot,Bt,ct,_t,da,Ce,Le]),b5({...Zt,delta:gt,draggingRect:Je,pointerCoordinates:Kt,scrollableAncestors:Ce,scrollableAncestorRects:Ze});const fo=G.useMemo(()=>({active:Ut,activeNode:At,activeNodeRect:te,activatorEvent:Q,collisions:mn,containerNodeRect:_n,dragOverlay:pt,draggableNodes:it,droppableContainers:_t,droppableRects:ct,over:da,measureDroppableContainers:yt,scrollableAncestors:Ce,scrollableAncestorRects:Ze,measuringConfiguration:K,measuringScheduled:Ht,windowRect:Ye}),[Ut,At,te,Q,mn,_n,pt,it,_t,ct,da,yt,Ce,Ze,K,Ht,Ye]),iu=G.useMemo(()=>({activatorEvent:Q,activators:co,active:Ut,activeNodeRect:te,ariaDescribedById:{draggable:ht},dispatch:U,draggableNodes:it,over:da,measureDroppableContainers:yt}),[Q,co,Ut,te,U,ht,it,da,yt]);return Lt.createElement(lp.Provider,{value:L},Lt.createElement(Wd.Provider,{value:iu},Lt.createElement(xp.Provider,{value:fo},Lt.createElement(T1.Provider,{value:ea},b)),Lt.createElement(q5,{disabled:v?.restoreFocus===!1})),Lt.createElement(K4,{...v,hiddenTextDescribedById:ht}));function Li(){const We=Ct?.autoScrollEnabled===!1,gn=typeof y=="object"?y.enabled===!1:y===!1,Cn=J&&!We&&!gn;return typeof y=="object"?{...y,enabled:Cn}:{enabled:Cn}}}),K5=G.createContext(null),ev="button",Z5="Draggable";function J5(s){let{id:e,data:i,disabled:r=!1,attributes:c}=s;const d=kd(Z5),{activators:h,activatorEvent:v,active:y,activeNodeRect:b,ariaDescribedById:_,draggableNodes:E,over:T}=G.useContext(Wd),{role:N=ev,roleDescription:A="draggable",tabIndex:B=0}=c??{},w=y?.id===e,U=G.useContext(w?T1:K5),[H,L]=c1(),[z,F]=c1(),J=w5(h,e),Z=Qd(i);Hi(()=>(E.set(e,{id:e,key:d,node:H,activatorNode:z,data:Z}),()=>{const gt=E.get(e);gt&&gt.key===d&&E.delete(e)}),[E,e]);const it=G.useMemo(()=>({role:N,tabIndex:B,"aria-disabled":r,"aria-pressed":w&&N===ev?!0:void 0,"aria-roledescription":A,"aria-describedby":_.draggable}),[r,N,B,w,A,_.draggable]);return{active:y,activatorEvent:v,activeNodeRect:b,attributes:it,isDragging:w,listeners:r?void 0:J,node:H,over:T,setNodeRef:L,setActivatorNodeRef:F,transform:U}}function Cp(){return G.useContext(xp)}const F5="Droppable",I5={timeout:25};function k5(s){let{data:e,disabled:i=!1,id:r,resizeObserverConfig:c}=s;const d=kd(F5),{active:h,dispatch:v,over:y,measureDroppableContainers:b}=G.useContext(Wd),_=G.useRef({disabled:i}),E=G.useRef(!1),T=G.useRef(null),N=G.useRef(null),{disabled:A,updateMeasurementsFor:B,timeout:w}={...I5,...c},U=Qd(B??r),H=G.useCallback(()=>{if(!E.current){E.current=!0;return}N.current!=null&&clearTimeout(N.current),N.current=setTimeout(()=>{b(Array.isArray(U.current)?U.current:[U.current]),N.current=null},w)},[w]),L=E1({callback:H,disabled:A||!h}),z=G.useCallback((it,gt)=>{L&&(gt&&(L.unobserve(gt),E.current=!1),it&&L.observe(it))},[L]),[F,J]=c1(z),Z=Qd(e);return G.useEffect(()=>{!L||!F.current||(L.disconnect(),E.current=!1,L.observe(F.current))},[F,L]),G.useEffect(()=>(v({type:$n.RegisterDroppable,element:{id:r,key:d,disabled:i,node:F,rect:T,data:Z}}),()=>v({type:$n.UnregisterDroppable,key:d,id:r})),[r]),G.useEffect(()=>{i!==_.current.disabled&&(v({type:$n.SetDroppableDisabled,id:r,key:d,disabled:i}),_.current.disabled=i)},[r,d,i,v]),{active:h,rect:T,isOver:y?.id===r,node:F,over:y,setNodeRef:J}}function W5(s){let{animation:e,children:i}=s;const[r,c]=G.useState(null),[d,h]=G.useState(null),v=f1(i);return!i&&!r&&v&&c(v),Hi(()=>{if(!d)return;const y=r?.key,b=r?.props.id;if(y==null||b==null){c(null);return}Promise.resolve(e(b,d)).then(()=>{c(null)})},[e,r,d]),Lt.createElement(Lt.Fragment,null,i,r?G.cloneElement(r,{ref:h}):null)}const P5={x:0,y:0,scaleX:1,scaleY:1};function $5(s){let{children:e}=s;return Lt.createElement(Wd.Provider,{value:bp},Lt.createElement(T1.Provider,{value:P5},e))}const t6={position:"fixed",touchAction:"none"},e6=s=>_1(s)?"transform 250ms ease":void 0,n6=G.forwardRef((s,e)=>{let{as:i,activatorEvent:r,adjustScale:c,children:d,className:h,rect:v,style:y,transform:b,transition:_=e6}=s;if(!v)return null;const E=c?b:{...b,scaleX:1,scaleY:1},T={...t6,width:v.width,height:v.height,top:v.top,left:v.left,transform:eu.Transform.toString(E),transformOrigin:c&&r?J4(r,v):void 0,transition:typeof _=="function"?_(r):_,...y};return Lt.createElement(i,{className:h,style:T,ref:e},d)}),a6=s=>e=>{let{active:i,dragOverlay:r}=e;const c={},{styles:d,className:h}=s;if(d!=null&&d.active)for(const[v,y]of Object.entries(d.active))y!==void 0&&(c[v]=i.node.style.getPropertyValue(v),i.node.style.setProperty(v,y));if(d!=null&&d.dragOverlay)for(const[v,y]of Object.entries(d.dragOverlay))y!==void 0&&r.node.style.setProperty(v,y);return h!=null&&h.active&&i.node.classList.add(h.active),h!=null&&h.dragOverlay&&r.node.classList.add(h.dragOverlay),function(){for(const[y,b]of Object.entries(c))i.node.style.setProperty(y,b);h!=null&&h.active&&i.node.classList.remove(h.active)}},l6=s=>{let{transform:{initial:e,final:i}}=s;return[{transform:eu.Transform.toString(e)},{transform:eu.Transform.toString(i)}]},i6={duration:250,easing:"ease",keyframes:l6,sideEffects:a6({styles:{active:{opacity:"0"}}})};function s6(s){let{config:e,draggableNodes:i,droppableContainers:r,measuringConfiguration:c}=s;return x1((d,h)=>{if(e===null)return;const v=i.get(d);if(!v)return;const y=v.node.current;if(!y)return;const b=Sp(h);if(!b)return;const{transform:_}=al(h).getComputedStyle(h),E=op(_);if(!E)return;const T=typeof e=="function"?e:u6(e);return vp(y,c.draggable.measure),T({active:{id:d,data:v.data,node:y,rect:c.draggable.measure(y)},draggableNodes:i,dragOverlay:{node:h,rect:c.dragOverlay.measure(b)},droppableContainers:r,measuringConfiguration:c,transform:E})})}function u6(s){const{duration:e,easing:i,sideEffects:r,keyframes:c}={...i6,...s};return d=>{let{active:h,dragOverlay:v,transform:y,...b}=d;if(!e)return;const _={x:v.rect.left-h.rect.left,y:v.rect.top-h.rect.top},E={scaleX:y.scaleX!==1?h.rect.width*y.scaleX/v.rect.width:1,scaleY:y.scaleY!==1?h.rect.height*y.scaleY/v.rect.height:1},T={x:y.x-_.x,y:y.y-_.y,...E},N=c({...b,active:h,dragOverlay:v,transform:{initial:y,final:T}}),[A]=N,B=N[N.length-1];if(JSON.stringify(A)===JSON.stringify(B))return;const w=r?.({active:h,dragOverlay:v,...b}),U=v.node.animate(N,{duration:e,easing:i,fill:"forwards"});return new Promise(H=>{U.onfinish=()=>{w?.(),H()}})}}let nv=0;function r6(s){return G.useMemo(()=>{if(s!=null)return nv++,nv},[s])}const o6=Lt.memo(s=>{let{adjustScale:e=!1,children:i,dropAnimation:r,style:c,transition:d,modifiers:h,wrapperElement:v="div",className:y,zIndex:b=999}=s;const{activatorEvent:_,active:E,activeNodeRect:T,containerNodeRect:N,draggableNodes:A,droppableContainers:B,dragOverlay:w,over:U,measuringConfiguration:H,scrollableAncestors:L,scrollableAncestorRects:z,windowRect:F}=Cp(),J=G.useContext(T1),Z=r6(E?.id),it=_p(h,{activatorEvent:_,active:E,activeNodeRect:T,containerNodeRect:N,draggingNodeRect:w.rect,over:U,overlayNodeRect:w.rect,scrollableAncestors:L,scrollableAncestorRects:z,transform:J,windowRect:F}),gt=_m(T),_t=s6({config:r,draggableNodes:A,droppableContainers:B,measuringConfiguration:H}),Nt=gt?w.setRef:void 0;return Lt.createElement($5,null,Lt.createElement(W5,{animation:_t},E&&Z?Lt.createElement(n6,{key:Z,id:E.id,ref:Nt,as:v,activatorEvent:_,adjustScale:e,className:y,transition:d,rect:gt,style:{zIndex:b,...c},transform:it},i):null))});function Ud(s,e,i){const r=s.slice();return r.splice(i<0?r.length+i:i,0,r.splice(e,1)[0]),r}function c6(s,e){return s.reduce((i,r,c)=>{const d=e.get(r);return d&&(i[c]=d),i},Array(s.length))}function L0(s){return s!==null&&s>=0}function f6(s,e){if(s===e)return!0;if(s.length!==e.length)return!1;for(let i=0;i<s.length;i++)if(s[i]!==e[i])return!1;return!0}function d6(s){return typeof s=="boolean"?{draggable:s,droppable:s}:s}const g1=s=>{let{rects:e,activeIndex:i,overIndex:r,index:c}=s;const d=Ud(e,r,i),h=e[c],v=d[c];return!v||!h?null:{x:v.left-h.left,y:v.top-h.top,scaleX:v.width/h.width,scaleY:v.height/h.height}},Ep="Sortable",Tp=Lt.createContext({activeIndex:-1,containerId:Ep,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:g1,disabled:{draggable:!1,droppable:!1}});function av(s){let{children:e,id:i,items:r,strategy:c=g1,disabled:d=!1}=s;const{active:h,dragOverlay:v,droppableRects:y,over:b,measureDroppableContainers:_}=Cp(),E=kd(Ep,i),T=v.rect!==null,N=G.useMemo(()=>r.map(J=>typeof J=="object"&&"id"in J?J.id:J),[r]),A=h!=null,B=h?N.indexOf(h.id):-1,w=b?N.indexOf(b.id):-1,U=G.useRef(N),H=!f6(N,U.current),L=w!==-1&&B===-1||H,z=d6(d);Hi(()=>{H&&A&&_(N)},[H,N,A,_]),G.useEffect(()=>{U.current=N},[N]);const F=G.useMemo(()=>({activeIndex:B,containerId:E,disabled:z,disableTransforms:L,items:N,overIndex:w,useDragOverlay:T,sortedRects:c6(N,y),strategy:c}),[B,E,z.draggable,z.droppable,L,N,w,y,T,c]);return Lt.createElement(Tp.Provider,{value:F},e)}const h6=s=>{let{id:e,items:i,activeIndex:r,overIndex:c}=s;return Ud(i,r,c).indexOf(e)},m6=s=>{let{containerId:e,isSorting:i,wasDragging:r,index:c,items:d,newIndex:h,previousItems:v,previousContainerId:y,transition:b}=s;return!b||!r||v!==d&&c===h?!1:i?!0:h!==c&&e===y},g6={duration:200,easing:"ease"},Ap="transform",v6=eu.Transition.toString({property:Ap,duration:0,easing:"linear"}),p6={roleDescription:"sortable"};function y6(s){let{disabled:e,index:i,node:r,rect:c}=s;const[d,h]=G.useState(null),v=G.useRef(i);return Hi(()=>{if(!e&&i!==v.current&&r.current){const y=c.current;if(y){const b=Yc(r.current,{ignoreTransform:!0}),_={x:y.left-b.left,y:y.top-b.top,scaleX:y.width/b.width,scaleY:y.height/b.height};(_.x||_.y)&&h(_)}}i!==v.current&&(v.current=i)},[e,i,r,c]),G.useEffect(()=>{d&&h(null)},[d]),d}function Mp(s){let{animateLayoutChanges:e=m6,attributes:i,disabled:r,data:c,getNewIndex:d=h6,id:h,strategy:v,resizeObserverConfig:y,transition:b=g6}=s;const{items:_,containerId:E,activeIndex:T,disabled:N,disableTransforms:A,sortedRects:B,overIndex:w,useDragOverlay:U,strategy:H}=G.useContext(Tp),L=S6(r,N),z=_.indexOf(h),F=G.useMemo(()=>({sortable:{containerId:E,index:z,items:_},...c}),[E,c,z,_]),J=G.useMemo(()=>_.slice(_.indexOf(h)),[_,h]),{rect:Z,node:it,isOver:gt,setNodeRef:_t}=k5({id:h,data:F,disabled:L.droppable,resizeObserverConfig:{updateMeasurementsFor:J,...y}}),{active:Nt,activatorEvent:Tt,activeNodeRect:Ut,attributes:zt,setNodeRef:Ct,listeners:D,isDragging:Q,over:I,setActivatorNodeRef:at,transform:ht}=J5({id:h,data:F,attributes:{...p6,...i},disabled:L.draggable}),O=z4(_t,Ct),K=!!Nt,ct=K&&!A&&L0(T)&&L0(w),yt=!U&&Q,Ht=yt&&ct?ht:null,kt=ct?Ht??(v??H)({rects:B,activeNodeRect:Ut,activeIndex:T,overIndex:w,index:z}):null,Zt=L0(T)&&L0(w)?d({id:h,items:_,activeIndex:T,overIndex:w}):z,Yt=Nt?.id,te=G.useRef({activeId:Yt,items:_,newIndex:Zt,containerId:E}),_n=_!==te.current.items,he=e({active:Nt,containerId:E,isDragging:Q,isSorting:K,id:h,index:z,items:_,newIndex:te.current.newIndex,previousItems:te.current.items,previousContainerId:te.current.containerId,transition:b,wasDragging:te.current.activeId!=null}),$=y6({disabled:!he,index:z,node:it,rect:Z});return G.useEffect(()=>{K&&te.current.newIndex!==Zt&&(te.current.newIndex=Zt),E!==te.current.containerId&&(te.current.containerId=E),_!==te.current.items&&(te.current.items=_)},[K,Zt,E,_]),G.useEffect(()=>{if(Yt===te.current.activeId)return;if(Yt!=null&&te.current.activeId==null){te.current.activeId=Yt;return}const Ot=setTimeout(()=>{te.current.activeId=Yt},50);return()=>clearTimeout(Ot)},[Yt]),{active:Nt,activeIndex:T,attributes:zt,data:F,rect:Z,index:z,newIndex:Zt,items:_,isOver:gt,isSorting:K,isDragging:Q,listeners:D,node:it,overIndex:w,over:I,setNodeRef:O,setActivatorNodeRef:at,setDroppableNodeRef:_t,setDraggableNodeRef:Ct,transform:$??kt,transition:pt()};function pt(){if($||_n&&te.current.newIndex===z)return v6;if(!(yt&&!_1(Tt)||!b)&&(K||he))return eu.Transition.toString({...b,property:Ap})}}function S6(s,e){var i,r;return typeof s=="boolean"?{draggable:s,droppable:!1}:{draggable:(i=s?.draggable)!=null?i:e.draggable,droppable:(r=s?.droppable)!=null?r:e.droppable}}function v1(s){if(!s)return!1;const e=s.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const b6=[Te.Down,Te.Right,Te.Up,Te.Left],x6=(s,e)=>{let{context:{active:i,collisionRect:r,droppableRects:c,droppableContainers:d,over:h,scrollableAncestors:v}}=e;if(b6.includes(s.code)){if(s.preventDefault(),!i||!r)return;const y=[];d.getEnabled().forEach(E=>{if(!E||E!=null&&E.disabled)return;const T=c.get(E.id);if(T)switch(s.code){case Te.Down:r.top<T.top&&y.push(E);break;case Te.Up:r.top>T.top&&y.push(E);break;case Te.Left:r.left>T.left&&y.push(E);break;case Te.Right:r.left<T.left&&y.push(E);break}});const b=k4({collisionRect:r,droppableRects:c,droppableContainers:y});let _=up(b,"id");if(_===h?.id&&b.length>1&&(_=b[1].id),_!=null){const E=d.get(i.id),T=d.get(_),N=T?c.get(T.id):null,A=T?.node.current;if(A&&N&&E&&T){const w=C1(A).some((J,Z)=>v[Z]!==J),U=Rp(E,T),H=_6(E,T),L=w||!U?{x:0,y:0}:{x:H?r.width-N.width:0,y:H?r.height-N.height:0},z={x:N.left,y:N.top};return L.x&&L.y?z:Vd(z,L)}}}};function Rp(s,e){return!v1(s)||!v1(e)?!1:s.data.current.sortable.containerId===e.data.current.sortable.containerId}function _6(s,e){return!v1(s)||!v1(e)||!Rp(s,e)?!1:s.data.current.sortable.index<e.data.current.sortable.index}const C6=s=>Array.isArray(s)?s:[],E6=({image:s,onDragStart:e,onContextMenu:i})=>{const{attributes:r,listeners:c,setNodeRef:d,transform:h,transition:v,isDragging:y}=Mp({id:s.id}),b={transform:eu.Transform.toString(h),transition:v,opacity:y?.5:1,zIndex:y?999:"auto"};return Y.jsx("div",{ref:d,id:s.id,style:b,...r,...c,className:"mb-4 group overflow-hidden relative rounded hover:z-10 cursor-grab active:cursor-grabbing",children:Y.jsxs("div",{draggable:!0,onDragStart:_=>e(_,s),onContextMenu:_=>i(_,s),children:[Y.jsx("img",{src:s.localUrl,alt:s.pageTitle||"Reference",className:"w-full bg-neutral-800 transition-transform duration-300 group-hover:scale-105",loading:"lazy"}),!Array.isArray(s.vector)&&Y.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-yellow-500 shadow-sm",title:"Not Indexed"}),typeof s.name=="string"&&s.name.trim().length>0&&Y.jsx("div",{className:"absolute top-1 left-1 max-w-[calc(100%-2.5rem)] px-2 py-1 rounded bg-black/30 backdrop-blur-sm text-white text-[8px] font-normal leading-none truncate",title:s.name,children:s.name}),Y.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:Y.jsx("div",{className:"flex flex-wrap gap-1 items-center",children:C6(s.tags).slice(0,5).map(_=>Y.jsx(no,{tag:_},_))})})]})})},T6=async s=>{const e=Array.from(s.items),i=[],r=async c=>{if(c.isFile)try{const d=await new Promise((h,v)=>{c.file(h,v)});i.push(d)}catch(d){console.error("Failed to read file entry",c.name,d)}else if(c.isDirectory)try{const d=c.createReader(),v=await(async()=>{const y=[];let b=[];do b=await new Promise((_,E)=>{d.readEntries(_,E)}),y.push(...b);while(b.length>0);return y})();for(const y of v)await r(y)}catch(d){console.error("Failed to read directory entry",c.name,d)}};for(const c of e){const d=c.webkitGetAsEntry();d&&await r(d)}return i},Np=async s=>{const e=[];for(const i of s)if(i.type.startsWith("image/"))try{const r=i;let c=null;if(r.path){c=`file://${encodeURI(r.path)}`;const d=await fetch("http://localhost:30001/api/collect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:c,pageTitle:i.name,filename:i.name})});if(d.ok){const h=await d.json();h.success&&h.meta&&(St.addImage(h.meta),e.push(h.meta))}else console.error("Failed to import",i.name)}else{const d=await new Promise((v,y)=>{const b=new FileReader;b.onload=()=>v(String(b.result||"")),b.onerror=()=>y(new Error("Failed to read file")),b.readAsDataURL(i)}),h=await fetch("http://localhost:30001/api/import-blob",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:d,filename:i.name})});if(h.ok){const v=await h.json();v.success&&v.meta&&(St.addImage(v.meta),e.push(v.meta))}else console.error("Failed to import blob",i.name)}}catch(r){console.error("Error importing file",i.name,r)}return e},lv=s=>Array.isArray(s)?s:[],e1=248,A6=210,T2=(s,e)=>{const i=Math.min(Math.max(12,s),window.innerWidth-e1-12),r=Math.min(Math.max(12,e),window.innerHeight-A6-12);return{x:i,y:r}},A2=({color:s,selected:e,onPress:i,onReplaceWithCurrent:r})=>{const c=G.useRef(null),d=G.useRef(!1),h=()=>{c.current!==null&&(window.clearTimeout(c.current),c.current=null)};return Y.jsx("button",{type:"button",className:["w-5 h-5 rounded transition-all",e?"ring-2":"hover:border-white/60"].join(" "),style:{backgroundColor:s,"--tw-ring-color":e?nr(Oe.primary,.2):void 0},onPointerDown:v=>{v.preventDefault(),d.current=!1,r&&(h(),c.current=window.setTimeout(()=>{d.current=!0,r()},420))},onPointerUp:v=>{v.preventDefault();const y=d.current;h(),y||i()},onPointerCancel:()=>h(),onPointerLeave:()=>h(),title:r?`${s} (long press to replace)`:s})},M2=({value:s,onChange:e,className:i})=>Y.jsx("div",{className:`relative w-8 h-8 rounded overflow-hidden ${i||""}`,children:Y.jsx("input",{type:"color",value:s,onChange:r=>e(r.target.value),className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] h-[150%] p-0 m-0 border-0 cursor-pointer"})}),M6=({tag:s,onClick:e})=>{const{attributes:i,listeners:r,setNodeRef:c,transform:d,transition:h,isDragging:v}=Mp({id:s}),y={transform:v?void 0:eu.Transform.toString(d),transition:v?void 0:h,opacity:v?0:1,cursor:"grab",willChange:"transform"};return Y.jsx("div",{id:`tag-${s}`,ref:c,style:y,...i,...r,className:"flex-shrink-0",children:Y.jsx(no,{tag:s,showColor:!1,size:"md",onClick:e})})},R6=({size:s,className:e,children:i})=>Y.jsx("div",{className:`pointer-events-none ${e||""}`,style:s?{width:s.width,height:s.height}:void 0,children:i}),N6=({value:s,allTags:e,onClose:i,onOpenFile:r,onDelete:c,onReindex:d,onOpenDominantColorPicker:h,onUpdateName:v,onAddTag:y,onRemoveTag:b})=>{const[_,E]=G.useState(""),[T,N]=G.useState(!1),A=G.useRef(null),B=G.useRef(null);G.useLayoutEffect(()=>{const z=B.current;if(!z)return;const F=z.getBoundingClientRect(),J=8;let Z=s.y,it=s.x;Z+F.height+J>window.innerHeight&&(Z=window.innerHeight-F.height-J),it+F.width+J>window.innerWidth&&(it=window.innerWidth-F.width-J),Z<J&&(Z=J),it<J&&(it=J),z.style.top=`${Z}px`,z.style.left=`${it}px`,z.style.maxHeight=`calc(100vh - ${J*2}px)`},[s.x,s.y,s.image.id]);const[w,U]=G.useState(()=>s.image.name),H=G.useMemo(()=>V2({delay:500},z=>{const F=z.trim();F&&v(F)}),[v]),L=s.image.dominantColor;return Y.jsxs("div",{className:"fixed bg-neutral-900 border border-neutral-700 rounded-lg shadow-2xl z-50 py-2 w-64 overflow-hidden text-sm",style:{top:s.y,left:s.x,maxHeight:"calc(100vh - 16px)",overflowY:"auto"},ref:B,onClick:z=>z.stopPropagation(),children:[Y.jsxs("div",{className:"px-4 py-2",children:[Y.jsx("div",{className:"text-xs text-neutral-400 mb-1",children:"Name"}),Y.jsx("input",{className:"w-full bg-black/50 border border-neutral-700 rounded px-2 py-1.5 text-white text-xs outline-none focus:border-[var(--brand-color)] focus:ring-1 focus:ring-[var(--brand-color-transparent)] transition-colors",style:{"--brand-color":Oe.primary,"--brand-color-transparent":nr(Oe.primary,.5)},value:w,onChange:z=>{const F=z.target.value;U(F),H(F)},onBlur:()=>{H.cancel();const z=w.trim();if(!z){U(s.image.name);return}z!==s.image.name&&v(z)},onKeyDown:z=>{z.key==="Enter"&&z.currentTarget.blur()},placeholder:"Image name"})]}),Y.jsx("div",{className:"border-t border-neutral-800 my-1"}),s.image.pageUrl&&Y.jsxs(Y.Fragment,{children:[Y.jsxs("div",{className:"flex justify-between",children:[Y.jsx("div",{className:"px-4 py-1 text-xs text-neutral-400",children:"Link"}),Y.jsxs("a",{href:s.image.pageUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-1.5 text-neutral-400 hover:text-white hover:bg-neutral-800 truncate transition-colors",title:s.image.pageUrl,onClick:()=>i(),children:[Y.jsx(f3,{size:12}),Y.jsx("span",{className:"truncate text-[10px]",children:new URL(s.image.pageUrl).hostname})]})]}),Y.jsx("div",{className:"border-t border-neutral-800 my-1"})]}),Y.jsxs("div",{className:"px-4 py-2",children:[Y.jsx("div",{className:"text-xs text-neutral-400 mb-1",children:"Tags"}),Y.jsxs("div",{className:"relative",children:[Y.jsxs("div",{className:`flex flex-wrap items-center gap-1.5 px-2 py-1.5 bg-black/50 border rounded transition-colors cursor-text ${T?"border-[var(--brand-color)] ring-1 ring-[var(--brand-color-transparent)]":"border-neutral-700"}`,style:{"--brand-color":Oe.primary,"--brand-color-transparent":nr(Oe.primary,.5)},onClick:()=>A.current?.focus(),children:[s.image.tags.map(z=>Y.jsx(no,{tag:z,size:"sm",isEdit:!0,onRemove:()=>b(z)},z)),Y.jsx("input",{ref:A,className:"flex-1 bg-transparent text-white text-xs outline-none min-w-[60px] placeholder-neutral-600",placeholder:s.image.tags.length===0?"Add tag...":"",value:_,onChange:z=>E(z.target.value),onFocus:()=>N(!0),onBlur:()=>{setTimeout(()=>N(!1),200)},onKeyDown:z=>{z.key==="Enter"?_.trim()&&(y(_),E("")):z.key==="Backspace"&&_===""&&s.image.tags.length>0&&b(s.image.tags[s.image.tags.length-1])}})]}),T&&e.length>0&&(()=>{const z=_.trim().toLowerCase(),F=e.filter(J=>J.toLowerCase().includes(z)).filter(J=>!s.image.tags.includes(J)).slice(0,20);return F.length===0?null:Y.jsx("div",{className:"mt-1 max-h-32 overflow-y-auto bg-neutral-800 border border-neutral-700 rounded shadow-lg p-1 flex flex-wrap gap-1",children:F.map(J=>Y.jsx(no,{tag:J,size:"md",showColor:!1,onMouseDown:Z=>Z.preventDefault(),onClick:()=>{y(J),E("")}},J))})})()]})]}),Y.jsx("div",{className:"border-t border-neutral-800 my-1"}),Y.jsx("div",{className:"px-4 py-2",children:Y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Y.jsx("div",{className:"text-xs text-neutral-400",children:"Dominant Color"}),Y.jsxs("button",{type:"button",className:"flex items-center gap-2 rounded hover:bg-neutral-800/70 px-2 py-1 transition-colors",onClick:z=>{const F=z.currentTarget.getBoundingClientRect();h({x:F.left,y:F.bottom})},title:L||"Not set",children:[Y.jsx("span",{className:"w-4 h-4 rounded border border-neutral-700",style:{backgroundColor:L||"transparent"}}),Y.jsx("span",{className:"text-xs text-neutral-300",children:L||"Not set"})]})]})}),Y.jsx("div",{className:"border-t border-neutral-800 my-1"}),Y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-white hover:bg-neutral-800 cursor-pointer transition-colors",onClick:r,children:[Y.jsx(qv,{size:14}),Y.jsx("span",{children:"Show in Folder"})]}),Y.jsx("div",{className:"border-t border-neutral-800 my-1"}),!s.image.vector&&Y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-white hover:bg-neutral-800 cursor-pointer transition-colors",onClick:d,children:[Y.jsx(p3,{size:14}),Y.jsx("span",{children:"Index Vector"})]}),Y.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 text-red-400 hover:bg-red-900/10 cursor-pointer transition-colors",onClick:c,children:[Y.jsx(T3,{size:14}),Y.jsx("span",{children:"Delete Image"})]})]})},D6=()=>{const s=Uc(st),[e,i]=G.useState(!1),[r,c]=G.useState(null),[d,h]=G.useState(null),[v,y]=G.useState(null),[b,_]=G.useState(null),[E,T]=G.useState(null),N=G.useMemo(()=>d&&v?{size:v,className:"rounded overflow-hidden shadow-2xl opacity-90",content:Y.jsx("img",{src:d.localUrl,className:"w-full h-full object-cover bg-neutral-800",alt:""})}:b?{size:E,className:"opacity-95",content:Y.jsx(no,{tag:b,showColor:!1,size:"md"})}:null,[d,v,b,E]),[A,B]=G.useState(null),[w,U]=G.useState(s.searchQuery),H=G.useMemo(()=>V2({delay:300},$=>St.setSearchQuery($)),[]),[L,z]=G.useState(null),[F,J]=G.useState(null),[Z,it]=G.useState(null),gt=G.useRef(null),_t=G.useRef(""),[Nt,Tt]=G.useState(2),Ut=Z4(Qg(xm,{activationConstraint:{distance:8}}),Qg(Sm,{coordinateGetter:x6}));G.useEffect(()=>{const $=pt=>{const Ot=pt,{tag:Bt,x:Vt,y:Re}=Ot.detail,Ye=T2(Vt,Re+8);z({tag:Bt,x:Ye.x,y:Ye.y})};return window.addEventListener("open-tag-color-picker",$),()=>window.removeEventListener("open-tag-color-picker",$)},[]),G.useEffect(()=>{if(!gt.current)return;const $=new ResizeObserver(pt=>{for(const Ot of pt){const Bt=Ot.contentRect.width,Vt=Math.max(1,Math.floor(Bt/120));Tt(Vt)}});return $.observe(gt.current),()=>$.disconnect()},[]),G.useEffect(()=>{const $=window.electron?.onSearchUpdated(pt=>{if(!pt||typeof pt!="object")return;const{searchId:Ot,results:Bt}=pt;typeof Ot=="string"&&Ot===_t.current&&Array.isArray(Bt)&&St.setImages(Bt)});return()=>$?.()},[]),G.useEffect(()=>{const $=new AbortController;return(async()=>{const Ot=s.searchQuery.trim(),Bt=s.searchTags,Vt=Bt.length>0,Re=s.searchColor;if(!Ot&&!Vt&&!!!Re){_t.current="",i(!1),c(null);return}i(!0),c(null);try{const Ce=`search_${Date.now()}_${Math.random().toString(16).slice(2)}`;_t.current=Ce;const Ze=await fetch("http://localhost:30001/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchId:Ce,query:Ot,tags:Bt,tagMatch:Vt?"strict":"contains",color:Re,limit:100}),signal:$.signal});if(!Ze.ok){if(Ze.status===409){const Kt=await Ze.json().catch(()=>null);if(Kt&&Kt.code==="STORAGE_INCOMPATIBLE"){St.pushToast("Storage is incompatible. Please reset the data folder.","error");return}}throw new Error(`Search failed with status ${Ze.status}`)}const Ge=await Ze.json();Array.isArray(Ge)&&St.setImages(Ge)}catch(Ce){if($.signal.aborted)return;const Ze=Ce instanceof Error?Ce.message:String(Ce);c(Ze)}finally{$.signal.aborted||i(!1)}})(),()=>{$.abort()}},[s.searchQuery,s.searchTags,s.searchColor]),G.useEffect(()=>{},[]);const zt=G.useMemo(()=>{const $=new Set;s.allImages.forEach(Vt=>{lv(Vt.tags).forEach(Re=>$.add(Re))});const pt=Array.from($.values()),Ot=s.tagSortOrder||[],Bt=new Map(Ot.map((Vt,Re)=>[Vt,Re]));return pt.sort((Vt,Re)=>{const Ye=Bt.has(Vt)?Bt.get(Vt):999999,Ce=Bt.has(Re)?Bt.get(Re):999999;return Ye!==Ce?Ye-Ce:Vt.localeCompare(Re)})},[s.allImages,s.tagSortOrder]),Ct=$=>{const{active:pt}=$,Ot=pt.id;if(zt.includes(Ot)){_(Ot);const Vt=$.active.rect.current,Re=Vt?.initial?.width??Vt?.translated?.width,Ye=Vt?.initial?.height??Vt?.translated?.height;T(typeof Re=="number"&&typeof Ye=="number"?{width:Re,height:Ye}:null);return}const Bt=s.allImages.find(Vt=>Vt.id===pt.id);if(Bt){h(Bt);const Vt=document.getElementById(pt.id);Vt&&y({width:Vt.offsetWidth,height:Vt.offsetHeight})}},D=$=>{const{active:pt,over:Ot,activatorEvent:Bt,delta:Vt}=$;h(null),y(null),_(null),T(null);const Re=gt.current;let Ye=0,Ce=0,Ze=!1;if(Bt instanceof MouseEvent)Ye=Bt.clientX+Vt.x,Ce=Bt.clientY+Vt.y,Ze=!0;else if(window.TouchEvent&&Bt instanceof TouchEvent){const Ge=Bt.changedTouches[0];Ge&&(Ye=Ge.clientX+Vt.x,Ce=Ge.clientY+Vt.y,Ze=!0)}if(Re&&Ze){const Ge=Re.getBoundingClientRect();if(Ye>Ge.right){const Kt=s.allImages.find(Qt=>Qt.id===pt.id);if(Kt){window.dispatchEvent(new CustomEvent("canvas-drop-request",{detail:{image:Kt,x:Ye,y:Ce}}));return}}}if(!(!Ot||pt.id===Ot.id))if(zt.includes(pt.id)){const Ge=zt.indexOf(pt.id),Kt=zt.indexOf(Ot.id);if(Ge===-1||Kt===-1)return;const Qt=Ud(zt,Ge,Kt);St.setTagSortOrder(Qt)}else{const Ge=!!(s.searchQuery.trim()||s.searchTags.length>0||s.searchColor),Kt=s.allImages.findIndex(Le=>Le.id===pt.id),Qt=s.allImages.findIndex(Le=>Le.id===Ot.id);if(Kt===-1||Qt===-1)return;const ke=[...s.allImages],Ra=Ud(ke,Kt,Qt);if(St.reorderImages(Ra),Ge){const Le=I.findIndex(da=>da.id===pt.id),Je=I.findIndex(da=>da.id===Ot.id);if(Le===-1||Je===-1)return;const mn=[...I],ll=Ud(mn,Le,Je);St.setImages(ll)}}},I=!!(s.searchQuery.trim()||s.searchTags.length>0||s.searchColor)?s.images:s.allImages,at=($,pt)=>{$.dataTransfer.setData("application/json",JSON.stringify(pt))},ht=($,pt)=>{$.preventDefault(),B({x:$.clientX,y:$.clientY,image:pt})},O=()=>B(null),K=async($,pt)=>{try{if(!(await fetch("http://localhost:30001/api/update-dominant-color",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:$.id,dominantColor:pt})})).ok){St.pushToast("Failed to update dominant color","error");return}St.updateImage($.id,{dominantColor:pt}),A&&A.image.id===$.id&&B({...A,image:{...$,dominantColor:pt}})}catch(Ot){console.error(Ot),St.pushToast("Failed to update dominant color","error")}},ct=G.useRef(K);ct.current=K;const yt=G.useMemo(()=>V2({delay:150},($,pt)=>{const Ot=st.allImages.find(Bt=>Bt.id===$)||st.images.find(Bt=>Bt.id===$)||A?.image;!Ot||Ot.id!==$||ct.current(Ot,pt)}),[A]),Ht=async($,pt)=>{const Ot=pt.trim();if(Ot){St.updateImage($.id,{name:Ot}),A&&A.image.id===$.id&&B({...A,image:{...A.image,name:Ot}});try{const Bt=await fetch("http://localhost:30001/api/update-name",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:$.id,name:Ot})});if(!Bt.ok){St.pushToast("Failed to update name","error");return}const Vt=await Bt.json();Vt&&Vt.success&&Vt.meta&&(St.updateImage($.id,Vt.meta),A&&A.image.id===$.id&&B({...A,image:Vt.meta}))}catch(Bt){console.error(Bt),St.pushToast("Failed to update name","error")}}},At=async()=>{if(A){try{if(!(await fetch("http://localhost:30001/api/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:A.image.id})})).ok){St.pushToast("Failed to delete image","error"),O();return}St.deleteImage(A.image.id),St.pushToast("Image deleted","success")}catch($){console.error($),St.pushToast("Failed to delete image","error")}O()}},kt=async()=>{if(A){try{const $=await fetch("http://localhost:30001/api/reindex",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:A.image.id})});if($.ok){const pt=await $.json();pt.success&&pt.meta?(St.updateImage(A.image.id,{vector:pt.meta.vector}),St.pushToast("Vector indexed","success")):St.pushToast("Failed to index vector","error")}else St.pushToast("Failed to index vector","error")}catch($){console.error($),St.pushToast("Failed to index vector","error")}O()}},Zt=async()=>{if(A){try{(await fetch("http://localhost:30001/api/open-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:A.image.localPath})})).ok||St.pushToast("Failed to open file","error")}catch($){console.error($),St.pushToast("Failed to open file","error")}O()}},Yt=async($,pt)=>{const Ot=pt.trim();if(!Ot)return;const Bt=lv($.tags);if(Bt.includes(Ot))return;const Vt=[...Bt,Ot];try{(await fetch("http://localhost:30001/api/update-tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:$.id,tags:Vt})})).ok&&(St.updateImage($.id,{tags:Vt}),A&&A.image.id===$.id&&B({...A,image:{...$,tags:Vt}}))}catch(Re){console.error(Re)}},te=async $=>{if(!A)return;const pt=A.image,Ot=pt.tags.filter(Bt=>Bt!==$);try{(await fetch("http://localhost:30001/api/update-tags",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:pt.id,tags:Ot})})).ok&&(St.updateImage(pt.id,{tags:Ot}),B({...A,image:{...pt,tags:Ot}}))}catch(Bt){console.error(Bt)}},_n=async $=>{$.preventDefault(),$.stopPropagation();const pt=await T6($.dataTransfer);pt.length>0&&await Np(pt)},he=Lt.useCallback($=>{const{pointerCoordinates:pt}=$;if(gt.current&&pt){const Ot=gt.current.getBoundingClientRect();if(pt.x>Ot.right-20)return[]}return I4($)},[]);return Y.jsxs("div",{className:"flex flex-col h-full bg-neutral-900 border-r border-neutral-800 flex-shrink-0 relative transition-colors",style:{width:s.sidebarWidth},onDrop:_n,onDragOver:$=>$.preventDefault(),onDragEnter:$=>$.preventDefault(),onClick:()=>St.setActiveArea("gallery"),onFocus:()=>St.setActiveArea("gallery"),tabIndex:0,children:[Y.jsxs(V5,{sensors:Ut,collisionDetection:he,onDragStart:Ct,onDragEnd:D,children:[Y.jsxs("div",{className:"p-4 border-b border-neutral-800",children:[Y.jsx("div",{className:"relative",children:Y.jsxs("div",{className:"flex items-center gap-2 w-full bg-neutral-800 text-white px-3 py-2 rounded text-sm focus-within:ring-1 focus-within:ring-[var(--brand-color)]",style:{"--brand-color":Oe.primary},children:[Y.jsx(S3,{className:"text-neutral-500 shrink-0",size:16}),Y.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 flex-1 min-w-0",children:[s.searchTags.map($=>Y.jsx(no,{tag:$,isEdit:!0,showColor:!1,onRemove:()=>St.setSearchTags(s.searchTags.filter(pt=>pt!==$))},$)),Y.jsx(D4,{placeholder:"Search",className:"flex-1 bg-transparent text-white text-sm outline-none min-w-[80px] placeholder-neutral-500",value:w,onChange:$=>{const pt=$.target.value;U(pt),H(pt)},onKeyDown:$=>{if($.key==="Backspace"&&w===""&&s.searchTags.length>0){const pt=s.searchTags.slice(0,-1);St.setSearchTags(pt)}}})]}),e&&Y.jsx("div",{className:"w-4 h-4 border-2 border-[var(--brand-color)] border-t-transparent rounded-full animate-spin shrink-0",style:{"--brand-color":Oe.primary}}),Y.jsx("button",{type:"button",className:"w-5 h-5 rounded ring-2 transition-colors shrink-0 overflow-hidden",style:{"--tw-ring-color":s.searchColor?nr(s.searchColor,.2):"rgba(255, 255, 255, 0.1)",backgroundColor:s.searchColor||"transparent"},title:s.searchColor?`Color: ${s.searchColor}`:"Color: none",onClick:$=>{$.stopPropagation();const pt=$.currentTarget.getBoundingClientRect(),Ot=T2(pt.left,pt.bottom+16);J({x:Ot.x,y:Ot.y})}}),(s.searchTags.length>0||w.trim()||s.searchColor)&&Y.jsx("button",{className:"w-4 inline-flex items-center justify-center rounded hover:bg-neutral-700/70 text-neutral-400 hover:text-white transition-colors shrink-0",onClick:()=>{U(""),St.setSearchQuery(""),St.setSearchTags([]),St.setSearchColor(null)},title:"Clear",children:Y.jsx(um,{size:14})})]})}),zt.length>0&&Y.jsx(av,{items:zt,strategy:g1,children:Y.jsx("div",{className:"flex flex-wrap gap-2 mt-3",children:zt.map($=>Y.jsx(M6,{tag:$,onClick:()=>{const Ot=s.searchTags.includes($)?s.searchTags.filter(Bt=>Bt!==$):[...s.searchTags,$];St.setSearchTags(Ot)}},$))})})]}),Y.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-4 scrollbar-hide",ref:gt,onDrop:_n,onDragOver:$=>$.preventDefault(),onDragEnter:$=>$.preventDefault(),children:[r&&Y.jsxs("div",{className:"text-center text-red-400 mb-2 text-xs",children:["Search failed: ",r]}),s.allImages.length===0?Y.jsxs("div",{className:"flex flex-col items-center justify-center h-full m-4 select-none",children:[Y.jsxs("div",{className:"group flex flex-col items-center justify-center w-full max-w-md p-12 border-2 border-dashed border-neutral-800 rounded-3xl bg-neutral-900/30 text-neutral-500 transition-all duration-300 hover:border-[var(--brand-color-40)] hover:bg-[var(--brand-color-5)] hover:scale-[1.02] hover:shadow-2xl hover:shadow-[var(--brand-color-5)]",style:{"--brand-color-40":nr(Oe.primary,.4),"--brand-color-5":nr(Oe.primary,.05),"--brand-color-30":nr(Oe.primary,.3),"--brand-color":Oe.primary},children:[Y.jsxs("div",{className:"relative mb-8",children:[Y.jsx("div",{className:"absolute inset-0 bg-[var(--brand-color)] blur-3xl opacity-0 group-hover:opacity-20 transition-opacity duration-500 rounded-full transform scale-150"}),Y.jsx(qv,{size:72,className:"relative z-10 text-neutral-700 group-hover:text-[var(--brand-color)] transition-colors duration-300",strokeWidth:1.2})]}),Y.jsx("h1",{className:"text-2xl font-bold text-neutral-300 mb-3 group-hover:text-white transition-colors tracking-tight",children:"Oh, Captain!"}),Y.jsxs("p",{className:"text-neutral-500 text-sm mb-8 text-center max-w-[240px] leading-relaxed group-hover:text-neutral-400 transition-colors",children:["Your journey begins.",Y.jsx("br",{}),"Drag & drop to command your fleet."]}),Y.jsx("div",{className:"flex items-center gap-2 px-5 py-2.5 rounded-full bg-neutral-800/50 border border-neutral-700/50 text-xs font-medium text-neutral-400 group-hover:border-[var(--brand-color-30)] group-hover:text-[var(--brand-color)] group-hover:bg-[var(--brand-color-5)] transition-all",children:Y.jsx("span",{className:"uppercase tracking-wide text-[10px]",children:"Drag images here"})})]}),Y.jsxs("div",{className:"mt-12 flex flex-col items-center gap-2 opacity-40 hover:opacity-80 transition-opacity",children:[Y.jsx("div",{className:"h-px w-12 bg-neutral-700"}),Y.jsx("div",{className:"text-neutral-500 text-[10px] font-mono tracking-[0.2em] uppercase",children:"LookBack"})]})]}):Y.jsx(av,{items:I.map($=>$.id),strategy:g1,children:Y.jsx($v,{breakpointCols:Nt,className:"flex w-auto -ml-4",columnClassName:"pl-4 bg-clip-padding",children:I.map($=>Y.jsx(E6,{image:$,onDragStart:at,onContextMenu:pt=>{ht(pt,$)}},$.id))})})]}),Y.jsx(o6,{children:N?Y.jsx(R6,{size:N.size,className:N.className,children:N.content}):null})]}),A&&Y.jsx("div",{className:"fixed inset-0 z-40",onClick:O,onContextMenu:$=>{$.preventDefault(),O()}}),A&&Y.jsx(N6,{value:A,allTags:zt,onClose:O,onOpenFile:Zt,onDelete:At,onReindex:kt,onOpenDominantColorPicker:({x:$,y:pt})=>{const Ot=T2($,pt+16),Bt=A.image.dominantColor||Oe.primary;it({id:A.image.id,x:Ot.x,y:Ot.y,draft:Bt})},onUpdateName:$=>Ht(A.image,$),onAddTag:$=>Yt(A.image,$),onRemoveTag:te},A.image.id),L&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"fixed inset-0 z-[60]",onMouseDown:()=>z(null)}),Y.jsxs("div",{className:"fixed z-[61] w-62 bg-neutral-900/95 border border-neutral-700/80 rounded-xl shadow-2xl p-3 backdrop-blur",style:{top:L.y,left:L.x,width:e1},onMouseDown:$=>$.stopPropagation(),children:[Y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Y.jsx(no,{tag:L.tag,className:"truncate max-w-[150px]"}),Y.jsx("button",{className:"text-xs text-neutral-400 hover:text-white transition-colors",onClick:()=>St.clearTagColor(L.tag),children:"Clear"})]}),Y.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[Y.jsx(M2,{value:s.tagColors[L.tag]||Oe.primary,onChange:$=>St.setTagColor(L.tag,$)}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsx("div",{className:"text-xs text-neutral-200 font-semibold truncate",children:"Color"}),Y.jsx("div",{className:"text-xs text-neutral-500 truncate",children:s.tagColors[L.tag]||"Not set"})]})]}),Y.jsx("div",{className:"mt-3 grid grid-cols-9 gap-1.5",children:s.colorSwatches.map(($,pt)=>{const Ot=s.tagColors[L.tag]||Oe.primary;return Y.jsx(A2,{color:$,selected:$.toLowerCase()===Ot.toLowerCase(),onPress:()=>St.setTagColor(L.tag,$),onReplaceWithCurrent:()=>St.setColorSwatch(pt,Ot)},`${$}_${pt}`)})})]})]}),F&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"fixed inset-0 z-[60]",onMouseDown:()=>J(null)}),Y.jsxs("div",{className:"fixed z-[61] w-62 bg-neutral-900/95 border border-neutral-700/80 rounded-xl shadow-2xl p-3 backdrop-blur",style:{top:F.y,left:F.x,width:e1},onMouseDown:$=>$.stopPropagation(),children:[Y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Y.jsx("div",{className:"text-xs text-neutral-200 font-semibold",children:"Color Filter"}),Y.jsx("button",{type:"button",className:"text-xs text-neutral-400 hover:text-white transition-colors",onClick:()=>St.setSearchColor(null),children:"Clear"})]}),Y.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[Y.jsx(M2,{value:s.searchColor||Oe.primary,onChange:$=>St.setSearchColor($)}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsx("div",{className:"text-xs text-neutral-200 font-semibold truncate",children:"Selected"}),Y.jsx("div",{className:"text-xs text-neutral-500 truncate",children:s.searchColor||"None"})]})]}),Y.jsx("div",{className:"mt-3 grid grid-cols-9 gap-1.5",children:s.colorSwatches.map(($,pt)=>{const Ot=s.searchColor||"#39c5bb";return Y.jsx(A2,{color:$,selected:$.toLowerCase()===Ot.toLowerCase(),onPress:()=>St.setSearchColor($),onReplaceWithCurrent:()=>St.setColorSwatch(pt,Ot)},`${$}_${pt}`)})})]})]}),Z&&A&&Y.jsxs(Y.Fragment,{children:[Y.jsx("div",{className:"fixed inset-0 z-[60]",onMouseDown:()=>{O(),yt.cancel(),it(null)}}),Y.jsxs("div",{className:"fixed z-[61] w-62 bg-neutral-900/95 border border-neutral-700/80 rounded-xl shadow-2xl p-3 backdrop-blur",style:{top:Z.y,left:Z.x,width:e1},onMouseDown:$=>$.stopPropagation(),children:[Y.jsxs("div",{className:"flex items-center justify-between gap-2",children:[Y.jsx("div",{className:"text-xs text-neutral-200 font-semibold",children:"Dominant Color"}),Y.jsx("button",{type:"button",className:"text-xs text-neutral-400 hover:text-white transition-colors",onClick:async()=>{yt.cancel(),await K(A.image,null),it(null)},children:"Clear"})]}),Y.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[Y.jsx(M2,{value:Z.draft,onChange:$=>{it({...Z,draft:$}),yt(Z.id,$)}}),Y.jsxs("div",{className:"flex-1 min-w-0",children:[Y.jsx("div",{className:"text-xs text-neutral-200 font-semibold truncate",children:"Selected"}),Y.jsx("div",{className:"text-xs text-neutral-500 truncate",children:Z.draft})]})]}),Y.jsx("div",{className:"mt-3 grid grid-cols-9 gap-1.5",children:s.colorSwatches.map(($,pt)=>Y.jsx(A2,{color:$,selected:$.toLowerCase()===Z.draft.toLowerCase(),onPress:()=>{yt.cancel(),it({...Z,draft:$});const Ot=st.allImages.find(Bt=>Bt.id===Z.id)||st.images.find(Bt=>Bt.id===Z.id)||A.image;!Ot||Ot.id!==Z.id||K(Ot,$)},onReplaceWithCurrent:()=>St.setColorSwatch(pt,Z.draft)},`${$}_${pt}`))})]})]})]})},O6=Math.PI/180;function z6(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}const eo=typeof global<"u"?global:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},wt={_global:eo,version:"10.0.12",isBrowser:z6(),isUnminified:/param/.test((function(s){}).toString()),dblClickWindow:400,getAngle(s){return wt.angleDeg?s*O6:s},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_renderBackend:"web",legacyTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return wt.DD.isDragging},isTransforming(){var s,e;return(e=(s=wt.Transformer)===null||s===void 0?void 0:s.isTransforming())!==null&&e!==void 0?e:!1},isDragReady(){return!!wt.DD.node},releaseCanvasOnDestroy:!0,document:eo.document,_injectGlobal(s){typeof eo.Konva<"u"&&console.error("Several Konva instances detected. It is not recommended to use multiple Konva instances in the same environment."),eo.Konva=s}},Nn=s=>{wt[s.prototype.getClassName()]=s};wt._injectGlobal(wt);const w6=`Konva.js unsupported environment.

Looks like you are trying to use Konva.js in Node.js environment. because "document" object is undefined.

To use Konva.js in Node.js environment, you need to use the "canvas-backend" or "skia-backend" module.

bash: npm install canvas
js: import "konva/canvas-backend";

or

bash: npm install skia-canvas
js: import "konva/skia-backend";
`,iv=()=>{if(typeof document>"u")throw new Error(w6)};class wl{constructor(e=[1,0,0,1,0,0]){this.dirty=!1,this.m=e&&e.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new wl(this.m)}copyInto(e){e.m[0]=this.m[0],e.m[1]=this.m[1],e.m[2]=this.m[2],e.m[3]=this.m[3],e.m[4]=this.m[4],e.m[5]=this.m[5]}point(e){const i=this.m;return{x:i[0]*e.x+i[2]*e.y+i[4],y:i[1]*e.x+i[3]*e.y+i[5]}}translate(e,i){return this.m[4]+=this.m[0]*e+this.m[2]*i,this.m[5]+=this.m[1]*e+this.m[3]*i,this}scale(e,i){return this.m[0]*=e,this.m[1]*=e,this.m[2]*=i,this.m[3]*=i,this}rotate(e){const i=Math.cos(e),r=Math.sin(e),c=this.m[0]*i+this.m[2]*r,d=this.m[1]*i+this.m[3]*r,h=this.m[0]*-r+this.m[2]*i,v=this.m[1]*-r+this.m[3]*i;return this.m[0]=c,this.m[1]=d,this.m[2]=h,this.m[3]=v,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(e,i){const r=this.m[0]+this.m[2]*i,c=this.m[1]+this.m[3]*i,d=this.m[2]+this.m[0]*e,h=this.m[3]+this.m[1]*e;return this.m[0]=r,this.m[1]=c,this.m[2]=d,this.m[3]=h,this}multiply(e){const i=this.m[0]*e.m[0]+this.m[2]*e.m[1],r=this.m[1]*e.m[0]+this.m[3]*e.m[1],c=this.m[0]*e.m[2]+this.m[2]*e.m[3],d=this.m[1]*e.m[2]+this.m[3]*e.m[3],h=this.m[0]*e.m[4]+this.m[2]*e.m[5]+this.m[4],v=this.m[1]*e.m[4]+this.m[3]*e.m[5]+this.m[5];return this.m[0]=i,this.m[1]=r,this.m[2]=c,this.m[3]=d,this.m[4]=h,this.m[5]=v,this}invert(){const e=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),i=this.m[3]*e,r=-this.m[1]*e,c=-this.m[2]*e,d=this.m[0]*e,h=e*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),v=e*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=i,this.m[1]=r,this.m[2]=c,this.m[3]=d,this.m[4]=h,this.m[5]=v,this}getMatrix(){return this.m}decompose(){const e=this.m[0],i=this.m[1],r=this.m[2],c=this.m[3],d=this.m[4],h=this.m[5],v=e*c-i*r,y={x:d,y:h,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(e!=0||i!=0){const b=Math.sqrt(e*e+i*i);y.rotation=i>0?Math.acos(e/b):-Math.acos(e/b),y.scaleX=b,y.scaleY=v/b,y.skewX=(e*r+i*c)/v,y.skewY=0}else if(r!=0||c!=0){const b=Math.sqrt(r*r+c*c);y.rotation=Math.PI/2-(c>0?Math.acos(-r/b):-Math.acos(r/b)),y.scaleX=v/b,y.scaleY=b,y.skewX=0,y.skewY=(e*r+i*c)/v}return y.rotation=P._getRotation(y.rotation),y}}const H6="[object Array]",B6="[object Number]",G6="[object String]",U6="[object Boolean]",j6=Math.PI/180,L6=180/Math.PI,xd="#",Y6="",q6="0",X6="Konva warning: ",sv="Konva error: ",Q6="rgb(",R2={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},V6=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let Y0=[],_d=null;const K6=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(s){setTimeout(s,60)},P={_isElement(s){return!!(s&&s.nodeType==1)},_isFunction(s){return!!(s&&s.constructor&&s.call&&s.apply)},_isPlainObject(s){return!!s&&s.constructor===Object},_isArray(s){return Object.prototype.toString.call(s)===H6},_isNumber(s){return Object.prototype.toString.call(s)===B6&&!isNaN(s)&&isFinite(s)},_isString(s){return Object.prototype.toString.call(s)===G6},_isBoolean(s){return Object.prototype.toString.call(s)===U6},isObject(s){return s instanceof Object},isValidSelector(s){if(typeof s!="string")return!1;const e=s[0];return e==="#"||e==="."||e===e.toUpperCase()},_sign(s){return s===0||s>0?1:-1},requestAnimFrame(s){Y0.push(s),Y0.length===1&&K6(function(){const e=Y0;Y0=[],e.forEach(function(i){i()})})},createCanvasElement(){iv();const s=document.createElement("canvas");try{s.style=s.style||{}}catch{}return s},createImageElement(){return iv(),document.createElement("img")},_isInDocument(s){for(;s=s.parentNode;)if(s==document)return!0;return!1},_urlToImage(s,e){const i=P.createImageElement();i.onload=function(){e(i)},i.src=s},_rgbToHex(s,e,i){return((1<<24)+(s<<16)+(e<<8)+i).toString(16).slice(1)},_hexToRgb(s){s=s.replace(xd,Y6);const e=parseInt(s,16);return{r:e>>16&255,g:e>>8&255,b:e&255}},getRandomColor(){let s=(Math.random()*16777215<<0).toString(16);for(;s.length<6;)s=q6+s;return xd+s},isCanvasFarblingActive(){if(_d!==null)return _d;if(typeof document>"u")return _d=!1,!1;const s=this.createCanvasElement();s.width=10,s.height=10;const e=s.getContext("2d",{willReadFrequently:!0});e.clearRect(0,0,10,10),e.fillStyle="#282828",e.fillRect(0,0,10,10);const i=e.getImageData(0,0,10,10).data;let r=!1;for(let c=0;c<100;c++)if(i[c*4]!==40||i[c*4+1]!==40||i[c*4+2]!==40||i[c*4+3]!==255){r=!0;break}return _d=r,this.releaseCanvas(s),_d},getHitColor(){const s=this.getRandomColor();return this.isCanvasFarblingActive()?this.getSnappedHexColor(s):s},getHitColorKey(s,e,i){return this.isCanvasFarblingActive()&&(s=Math.round(s/5)*5,e=Math.round(e/5)*5,i=Math.round(i/5)*5),xd+this._rgbToHex(s,e,i)},getSnappedHexColor(s){const e=this._hexToRgb(s);return xd+this._rgbToHex(Math.round(e.r/5)*5,Math.round(e.g/5)*5,Math.round(e.b/5)*5)},getRGB(s){let e;return s in R2?(e=R2[s],{r:e[0],g:e[1],b:e[2]}):s[0]===xd?this._hexToRgb(s.substring(1)):s.substr(0,4)===Q6?(e=V6.exec(s.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA(s){return s=s||"black",P._namedColorToRBA(s)||P._hex3ColorToRGBA(s)||P._hex4ColorToRGBA(s)||P._hex6ColorToRGBA(s)||P._hex8ColorToRGBA(s)||P._rgbColorToRGBA(s)||P._rgbaColorToRGBA(s)||P._hslColorToRGBA(s)},_namedColorToRBA(s){const e=R2[s.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA(s){if(s.indexOf("rgb(")===0){s=s.match(/rgb\(([^)]+)\)/)[1];const e=s.split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA(s){if(s.indexOf("rgba(")===0){s=s.match(/rgba\(([^)]+)\)/)[1];const e=s.split(/ *, */).map((i,r)=>i.slice(-1)==="%"?r===3?parseInt(i)/100:parseInt(i)/100*255:Number(i));return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex8ColorToRGBA(s){if(s[0]==="#"&&s.length===9)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:parseInt(s.slice(7,9),16)/255}},_hex6ColorToRGBA(s){if(s[0]==="#"&&s.length===7)return{r:parseInt(s.slice(1,3),16),g:parseInt(s.slice(3,5),16),b:parseInt(s.slice(5,7),16),a:1}},_hex4ColorToRGBA(s){if(s[0]==="#"&&s.length===5)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:parseInt(s[4]+s[4],16)/255}},_hex3ColorToRGBA(s){if(s[0]==="#"&&s.length===4)return{r:parseInt(s[1]+s[1],16),g:parseInt(s[2]+s[2],16),b:parseInt(s[3]+s[3],16),a:1}},_hslColorToRGBA(s){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(s)){const[e,...i]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s),r=Number(i[0])/360,c=Number(i[1])/100,d=Number(i[2])/100;let h,v,y;if(c===0)return y=d*255,{r:Math.round(y),g:Math.round(y),b:Math.round(y),a:1};d<.5?h=d*(1+c):h=d+c-d*c;const b=2*d-h,_=[0,0,0];for(let E=0;E<3;E++)v=r+1/3*-(E-1),v<0&&v++,v>1&&v--,6*v<1?y=b+(h-b)*6*v:2*v<1?y=h:3*v<2?y=b+(h-b)*(2/3-v)*6:y=b,_[E]=y*255;return{r:Math.round(_[0]),g:Math.round(_[1]),b:Math.round(_[2]),a:1}}},haveIntersection(s,e){return!(e.x>s.x+s.width||e.x+e.width<s.x||e.y>s.y+s.height||e.y+e.height<s.y)},cloneObject(s){const e={};for(const i in s)this._isPlainObject(s[i])?e[i]=this.cloneObject(s[i]):this._isArray(s[i])?e[i]=this.cloneArray(s[i]):e[i]=s[i];return e},cloneArray(s){return s.slice(0)},degToRad(s){return s*j6},radToDeg(s){return s*L6},_degToRad(s){return P.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),P.degToRad(s)},_radToDeg(s){return P.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),P.radToDeg(s)},_getRotation(s){return wt.angleDeg?P.radToDeg(s):s},_capitalize(s){return s.charAt(0).toUpperCase()+s.slice(1)},throw(s){throw new Error(sv+s)},error(s){console.error(sv+s)},warn(s){wt.showWarnings&&console.warn(X6+s)},each(s,e){for(const i in s)e(i,s[i])},_inRange(s,e,i){return e<=s&&s<i},_getProjectionToSegment(s,e,i,r,c,d){let h,v,y;const b=(s-i)*(s-i)+(e-r)*(e-r);if(b==0)h=s,v=e,y=(c-i)*(c-i)+(d-r)*(d-r);else{const _=((c-s)*(i-s)+(d-e)*(r-e))/b;_<0?(h=s,v=e,y=(s-c)*(s-c)+(e-d)*(e-d)):_>1?(h=i,v=r,y=(i-c)*(i-c)+(r-d)*(r-d)):(h=s+_*(i-s),v=e+_*(r-e),y=(h-c)*(h-c)+(v-d)*(v-d))}return[h,v,y]},_getProjectionToLine(s,e,i){const r=P.cloneObject(s);let c=Number.MAX_VALUE;return e.forEach(function(d,h){if(!i&&h===e.length-1)return;const v=e[(h+1)%e.length],y=P._getProjectionToSegment(d.x,d.y,v.x,v.y,s.x,s.y),b=y[0],_=y[1],E=y[2];E<c&&(r.x=b,r.y=_,c=E)}),r},_prepareArrayForTween(s,e,i){const r=[],c=[];if(s.length>e.length){const h=e;e=s,s=h}for(let h=0;h<s.length;h+=2)r.push({x:s[h],y:s[h+1]});for(let h=0;h<e.length;h+=2)c.push({x:e[h],y:e[h+1]});const d=[];return c.forEach(function(h){const v=P._getProjectionToLine(h,r,i);d.push(v.x),d.push(v.y)}),d},_prepareToStringify(s){let e;s.visitedByCircularReferenceRemoval=!0;for(const i in s)if(s.hasOwnProperty(i)&&s[i]&&typeof s[i]=="object"){if(e=Object.getOwnPropertyDescriptor(s,i),s[i].visitedByCircularReferenceRemoval||P._isElement(s[i]))if(e.configurable)delete s[i];else return null;else if(P._prepareToStringify(s[i])===null)if(e.configurable)delete s[i];else return null}return delete s.visitedByCircularReferenceRemoval,s},_assign(s,e){for(const i in e)s[i]=e[i];return s},_getFirstPointerId(s){return s.touches?s.changedTouches[0].identifier:s.pointerId||999},releaseCanvas(...s){wt.releaseCanvasOnDestroy&&s.forEach(e=>{e.width=0,e.height=0})},drawRoundedRectPath(s,e,i,r){let c=e<0?e:0,d=i<0?i:0;e=Math.abs(e),i=Math.abs(i);let h=0,v=0,y=0,b=0;typeof r=="number"?h=v=y=b=Math.min(r,e/2,i/2):(h=Math.min(r[0]||0,e/2,i/2),v=Math.min(r[1]||0,e/2,i/2),b=Math.min(r[2]||0,e/2,i/2),y=Math.min(r[3]||0,e/2,i/2)),s.moveTo(c+h,d),s.lineTo(c+e-v,d),s.arc(c+e-v,d+v,v,Math.PI*3/2,0,!1),s.lineTo(c+e,d+i-b),s.arc(c+e-b,d+i-b,b,0,Math.PI/2,!1),s.lineTo(c+y,d+i),s.arc(c+y,d+i-y,y,Math.PI/2,Math.PI,!1),s.lineTo(c,d+h),s.arc(c+h,d+h,h,Math.PI,Math.PI*3/2,!1)},drawRoundedPolygonPath(s,e,i,r,c){r=Math.abs(r);for(let d=0;d<i;d++){const h=e[(d-1+i)%i],v=e[d],y=e[(d+1)%i],b={x:v.x-h.x,y:v.y-h.y},_={x:y.x-v.x,y:y.y-v.y},E=Math.hypot(b.x,b.y),T=Math.hypot(_.x,_.y);let N;typeof c=="number"?N=c:N=d<c.length?c[d]:0,N=r*Math.cos(Math.PI/i)*Math.min(1,N/r*2);const B={x:b.x/E,y:b.y/E},w={x:_.x/T,y:_.y/T},U={x:v.x-B.x*N,y:v.y-B.y*N},H={x:v.x+w.x*N,y:v.y+w.y*N};d===0?s.moveTo(U.x,U.y):s.lineTo(U.x,U.y),s.arcTo(v.x,v.y,H.x,H.y,N)}}};function Z6(s){const e=[],i=s.length,r=P;for(let c=0;c<i;c++){let d=s[c];r._isNumber(d)?d=Math.round(d*1e3)/1e3:r._isString(d)||(d=d+""),e.push(d)}return e}const uv=",",J6="(",F6=")",I6="([",k6="])",W6=";",P6="()",$6="=",rv=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],t8=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled","filter"],e8=100;let q0=null;function ov(){if(q0!==null)return q0;try{const e=P.createCanvasElement().getContext("2d");return e?!!e&&"filter"in e:(q0=!1,!1)}catch{return q0=!1,!1}}class A1{constructor(e){this.canvas=e,wt.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,i){let r=this.traceArr,c=r.length,d="",h,v,y,b;for(h=0;h<c;h++)v=r[h],y=v.method,y?(b=v.args,d+=y,e?d+=P6:P._isArray(b[0])?d+=I6+b.join(uv)+k6:(i&&(b=b.map(_=>typeof _=="number"?Math.floor(_):_)),d+=J6+b.join(uv)+F6)):(d+=v.property,e||(d+=$6+v.val)),d+=W6;return d}clearTrace(){this.traceArr=[]}_trace(e){let i=this.traceArr,r;i.push(e),r=i.length,r>=e8&&i.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const i=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,i.getWidth()/i.pixelRatio,i.getHeight()/i.pixelRatio)}_applyLineCap(e){const i=e.attrs.lineCap;i&&this.setAttr("lineCap",i)}_applyOpacity(e){const i=e.getAbsoluteOpacity();i!==1&&this.setAttr("globalAlpha",i)}_applyLineJoin(e){const i=e.attrs.lineJoin;i&&this.setAttr("lineJoin",i)}_applyMiterLimit(e){const i=e.attrs.miterLimit;i!=null&&this.setAttr("miterLimit",i)}setAttr(e,i){this._context[e]=i}arc(e,i,r,c,d,h){this._context.arc(e,i,r,c,d,h)}arcTo(e,i,r,c,d){this._context.arcTo(e,i,r,c,d)}beginPath(){this._context.beginPath()}bezierCurveTo(e,i,r,c,d,h){this._context.bezierCurveTo(e,i,r,c,d,h)}clearRect(e,i,r,c){this._context.clearRect(e,i,r,c)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,i){const r=arguments;if(r.length===2)return this._context.createImageData(e,i);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,i,r,c){return this._context.createLinearGradient(e,i,r,c)}createPattern(e,i){return this._context.createPattern(e,i)}createRadialGradient(e,i,r,c,d,h){return this._context.createRadialGradient(e,i,r,c,d,h)}drawImage(e,i,r,c,d,h,v,y,b){const _=arguments,E=this._context;_.length===3?E.drawImage(e,i,r):_.length===5?E.drawImage(e,i,r,c,d):_.length===9&&E.drawImage(e,i,r,c,d,h,v,y,b)}ellipse(e,i,r,c,d,h,v,y){this._context.ellipse(e,i,r,c,d,h,v,y)}isPointInPath(e,i,r,c){return r?this._context.isPointInPath(r,e,i,c):this._context.isPointInPath(e,i,c)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,i,r,c){this._context.fillRect(e,i,r,c)}strokeRect(e,i,r,c){this._context.strokeRect(e,i,r,c)}fillText(e,i,r,c){c?this._context.fillText(e,i,r,c):this._context.fillText(e,i,r)}measureText(e){return this._context.measureText(e)}getImageData(e,i,r,c){return this._context.getImageData(e,i,r,c)}lineTo(e,i){this._context.lineTo(e,i)}moveTo(e,i){this._context.moveTo(e,i)}rect(e,i,r,c){this._context.rect(e,i,r,c)}roundRect(e,i,r,c,d){this._context.roundRect(e,i,r,c,d)}putImageData(e,i,r){this._context.putImageData(e,i,r)}quadraticCurveTo(e,i,r,c){this._context.quadraticCurveTo(e,i,r,c)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,i){this._context.scale(e,i)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,i,r,c,d,h){this._context.setTransform(e,i,r,c,d,h)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,i,r,c){this._context.strokeText(e,i,r,c)}transform(e,i,r,c,d,h){this._context.transform(e,i,r,c,d,h)}translate(e,i){this._context.translate(e,i)}_enableTrace(){let e=this,i=rv.length,r=this.setAttr,c,d;const h=function(v){let y=e[v],b;e[v]=function(){return d=Z6(Array.prototype.slice.call(arguments,0)),b=y.apply(e,arguments),e._trace({method:v,args:d}),b}};for(c=0;c<i;c++)h(rv[c]);e.setAttr=function(){r.apply(e,arguments);const v=arguments[0];let y=arguments[1];(v==="shadowOffsetX"||v==="shadowOffsetY"||v==="shadowBlur")&&(y=y/this.canvas.getPixelRatio()),e._trace({property:v,val:y})}}_applyGlobalCompositeOperation(e){const i=e.attrs.globalCompositeOperation;!i||i==="source-over"||this.setAttr("globalCompositeOperation",i)}}t8.forEach(function(s){Object.defineProperty(A1.prototype,s,{get(){return this._context[s]},set(e){this._context[s]=e}})});class n8 extends A1{constructor(e,{willReadFrequently:i=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:i})}_fillColor(e){const i=e.fill();this.setAttr("fillStyle",i),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const i=e._getLinearGradient();i&&(this.setAttr("fillStyle",i),e._fillFunc(this))}_fillRadialGradient(e){const i=e._getRadialGradient();i&&(this.setAttr("fillStyle",i),e._fillFunc(this))}_fill(e){const i=e.fill(),r=e.getFillPriority();if(i&&r==="color"){this._fillColor(e);return}const c=e.getFillPatternImage();if(c&&r==="pattern"){this._fillPattern(e);return}const d=e.getFillLinearGradientColorStops();if(d&&r==="linear-gradient"){this._fillLinearGradient(e);return}const h=e.getFillRadialGradientColorStops();if(h&&r==="radial-gradient"){this._fillRadialGradient(e);return}i?this._fillColor(e):c?this._fillPattern(e):d?this._fillLinearGradient(e):h&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const i=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),c=e.getStrokeLinearGradientColorStops(),d=this.createLinearGradient(i.x,i.y,r.x,r.y);if(c){for(let h=0;h<c.length;h+=2)d.addColorStop(c[h],c[h+1]);this.setAttr("strokeStyle",d)}}_stroke(e){const i=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const d=this.getCanvas().getPixelRatio();this.setTransform(d,0,0,d,0,0)}this._applyLineCap(e),i&&e.dashEnabled()&&(this.setLineDash(i),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var i,r,c;const d=(i=e.getShadowRGBA())!==null&&i!==void 0?i:"black",h=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,v=(c=e.getShadowOffset())!==null&&c!==void 0?c:{x:0,y:0},y=e.getAbsoluteScale(),b=this.canvas.getPixelRatio(),_=y.x*b,E=y.y*b;this.setAttr("shadowColor",d),this.setAttr("shadowBlur",h*Math.min(Math.abs(_),Math.abs(E))),this.setAttr("shadowOffsetX",v.x*_),this.setAttr("shadowOffsetY",v.y*E)}}class a8 extends A1{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const i=e.getStrokeScaleEnabled();if(!i){this.save();const d=this.getCanvas().getPixelRatio();this.setTransform(d,0,0,d,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),c=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",c),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),i||this.restore()}}}let X0;function l8(){if(X0)return X0;const s=P.createCanvasElement(),e=s.getContext("2d");return X0=(function(){const i=wt._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return i/r})(),P.releaseCanvas(s),X0}let Cm=class{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||wt.pixelRatio||l8();this.pixelRatio=r,this._canvas=P.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const i=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/i,this.getHeight()/i)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const i=this.pixelRatio;this.getContext()._context.scale(i,i)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const i=this.pixelRatio;this.getContext()._context.scale(i,i)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,i){this.setWidth(e||0),this.setHeight(i||0)}toDataURL(e,i){try{return this._canvas.toDataURL(e,i)}catch{try{return this._canvas.toDataURL()}catch(c){return P.error("Unable to get data URL. "+c.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}};class er extends Cm{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new n8(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}class Em extends Cm{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new a8(this),this.setSize(e.width,e.height)}}const Be={get isDragging(){let s=!1;return Be._dragElements.forEach(e=>{e.dragStatus==="dragging"&&(s=!0)}),s},justDragged:!1,get node(){let s;return Be._dragElements.forEach(e=>{s=e.node}),s},_dragElements:new Map,_drag(s){const e=[];Be._dragElements.forEach((i,r)=>{const{node:c}=i,d=c.getStage();d.setPointersPositions(s),i.pointerId===void 0&&(i.pointerId=P._getFirstPointerId(s));const h=d._changedPointerPositions.find(v=>v.id===i.pointerId);if(h){if(i.dragStatus!=="dragging"){const v=c.dragDistance();if(Math.max(Math.abs(h.x-i.startPointerPos.x),Math.abs(h.y-i.startPointerPos.y))<v||(c.startDrag({evt:s}),!c.isDragging()))return}c._setDragPosition(s,i),e.push(c)}}),e.forEach(i=>{i.fire("dragmove",{type:"dragmove",target:i,evt:s},!0)})},_endDragBefore(s){const e=[];Be._dragElements.forEach(i=>{const{node:r}=i,c=r.getStage();if(s&&c.setPointersPositions(s),!c._changedPointerPositions.find(v=>v.id===i.pointerId))return;(i.dragStatus==="dragging"||i.dragStatus==="stopped")&&(Be.justDragged=!0,wt._mouseListenClick=!1,wt._touchListenClick=!1,wt._pointerListenClick=!1,i.dragStatus="stopped");const h=i.node.getLayer()||i.node instanceof wt.Stage&&i.node;h&&e.indexOf(h)===-1&&e.push(h)}),e.forEach(i=>{i.draw()})},_endDragAfter(s){Be._dragElements.forEach((e,i)=>{e.dragStatus==="stopped"&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:s},!0),e.dragStatus!=="dragging"&&Be._dragElements.delete(i)})}};wt.isBrowser&&(window.addEventListener("mouseup",Be._endDragBefore,!0),window.addEventListener("touchend",Be._endDragBefore,!0),window.addEventListener("touchcancel",Be._endDragBefore,!0),window.addEventListener("mousemove",Be._drag),window.addEventListener("touchmove",Be._drag),window.addEventListener("mouseup",Be._endDragAfter,!1),window.addEventListener("touchend",Be._endDragAfter,!1),window.addEventListener("touchcancel",Be._endDragAfter,!1));function ar(s){return P._isString(s)?'"'+s+'"':Object.prototype.toString.call(s)==="[object Number]"||P._isBoolean(s)?s:Object.prototype.toString.call(s)}function Dp(s){return s>255?255:s<0?0:Math.round(s)}function Dt(){if(wt.isUnminified)return function(s,e){return P._isNumber(s)||P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),s}}function M1(s){if(wt.isUnminified)return function(e,i){let r=P._isNumber(e),c=P._isArray(e)&&e.length==s;return!r&&!c&&P.warn(ar(e)+' is a not valid value for "'+i+'" attribute. The value should be a number or Array<number>('+s+")"),e}}function Tm(){if(wt.isUnminified)return function(s,e){return P._isNumber(s)||s==="auto"||P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),s}}function io(){if(wt.isUnminified)return function(s,e){return P._isString(s)||P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),s}}function Op(){if(wt.isUnminified)return function(s,e){const i=P._isString(s),r=Object.prototype.toString.call(s)==="[object CanvasGradient]"||s&&s.addColorStop;return i||r||P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),s}}function i8(){if(wt.isUnminified)return function(s,e){const i=Int8Array?Object.getPrototypeOf(Int8Array):null;return i&&s instanceof i||(P._isArray(s)?s.forEach(function(r){P._isNumber(r)||P.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),s}}function Gi(){if(wt.isUnminified)return function(s,e){return s===!0||s===!1||P.warn(ar(s)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),s}}function s8(s){if(wt.isUnminified)return function(e,i){return e==null||P.isObject(e)||P.warn(ar(e)+' is a not valid value for "'+i+'" attribute. The value should be an object with properties '+s),e}}const Cd="get",Ed="set",j={addGetterSetter(s,e,i,r,c){j.addGetter(s,e,i),j.addSetter(s,e,r,c),j.addOverloadedGetterSetter(s,e)},addGetter(s,e,i){const r=Cd+P._capitalize(e);s.prototype[r]=s.prototype[r]||function(){const c=this.attrs[e];return c===void 0?i:c}},addSetter(s,e,i,r){const c=Ed+P._capitalize(e);s.prototype[c]||j.overWriteSetter(s,e,i,r)},overWriteSetter(s,e,i,r){const c=Ed+P._capitalize(e);s.prototype[c]=function(d){return i&&d!==void 0&&d!==null&&(d=i.call(this,d,e)),this._setAttr(e,d),r&&r.call(this),this}},addComponentsGetterSetter(s,e,i,r,c){const d=i.length,h=P._capitalize,v=Cd+h(e),y=Ed+h(e);s.prototype[v]=function(){const _={};for(let E=0;E<d;E++){const T=i[E];_[T]=this.getAttr(e+h(T))}return _};const b=s8(i);s.prototype[y]=function(_){const E=this.attrs[e];r&&(_=r.call(this,_,e)),b&&b.call(this,_,e);for(const T in _)_.hasOwnProperty(T)&&this._setAttr(e+h(T),_[T]);return _||i.forEach(T=>{this._setAttr(e+h(T),void 0)}),this._fireChangeEvent(e,E,_),c&&c.call(this),this},j.addOverloadedGetterSetter(s,e)},addOverloadedGetterSetter(s,e){const i=P._capitalize(e),r=Ed+i,c=Cd+i;s.prototype[e]=function(){return arguments.length?(this[r](arguments[0]),this):this[c]()}},addDeprecatedGetterSetter(s,e,i,r){P.error("Adding deprecated "+e);const c=Cd+P._capitalize(e),d=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";s.prototype[c]=function(){P.error(d);const h=this.attrs[e];return h===void 0?i:h},j.addSetter(s,e,r,function(){P.error(d)}),j.addOverloadedGetterSetter(s,e)},backCompat(s,e){P.each(e,function(i,r){const c=s.prototype[r],d=Cd+P._capitalize(i),h=Ed+P._capitalize(i);function v(){c.apply(this,arguments),P.error('"'+i+'" method is deprecated and will be removed soon. Use ""'+r+'" instead.')}s.prototype[i]=v,s.prototype[d]=v,s.prototype[h]=v})},afterSetFilter(){this._filterUpToDate=!1}};function u8(s){const e=/(\w+)\(([^)]+)\)/g;let i;for(;(i=e.exec(s))!==null;){const[,r,c]=i;switch(r){case"blur":{const d=parseFloat(c.replace("px",""));return function(h){this.blurRadius(d*.5);const v=wt.Filters;v&&v.Blur&&v.Blur.call(this,h)}}case"brightness":{const d=c.includes("%")?parseFloat(c)/100:parseFloat(c);return function(h){this.brightness(d);const v=wt.Filters;v&&v.Brightness&&v.Brightness.call(this,h)}}case"contrast":{const d=parseFloat(c);return function(h){const v=100*(Math.sqrt(d)-1);this.contrast(v);const y=wt.Filters;y&&y.Contrast&&y.Contrast.call(this,h)}}case"grayscale":return function(d){const h=wt.Filters;h&&h.Grayscale&&h.Grayscale.call(this,d)};case"sepia":return function(d){const h=wt.Filters;h&&h.Sepia&&h.Sepia.call(this,d)};case"invert":return function(d){const h=wt.Filters;h&&h.Invert&&h.Invert.call(this,d)};default:P.warn(`CSS filter "${r}" is not supported in fallback mode. Consider using function filters for better compatibility.`);break}}return()=>{}}const n1="absoluteOpacity",Q0="allEventListeners",tu="absoluteTransform",cv="absoluteScale",$r="canvas",r8="Change",o8="children",c8="konva",F2="listening",f8="mouseenter",d8="mouseleave",h8="pointerenter",m8="pointerleave",g8="touchenter",v8="touchleave",fv="set",dv="Shape",a1=" ",hv="stage",Pu="transform",p8="Stage",I2="visible",y8=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(a1);let S8=1;class Rt{constructor(e){this._id=S8++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Pu||e===tu)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,i){let r=this._cache.get(e);return(r===void 0||(e===Pu||e===tu)&&r.dirty===!0)&&(r=i.call(this),this._cache.set(e,r)),r}_calculate(e,i,r){if(!this._attachedDepsListeners.get(e)){const c=i.map(d=>d+"Change.konva").join(a1);this.on(c,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get($r)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===tu&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has($r)){const{scene:e,filter:i,hit:r,buffer:c}=this._cache.get($r);P.releaseCanvas(e,i,r,c),this._cache.delete($r)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const i=e||{};let r={};(i.x===void 0||i.y===void 0||i.width===void 0||i.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let c=Math.ceil(i.width||r.width),d=Math.ceil(i.height||r.height),h=i.pixelRatio,v=i.x===void 0?Math.floor(r.x):i.x,y=i.y===void 0?Math.floor(r.y):i.y,b=i.offset||0,_=i.drawBorder||!1,E=i.hitCanvasPixelRatio||1;if(!c||!d){P.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const T=Math.abs(Math.round(r.x)-v)>.5?1:0,N=Math.abs(Math.round(r.y)-y)>.5?1:0;c+=b*2+T,d+=b*2+N,v-=b,y-=b;const A=new er({pixelRatio:h,width:c,height:d}),B=new er({pixelRatio:h,width:0,height:0,willReadFrequently:!0}),w=new Em({pixelRatio:E,width:c,height:d}),U=A.getContext(),H=w.getContext(),L=new er({width:A.width/A.pixelRatio+Math.abs(v),height:A.height/A.pixelRatio+Math.abs(y),pixelRatio:A.pixelRatio}),z=L.getContext();return w.isCache=!0,A.isCache=!0,this._cache.delete($r),this._filterUpToDate=!1,i.imageSmoothingEnabled===!1&&(A.getContext()._context.imageSmoothingEnabled=!1,B.getContext()._context.imageSmoothingEnabled=!1),U.save(),H.save(),z.save(),U.translate(-v,-y),H.translate(-v,-y),z.translate(-v,-y),L.x=v,L.y=y,this._isUnderCache=!0,this._clearSelfAndDescendantCache(n1),this._clearSelfAndDescendantCache(cv),this.drawScene(A,this,L),this.drawHit(w,this),this._isUnderCache=!1,U.restore(),H.restore(),_&&(U.save(),U.beginPath(),U.rect(0,0,c,d),U.closePath(),U.setAttr("strokeStyle","red"),U.setAttr("lineWidth",5),U.stroke(),U.restore()),this._cache.set($r,{scene:A,filter:B,hit:w,buffer:L,x:v,y}),this._requestDraw(),this}isCached(){return this._cache.has($r)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,i){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let c=1/0,d=1/0,h=-1/0,v=-1/0;const y=this.getAbsoluteTransform(i);return r.forEach(function(b){const _=y.point(b);c===void 0&&(c=h=_.x,d=v=_.y),c=Math.min(c,_.x),d=Math.min(d,_.y),h=Math.max(h,_.x),v=Math.max(v,_.y)}),{x:c,y:d,width:h-c,height:v-d}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const i=this._getCanvasCache();e.translate(i.x,i.y);const r=this._getCachedSceneCanvas(),c=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/c,r.height/c),e.restore()}_drawCachedHitCanvas(e){const i=this._getCanvasCache(),r=i.hit;e.save(),e.translate(i.x,i.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),i=this._getCanvasCache(),r=i.scene,c=i.filter,d=c.getContext(),h,v,y,b;if(!e||e.length===0)return r;if(this._filterUpToDate)return c;let _=!0;for(let T=0;T<e.length;T++)if(typeof e[T]=="string"&&ov(),typeof e[T]!="string"||!ov()){_=!1;break}const E=r.pixelRatio;if(c.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio),_){const T=e.join(" ");return d.save(),d.setAttr("filter",T),d.drawImage(r._canvas,0,0,r.getWidth()/E,r.getHeight()/E),d.restore(),this._filterUpToDate=!0,c}try{for(h=e.length,d.clear(),d.drawImage(r._canvas,0,0,r.getWidth()/E,r.getHeight()/E),v=d.getImageData(0,0,c.getWidth(),c.getHeight()),y=0;y<h;y++)b=e[y],typeof b=="string"&&(b=u8(b)),b.call(this,v),d.putImageData(v,0,0)}catch(T){P.error("Unable to apply filter. "+T.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}return this._filterUpToDate=!0,c}on(e,i){if(this._cache&&this._cache.delete(Q0),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(a1);for(let c=0;c<r.length;c++){const h=r[c].split("."),v=h[0],y=h[1]||"";this.eventListeners[v]||(this.eventListeners[v]=[]),this.eventListeners[v].push({name:y,handler:i})}return this}off(e,i){let r=(e||"").split(a1),c=r.length,d,h,v,y,b,_;if(this._cache&&this._cache.delete(Q0),!e)for(h in this.eventListeners)this._off(h);for(d=0;d<c;d++)if(v=r[d],y=v.split("."),b=y[0],_=y[1],b)this.eventListeners[b]&&this._off(b,_,i);else for(h in this.eventListeners)this._off(h,_,i);return this}dispatchEvent(e){const i={target:this,type:e.type,evt:e};return this.fire(e.type,i),this}addEventListener(e,i){return this.on(e,function(r){i.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,i,r){const c=this;this.on(e,function(d){const h=d.target.findAncestors(i,!0,c);for(let v=0;v<h.length;v++)d=P.cloneObject(d),d.currentTarget=h[v],r.call(h[v],d)})}remove(){return this.isDragging()&&this.stopDrag(),Be._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(tu),this._clearSelfAndDescendantCache(n1),this._clearSelfAndDescendantCache(cv),this._clearSelfAndDescendantCache(hv),this._clearSelfAndDescendantCache(I2),this._clearSelfAndDescendantCache(F2)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const i="get"+P._capitalize(e);return P._isFunction(this[i])?this[i]():this.attrs[e]}getAncestors(){let e=this.getParent(),i=[];for(;e;)i.push(e),e=e.getParent();return i}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let i,r;if(!e)return this;for(i in e)i!==o8&&(r=fv+P._capitalize(i),P._isFunction(this[r])?this[r](e[i]):this._setAttr(i,e[i]))}),this}isListening(){return this._getCache(F2,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(I2,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,i=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let c=!1;Be._dragElements.forEach(h=>{h.dragStatus==="dragging"&&(h.node.nodeType==="Stage"||h.node.getLayer()===r)&&(c=!0)});const d=!i&&!wt.hitOnDragEnabled&&(c||wt.isTransforming());return this.isListening()&&this.isVisible()&&!d}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),i=this,r=0,c,d,h,v;function y(_){for(c=[],d=_.length,h=0;h<d;h++)v=_[h],r++,v.nodeType!==dv&&(c=c.concat(v.getChildren().slice())),v._id===i._id&&(h=d);c.length>0&&c[0].getDepth()<=e&&y(c)}const b=this.getStage();return i.nodeType!==p8&&b&&y(b.getChildren()),r}getDepth(){let e=0,i=this.parent;for(;i;)e++,i=i.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Pu),this._clearSelfAndDescendantCache(tu)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const i=e.getPointerPosition();if(!i)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(i)}getAbsolutePosition(e){let i=!1,r=this.parent;for(;r;){if(r.isCached()){i=!0;break}r=r.parent}i&&!e&&(e=!0);const c=this.getAbsoluteTransform(e).getMatrix(),d=new wl,h=this.offset();return d.m=c.slice(),d.translate(h.x,h.y),d.getTranslation()}setAbsolutePosition(e){const{x:i,y:r,...c}=this._clearTransform();this.attrs.x=i,this.attrs.y=r,this._clearCache(Pu);const d=this._getAbsoluteTransform().copy();return d.invert(),d.translate(e.x,e.y),e={x:this.attrs.x+d.getTranslation().x,y:this.attrs.y+d.getTranslation().y},this._setTransform(c),this.setPosition({x:e.x,y:e.y}),this._clearCache(Pu),this._clearSelfAndDescendantCache(tu),this}_setTransform(e){let i;for(i in e)this.attrs[i]=e[i]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let i=e.x,r=e.y,c=this.x(),d=this.y();return i!==void 0&&(c+=i),r!==void 0&&(d+=r),this.setPosition({x:c,y:d}),this}_eachAncestorReverse(e,i){let r=[],c=this.getParent(),d,h;if(!(i&&i._id===this._id)){for(r.unshift(this);c&&(!i||c._id!==i._id);)r.unshift(c),c=c.parent;for(d=r.length,h=0;h<d;h++)e(r[h])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return P.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,i=this.parent.getChildren().length;return e<i-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return P.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,i=this.parent.getChildren().length;return e<i-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return P.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return P.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return P.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&P.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const i=this.index;return this.parent.children.splice(i,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(n1,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const i=this.getParent();return i&&!i._isUnderCache&&(e*=i.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),i,r,c,d,h;const v={attrs:{},className:this.getClassName()};for(i in e)r=e[i],h=P.isObject(r)&&!P._isPlainObject(r)&&!P._isArray(r),!h&&(c=typeof this[i]=="function"&&this[i],delete e[i],d=c?c.call(this):null,e[i]=r,d!==r&&(v.attrs[i]=r));return P._prepareToStringify(v)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,i,r){const c=[];i&&this._isMatch(e)&&c.push(this);let d=this.parent;for(;d;){if(d===r)return c;d._isMatch(e)&&c.push(d),d=d.parent}return c}isAncestorOf(e){return!1}findAncestor(e,i,r){return this.findAncestors(e,i,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let i=e.replace(/ /g,"").split(","),r=i.length,c,d;for(c=0;c<r;c++)if(d=i[c],P.isValidSelector(d)||(P.warn('Selector "'+d+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),P.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),P.warn("Konva is awesome, right?")),d.charAt(0)==="#"){if(this.id()===d.slice(1))return!0}else if(d.charAt(0)==="."){if(this.hasName(d.slice(1)))return!0}else if(this.className===d||this.nodeType===d)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(hv,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,i={},r){return i.target=i.target||this,r?this._fireAndBubble(e,i):this._fire(e,i),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(tu,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let i;if(e)return i=new wl,this._eachAncestorReverse(function(r){const c=r.transformsEnabled();c==="all"?i.multiply(r.getTransform()):c==="position"&&i.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),i;{i=this._cache.get(tu)||new wl,this.parent?this.parent.getAbsoluteTransform().copyInto(i):i.reset();const r=this.transformsEnabled();if(r==="all")i.multiply(this.getTransform());else if(r==="position"){const c=this.attrs.x||0,d=this.attrs.y||0,h=this.attrs.offsetX||0,v=this.attrs.offsetY||0;i.translate(c-h,d-v)}return i.dirty=!1,i}}getAbsoluteScale(e){let i=this;for(;i;)i._isUnderCache&&(e=i),i=i.getParent();const c=this.getAbsoluteTransform(e).decompose();return{x:c.scaleX,y:c.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Pu,this._getTransform)}_getTransform(){var e,i;const r=this._cache.get(Pu)||new wl;r.reset();const c=this.x(),d=this.y(),h=wt.getAngle(this.rotation()),v=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,y=(i=this.attrs.scaleY)!==null&&i!==void 0?i:1,b=this.attrs.skewX||0,_=this.attrs.skewY||0,E=this.attrs.offsetX||0,T=this.attrs.offsetY||0;return(c!==0||d!==0)&&r.translate(c,d),h!==0&&r.rotate(h),(b!==0||_!==0)&&r.skew(b,_),(v!==1||y!==1)&&r.scale(v,y),(E!==0||T!==0)&&r.translate(-1*E,-1*T),r.dirty=!1,r}clone(e){let i=P.cloneObject(this.attrs),r,c,d,h,v;for(r in e)i[r]=e[r];const y=new this.constructor(i);for(r in this.eventListeners)for(c=this.eventListeners[r],d=c.length,h=0;h<d;h++)v=c[h],v.name.indexOf(c8)<0&&(y.eventListeners[r]||(y.eventListeners[r]=[]),y.eventListeners[r].push(v));return y}_toKonvaCanvas(e){e=e||{};const i=this.getClientRect(),r=this.getStage(),c=e.x!==void 0?e.x:Math.floor(i.x),d=e.y!==void 0?e.y:Math.floor(i.y),h=e.pixelRatio||1,v=new er({width:e.width||Math.ceil(i.width)||(r?r.width():0),height:e.height||Math.ceil(i.height)||(r?r.height():0),pixelRatio:h}),y=v.getContext(),b=new er({width:v.width/v.pixelRatio+Math.abs(c),height:v.height/v.pixelRatio+Math.abs(d),pixelRatio:v.pixelRatio});return e.imageSmoothingEnabled===!1&&(y._context.imageSmoothingEnabled=!1),y.save(),(c||d)&&y.translate(-1*c,-1*d),this.drawScene(v,void 0,b),y.restore(),v}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const i=e.mimeType||null,r=e.quality||null,c=this._toKonvaCanvas(e).toDataURL(i,r);return e.callback&&e.callback(c),c}toImage(e){return new Promise((i,r)=>{try{const c=e?.callback;c&&delete e.callback,P._urlToImage(this.toDataURL(e),function(d){i(d),c?.(d)})}catch(c){r(c)}})}toBlob(e){return new Promise((i,r)=>{try{const c=e?.callback;c&&delete e.callback,this.toCanvas(e).toBlob(d=>{i(d),c?.(d)},e?.mimeType,e?.quality)}catch(c){r(c)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():wt.dragDistance}_off(e,i,r){let c=this.eventListeners[e],d,h,v;for(d=0;d<c.length;d++)if(h=c[d].name,v=c[d].handler,(h!=="konva"||i==="konva")&&(!i||h===i)&&(!r||r===v)){if(c.splice(d,1),c.length===0){delete this.eventListeners[e];break}d--}}_fireChangeEvent(e,i,r){this._fire(e+r8,{oldVal:i,newVal:r})}addName(e){if(!this.hasName(e)){const i=this.name(),r=i?i+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const i=this.name();return i?(i||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const i=(this.name()||"").split(/\s/g),r=i.indexOf(e);return r!==-1&&(i.splice(r,1),this.name(i.join(" "))),this}setAttr(e,i){const r=this[fv+P._capitalize(e)];return P._isFunction(r)?r.call(this,i):this._setAttr(e,i),this}_requestDraw(){if(wt.autoDrawEnabled){const e=this.getLayer()||this.getStage();e?.batchDraw()}}_setAttr(e,i){const r=this.attrs[e];r===i&&!P.isObject(i)||(i==null?delete this.attrs[e]:this.attrs[e]=i,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,i),this._requestDraw())}_setComponentAttr(e,i,r){let c;r!==void 0&&(c=this.attrs[e],c||(this.attrs[e]=this.getAttr(e)),this.attrs[e][i]=r,this._fireChangeEvent(e,c,r))}_fireAndBubble(e,i,r){i&&this.nodeType===dv&&(i.target=this);const c=[f8,d8,h8,m8,g8,v8];if(!(c.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,i);const h=c.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(i&&!i.cancelBubble||!i)&&this.parent&&this.parent.isListening()&&!h&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,i,r):this._fireAndBubble.call(this.parent,e,i))}}_getProtoListeners(e){var i,r,c;const d=(i=this._cache.get(Q0))!==null&&i!==void 0?i:{};let h=d?.[e];if(h===void 0){h=[];let v=Object.getPrototypeOf(this);for(;v;){const y=(c=(r=v.eventListeners)===null||r===void 0?void 0:r[e])!==null&&c!==void 0?c:[];h.push(...y),v=Object.getPrototypeOf(v)}d[e]=h,this._cache.set(Q0,d)}return h}_fire(e,i){i=i||{},i.currentTarget=this,i.type=e;const r=this._getProtoListeners(e);if(r)for(let d=0;d<r.length;d++)r[d].handler.call(this,i);const c=this.eventListeners[e];if(c)for(let d=0;d<c.length;d++)c[d].handler.call(this,i)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const i=e?e.pointerId:void 0,r=this.getStage(),c=this.getAbsolutePosition();if(!r)return;const d=r._getPointerById(i)||r._changedPointerPositions[0]||c;Be._dragElements.set(this._id,{node:this,startPointerPos:d,offset:{x:d.x-c.x,y:d.y-c.y},dragStatus:"ready",pointerId:i})}startDrag(e,i=!0){Be._dragElements.has(this._id)||this._createDragElement(e);const r=Be._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},i)}_setDragPosition(e,i){const r=this.getStage()._getPointerById(i.pointerId);if(!r)return;let c={x:r.x-i.offset.x,y:r.y-i.offset.y};const d=this.dragBoundFunc();if(d!==void 0){const h=d.call(this,c,e);h?c=h:P.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==c.x||this._lastPos.y!==c.y)&&(this.setAbsolutePosition(c),this._requestDraw()),this._lastPos=c}stopDrag(e){const i=Be._dragElements.get(this._id);i&&(i.dragStatus="stopped"),Be._endDragBefore(e),Be._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=Be._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||wt.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let c=!1;Be._dragElements.forEach(d=>{this.isAncestorOf(d.node)&&(c=!0)}),c||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const i=Be._dragElements.get(this._id),r=i&&i.dragStatus==="dragging",c=i&&i.dragStatus==="ready";r?this.stopDrag():c&&Be._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const i=this.getStage();if(!i)return!1;const r={x:-e.x,y:-e.y,width:i.width()+2*e.x,height:i.height()+2*e.y};return P.haveIntersection(r,this.getClientRect())}static create(e,i){return P._isString(e)&&(e=JSON.parse(e)),this._createNode(e,i)}static _createNode(e,i){let r=Rt.prototype.getClassName.call(e),c=e.children,d,h,v;i&&(e.attrs.container=i),wt[r]||(P.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const y=wt[r];if(d=new y(e.attrs),c)for(h=c.length,v=0;v<h;v++)d.add(Rt._createNode(c[v]));return d}}Rt.prototype.nodeType="Node";Rt.prototype._attrsAffectingSize=[];Rt.prototype.eventListeners={};Rt.prototype.on.call(Rt.prototype,y8,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Pu),this._clearSelfAndDescendantCache(tu)});Rt.prototype.on.call(Rt.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(I2)});Rt.prototype.on.call(Rt.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(F2)});Rt.prototype.on.call(Rt.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(n1)});const Ie=j.addGetterSetter;Ie(Rt,"zIndex");Ie(Rt,"absolutePosition");Ie(Rt,"position");Ie(Rt,"x",0,Dt());Ie(Rt,"y",0,Dt());Ie(Rt,"globalCompositeOperation","source-over",io());Ie(Rt,"opacity",1,Dt());Ie(Rt,"name","",io());Ie(Rt,"id","",io());Ie(Rt,"rotation",0,Dt());j.addComponentsGetterSetter(Rt,"scale",["x","y"]);Ie(Rt,"scaleX",1,Dt());Ie(Rt,"scaleY",1,Dt());j.addComponentsGetterSetter(Rt,"skew",["x","y"]);Ie(Rt,"skewX",0,Dt());Ie(Rt,"skewY",0,Dt());j.addComponentsGetterSetter(Rt,"offset",["x","y"]);Ie(Rt,"offsetX",0,Dt());Ie(Rt,"offsetY",0,Dt());Ie(Rt,"dragDistance",void 0,Dt());Ie(Rt,"width",0,Dt());Ie(Rt,"height",0,Dt());Ie(Rt,"listening",!0,Gi());Ie(Rt,"preventDefault",!0,Gi());Ie(Rt,"filters",void 0,function(s){return this._filterUpToDate=!1,s});Ie(Rt,"visible",!0,Gi());Ie(Rt,"transformsEnabled","all",io());Ie(Rt,"size");Ie(Rt,"dragBoundFunc");Ie(Rt,"draggable",!1,Gi());j.backCompat(Rt,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});class Hl extends Rt{constructor(){super(...arguments),this.children=[]}getChildren(e){const i=this.children||[];return e?i.filter(e):i}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const i=e[0];return i.getParent()?(i.moveTo(this),this):(this._validateAdd(i),i.index=this.getChildren().length,i.parent=this,i._clearCaches(),this.getChildren().push(i),this._fire("add",{child:i}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const i=this._generalFind(e,!0);return i.length>0?i[0]:void 0}_generalFind(e,i){const r=[];return this._descendants(c=>{const d=c._isMatch(e);return d&&r.push(c),!!(d&&i)}),r}_descendants(e){let i=!1;const r=this.getChildren();for(const c of r){if(i=e(c),i)return!0;if(c.hasChildren()&&(i=c._descendants(e),i))return!0}return!1}toObject(){const e=Rt.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(i=>{e.children.push(i.toObject())}),e}isAncestorOf(e){let i=e.getParent();for(;i;){if(i._id===this._id)return!0;i=i.getParent()}return!1}clone(e){const i=Rt.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){i.add(r.clone())}),i}getAllIntersections(e){const i=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&i.push(r)}),i}_clearSelfAndDescendantCache(e){var i;super._clearSelfAndDescendantCache(e),!this.isCached()&&((i=this.children)===null||i===void 0||i.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(i,r){i.index=r}),this._requestDraw()}drawScene(e,i,r){const c=this.getLayer(),d=e||c&&c.getCanvas(),h=d&&d.getContext(),v=this._getCanvasCache(),y=v&&v.scene,b=d&&d.isCache;if(!this.isVisible()&&!b)return this;if(y){h.save();const _=this.getAbsoluteTransform(i).getMatrix();h.transform(_[0],_[1],_[2],_[3],_[4],_[5]),this._drawCachedSceneCanvas(h),h.restore()}else this._drawChildren("drawScene",d,i,r);return this}drawHit(e,i){if(!this.shouldDrawHit(i))return this;const r=this.getLayer(),c=e||r&&r.hitCanvas,d=c&&c.getContext(),h=this._getCanvasCache();if(h&&h.hit){d.save();const y=this.getAbsoluteTransform(i).getMatrix();d.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._drawCachedHitCanvas(d),d.restore()}else this._drawChildren("drawHit",c,i);return this}_drawChildren(e,i,r,c){var d;const h=i&&i.getContext(),v=this.clipWidth(),y=this.clipHeight(),b=this.clipFunc(),_=typeof v=="number"&&typeof y=="number"||b,E=r===this;if(_){h.save();const N=this.getAbsoluteTransform(r);let A=N.getMatrix();h.transform(A[0],A[1],A[2],A[3],A[4],A[5]),h.beginPath();let B;if(b)B=b.call(this,h,this);else{const w=this.clipX(),U=this.clipY();h.rect(w||0,U||0,v,y)}h.clip.apply(h,B),A=N.copy().invert().getMatrix(),h.transform(A[0],A[1],A[2],A[3],A[4],A[5])}const T=!E&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";T&&(h.save(),h._applyGlobalCompositeOperation(this)),(d=this.children)===null||d===void 0||d.forEach(function(N){N[e](i,r,c)}),T&&h.restore(),_&&h.restore()}getClientRect(e={}){var i;const r=e.skipTransform,c=e.relativeTo;let d,h,v,y,b={x:1/0,y:1/0,width:0,height:0};const _=this;(i=this.children)===null||i===void 0||i.forEach(function(N){if(!N.visible())return;const A=N.getClientRect({relativeTo:_,skipShadow:e.skipShadow,skipStroke:e.skipStroke});A.width===0&&A.height===0||(d===void 0?(d=A.x,h=A.y,v=A.x+A.width,y=A.y+A.height):(d=Math.min(d,A.x),h=Math.min(h,A.y),v=Math.max(v,A.x+A.width),y=Math.max(y,A.y+A.height)))});const E=this.find("Shape");let T=!1;for(let N=0;N<E.length;N++)if(E[N]._isVisible(this)){T=!0;break}return T&&d!==void 0?b={x:d,y:h,width:v-d,height:y-h}:b={x:0,y:0,width:0,height:0},r?b:this._transformedRect(b,c)}}j.addComponentsGetterSetter(Hl,"clip",["x","y","width","height"]);j.addGetterSetter(Hl,"clipX",void 0,Dt());j.addGetterSetter(Hl,"clipY",void 0,Dt());j.addGetterSetter(Hl,"clipWidth",void 0,Dt());j.addGetterSetter(Hl,"clipHeight",void 0,Dt());j.addGetterSetter(Hl,"clipFunc");const Zd=new Map,zp=wt._global.PointerEvent!==void 0;function N2(s){return Zd.get(s)}function Am(s){return{evt:s,pointerId:s.pointerId}}function wp(s,e){return Zd.get(s)===e}function Hp(s,e){jd(s),e.getStage()&&(Zd.set(s,e),zp&&e._fire("gotpointercapture",Am(new PointerEvent("gotpointercapture"))))}function jd(s,e){const i=Zd.get(s);if(!i)return;const r=i.getStage();r&&r.content,Zd.delete(s),zp&&i._fire("lostpointercapture",Am(new PointerEvent("lostpointercapture")))}const b8="Stage",x8="string",mv="px",_8="mouseout",Bp="mouseleave",Gp="mouseover",Up="mouseenter",jp="mousemove",Lp="mousedown",Yp="mouseup",Rd="pointermove",Nd="pointerdown",zc="pointerup",Dd="pointercancel",C8="lostpointercapture",V0="pointerout",Od="pointerleave",K0="pointerover",Z0="pointerenter",k2="contextmenu",qp="touchstart",Xp="touchend",Qp="touchmove",Vp="touchcancel",W2="wheel",E8=5,T8=[[Up,"_pointerenter"],[Lp,"_pointerdown"],[jp,"_pointermove"],[Yp,"_pointerup"],[Bp,"_pointerleave"],[qp,"_pointerdown"],[Qp,"_pointermove"],[Xp,"_pointerup"],[Vp,"_pointercancel"],[Gp,"_pointerover"],[W2,"_wheel"],[k2,"_contextmenu"],[Nd,"_pointerdown"],[Rd,"_pointermove"],[zc,"_pointerup"],[Dd,"_pointercancel"],[Od,"_pointerleave"],[C8,"_lostpointercapture"]],D2={mouse:{[V0]:_8,[Od]:Bp,[K0]:Gp,[Z0]:Up,[Rd]:jp,[Nd]:Lp,[zc]:Yp,[Dd]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[V0]:"touchout",[Od]:"touchleave",[K0]:"touchover",[Z0]:"touchenter",[Rd]:Qp,[Nd]:qp,[zc]:Xp,[Dd]:Vp,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[V0]:V0,[Od]:Od,[K0]:K0,[Z0]:Z0,[Rd]:Rd,[Nd]:Nd,[zc]:zc,[Dd]:Dd,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},zd=s=>s.indexOf("pointer")>=0?"pointer":s.indexOf("touch")>=0?"touch":"mouse",Mc=s=>{const e=zd(s);if(e==="pointer")return wt.pointerEventsEnabled&&D2.pointer;if(e==="touch")return D2.touch;if(e==="mouse")return D2.mouse};function gv(s={}){return(s.clipFunc||s.clipWidth||s.clipHeight)&&P.warn("Stage does not support clipping. Please use clip for Layers or Groups."),s}const A8="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);",Ld=[];let R1=class extends Hl{constructor(e){super(gv(e)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),Ld.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{gv(this.attrs)}),this._checkVisibility()}_validateAdd(e){const i=e.getType()==="Layer",r=e.getType()==="FastLayer";i||r||P.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const e=this.visible()?"":"none";this.content.style.display=e}setContainer(e){if(typeof e===x8){let i;if(e.charAt(0)==="."){const r=e.slice(1);e=document.getElementsByClassName(r)[0]}else e.charAt(0)!=="#"?i=e:i=e.slice(1),e=document.getElementById(i);if(!e)throw"Can not find container in document with id "+i}return this._setAttr("container",e),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),e.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const e=this.children,i=e.length;for(let r=0;r<i;r++)e[r].clear();return this}clone(e){return e||(e={}),e.container=typeof document<"u"&&document.createElement("div"),Hl.prototype.clone.call(this,e)}destroy(){super.destroy();const e=this.content;e&&P._isInDocument(e)&&this.container().removeChild(e);const i=Ld.indexOf(this);return i>-1&&Ld.splice(i,1),P.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const e=this._pointerPositions[0]||this._changedPointerPositions[0];return e?{x:e.x,y:e.y}:(P.warn(A8),null)}_getPointerById(e){return this._pointerPositions.find(i=>i.id===e)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(e){e={...e},e.x=e.x||0,e.y=e.y||0,e.width=e.width||this.width(),e.height=e.height||this.height();const i=new er({width:e.width,height:e.height,pixelRatio:e.pixelRatio||1}),r=i.getContext()._context,c=this.children;return(e.x||e.y)&&r.translate(-1*e.x,-1*e.y),c.forEach(function(d){if(!d.isVisible())return;const h=d._toKonvaCanvas(e);r.drawImage(h._canvas,e.x,e.y,h.getWidth()/h.getPixelRatio(),h.getHeight()/h.getPixelRatio())}),i}getIntersection(e){if(!e)return null;const i=this.children,r=i.length,c=r-1;for(let d=c;d>=0;d--){const h=i[d].getIntersection(e);if(h)return h}return null}_resizeDOM(){const e=this.width(),i=this.height();this.content&&(this.content.style.width=e+mv,this.content.style.height=i+mv),this.bufferCanvas.setSize(e,i),this.bufferHitCanvas.setSize(e,i),this.children.forEach(r=>{r.setSize({width:e,height:i}),r.draw()})}add(e,...i){if(arguments.length>1){for(let c=0;c<arguments.length;c++)this.add(arguments[c]);return this}super.add(e);const r=this.children.length;return r>E8&&P.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),wt.isBrowser&&this.content.appendChild(e.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(e){return wp(e,this)}setPointerCapture(e){Hp(e,this)}releaseCapture(e){jd(e)}getLayers(){return this.children}_bindContentEvents(){wt.isBrowser&&T8.forEach(([e,i])=>{this.content.addEventListener(e,r=>{this[i](r)},{passive:!1})})}_pointerenter(e){this.setPointersPositions(e);const i=Mc(e.type);i&&this._fire(i.pointerenter,{evt:e,target:this,currentTarget:this})}_pointerover(e){this.setPointersPositions(e);const i=Mc(e.type);i&&this._fire(i.pointerover,{evt:e,target:this,currentTarget:this})}_getTargetShape(e){let i=this[e+"targetShape"];return i&&!i.getStage()&&(i=null),i}_pointerleave(e){const i=Mc(e.type),r=zd(e.type);if(!i)return;this.setPointersPositions(e);const c=this._getTargetShape(r),d=!(wt.isDragging()||wt.isTransforming())||wt.hitOnDragEnabled;c&&d?(c._fireAndBubble(i.pointerout,{evt:e}),c._fireAndBubble(i.pointerleave,{evt:e}),this._fire(i.pointerleave,{evt:e,target:this,currentTarget:this}),this[r+"targetShape"]=null):d&&(this._fire(i.pointerleave,{evt:e,target:this,currentTarget:this}),this._fire(i.pointerout,{evt:e,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(e){const i=Mc(e.type),r=zd(e.type);if(!i)return;this.setPointersPositions(e);let c=!1;this._changedPointerPositions.forEach(d=>{const h=this.getIntersection(d);if(Be.justDragged=!1,wt["_"+r+"ListenClick"]=!0,!h||!h.isListening()){this[r+"ClickStartShape"]=void 0;return}wt.capturePointerEventsEnabled&&h.setPointerCapture(d.id),this[r+"ClickStartShape"]=h,h._fireAndBubble(i.pointerdown,{evt:e,pointerId:d.id}),c=!0;const v=e.type.indexOf("touch")>=0;h.preventDefault()&&e.cancelable&&v&&e.preventDefault()}),c||this._fire(i.pointerdown,{evt:e,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(e){const i=Mc(e.type),r=zd(e.type);if(!i)return;const c=e.type.indexOf("touch")>=0||e.pointerType==="touch";if(wt.isDragging()&&Be.node.preventDefault()&&e.cancelable&&c&&e.preventDefault(),this.setPointersPositions(e),!(!(wt.isDragging()||wt.isTransforming())||wt.hitOnDragEnabled))return;const h={};let v=!1;const y=this._getTargetShape(r);this._changedPointerPositions.forEach(b=>{const _=N2(b.id)||this.getIntersection(b),E=b.id,T={evt:e,pointerId:E},N=y!==_;if(N&&y&&(y._fireAndBubble(i.pointerout,{...T},_),y._fireAndBubble(i.pointerleave,{...T},_)),_){if(h[_._id])return;h[_._id]=!0}_&&_.isListening()?(v=!0,N&&(_._fireAndBubble(i.pointerover,{...T},y),_._fireAndBubble(i.pointerenter,{...T},y),this[r+"targetShape"]=_),_._fireAndBubble(i.pointermove,{...T})):y&&(this._fire(i.pointerover,{evt:e,target:this,currentTarget:this,pointerId:E}),this[r+"targetShape"]=null)}),v||this._fire(i.pointermove,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(e){const i=Mc(e.type),r=zd(e.type);if(!i)return;this.setPointersPositions(e);const c=this[r+"ClickStartShape"],d=this[r+"ClickEndShape"],h={};let v=!1;this._changedPointerPositions.forEach(y=>{const b=N2(y.id)||this.getIntersection(y);if(b){if(b.releaseCapture(y.id),h[b._id])return;h[b._id]=!0}const _=y.id,E={evt:e,pointerId:_};let T=!1;wt["_"+r+"InDblClickWindow"]?(T=!0,clearTimeout(this[r+"DblTimeout"])):Be.justDragged||(wt["_"+r+"InDblClickWindow"]=!0,clearTimeout(this[r+"DblTimeout"])),this[r+"DblTimeout"]=setTimeout(function(){wt["_"+r+"InDblClickWindow"]=!1},wt.dblClickWindow),b&&b.isListening()?(v=!0,this[r+"ClickEndShape"]=b,b._fireAndBubble(i.pointerup,{...E}),wt["_"+r+"ListenClick"]&&c&&c===b&&(b._fireAndBubble(i.pointerclick,{...E}),T&&d&&d===b&&b._fireAndBubble(i.pointerdblclick,{...E}))):(this[r+"ClickEndShape"]=null,v||(this._fire(i.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),v=!0),wt["_"+r+"ListenClick"]&&this._fire(i.pointerclick,{evt:e,target:this,currentTarget:this,pointerId:_}),T&&this._fire(i.pointerdblclick,{evt:e,target:this,currentTarget:this,pointerId:_}))}),v||this._fire(i.pointerup,{evt:e,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),wt["_"+r+"ListenClick"]=!1,e.cancelable&&r!=="touch"&&r!=="pointer"&&e.preventDefault()}_contextmenu(e){this.setPointersPositions(e);const i=this.getIntersection(this.getPointerPosition());i&&i.isListening()?i._fireAndBubble(k2,{evt:e}):this._fire(k2,{evt:e,target:this,currentTarget:this})}_wheel(e){this.setPointersPositions(e);const i=this.getIntersection(this.getPointerPosition());i&&i.isListening()?i._fireAndBubble(W2,{evt:e}):this._fire(W2,{evt:e,target:this,currentTarget:this})}_pointercancel(e){this.setPointersPositions(e);const i=N2(e.pointerId)||this.getIntersection(this.getPointerPosition());i&&i._fireAndBubble(zc,Am(e)),jd(e.pointerId)}_lostpointercapture(e){jd(e.pointerId)}setPointersPositions(e){const i=this._getContentPosition();let r=null,c=null;e=e||window.event,e.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(e.touches,d=>{this._pointerPositions.push({id:d.identifier,x:(d.clientX-i.left)/i.scaleX,y:(d.clientY-i.top)/i.scaleY})}),Array.prototype.forEach.call(e.changedTouches||e.touches,d=>{this._changedPointerPositions.push({id:d.identifier,x:(d.clientX-i.left)/i.scaleX,y:(d.clientY-i.top)/i.scaleY})})):(r=(e.clientX-i.left)/i.scaleX,c=(e.clientY-i.top)/i.scaleY,this.pointerPos={x:r,y:c},this._pointerPositions=[{x:r,y:c,id:P._getFirstPointerId(e)}],this._changedPointerPositions=[{x:r,y:c,id:P._getFirstPointerId(e)}])}_setPointerPosition(e){P.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(e)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const e=this.content.getBoundingClientRect();return{top:e.top,left:e.left,scaleX:e.width/this.content.clientWidth||1,scaleY:e.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new er({width:this.width(),height:this.height()}),this.bufferHitCanvas=new Em({pixelRatio:1,width:this.width(),height:this.height()}),!wt.isBrowser)return;const e=this.container();if(!e)throw"Stage has no container. A container is required.";e.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),e.appendChild(this.content),this._resizeDOM()}cache(){return P.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(e){e.batchDraw()}),this}};R1.prototype.nodeType=b8;Nn(R1);j.addGetterSetter(R1,"container");wt.isBrowser&&document.addEventListener("visibilitychange",()=>{Ld.forEach(s=>{s.batchDraw()})});const Kp="hasShadow",Zp="shadowRGBA",Jp="patternImage",Fp="linearGradient",Ip="radialGradient";let J0;function O2(){return J0||(J0=P.createCanvasElement().getContext("2d"),J0)}const Yd={};function M8(s){const e=this.attrs.fillRule;e?s.fill(e):s.fill()}function R8(s){s.stroke()}function N8(s){const e=this.attrs.fillRule;e?s.fill(e):s.fill()}function D8(s){s.stroke()}function O8(){this._clearCache(Kp)}function z8(){this._clearCache(Zp)}function w8(){this._clearCache(Jp)}function H8(){this._clearCache(Fp)}function B8(){this._clearCache(Ip)}class xt extends Rt{constructor(e){super(e);let i,r=0;for(;i=P.getHitColor(),!(i&&!(i in Yd));)if(r++,r>=1e4){P.warn("Failed to find a unique color key for a shape. Konva may work incorrectly. Most likely your browser is using canvas farbling. Consider disabling it."),i=P.getRandomColor();break}this.colorKey=i,Yd[i]=this}getContext(){return P.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return P.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(Kp,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(Jp,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const i=O2().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(i&&i.setTransform){const r=new wl;r.translate(this.fillPatternX(),this.fillPatternY()),r.rotate(wt.getAngle(this.fillPatternRotation())),r.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),r.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const c=r.getMatrix(),d=typeof DOMMatrix>"u"?{a:c[0],b:c[1],c:c[2],d:c[3],e:c[4],f:c[5]}:new DOMMatrix(c);i.setTransform(d)}return i}}_getLinearGradient(){return this._getCache(Fp,this.__getLinearGradient)}__getLinearGradient(){const e=this.fillLinearGradientColorStops();if(e){const i=O2(),r=this.fillLinearGradientStartPoint(),c=this.fillLinearGradientEndPoint(),d=i.createLinearGradient(r.x,r.y,c.x,c.y);for(let h=0;h<e.length;h+=2)d.addColorStop(e[h],e[h+1]);return d}}_getRadialGradient(){return this._getCache(Ip,this.__getRadialGradient)}__getRadialGradient(){const e=this.fillRadialGradientColorStops();if(e){const i=O2(),r=this.fillRadialGradientStartPoint(),c=this.fillRadialGradientEndPoint(),d=i.createRadialGradient(r.x,r.y,this.fillRadialGradientStartRadius(),c.x,c.y,this.fillRadialGradientEndRadius());for(let h=0;h<e.length;h+=2)d.addColorStop(e[h],e[h+1]);return d}}getShadowRGBA(){return this._getCache(Zp,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const e=P.colorToRGBA(this.shadowColor());if(e)return"rgba("+e.r+","+e.g+","+e.b+","+e.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const e=this.hitStrokeWidth();return e==="auto"?this.hasStroke():this.strokeEnabled()&&!!e}intersects(e){const i=this.getStage();if(!i)return!1;const r=i.bufferHitCanvas;return r.getContext().clear(),this.drawHit(r,void 0,!0),r.context.getImageData(Math.round(e.x),Math.round(e.y),1,1).data[3]>0}destroy(){return Rt.prototype.destroy.call(this),delete Yd[this.colorKey],delete this.colorKey,this}_useBufferCanvas(e){var i;if(!((i=this.attrs.perfectDrawEnabled)!==null&&i!==void 0?i:!0))return!1;const c=e||this.hasFill(),d=this.hasStroke(),h=this.getAbsoluteOpacity()!==1;if(c&&d&&h)return!0;const v=this.hasShadow(),y=this.shadowForStrokeEnabled();return!!(c&&d&&v&&y)}setStrokeHitEnabled(e){P.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),e?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const e=this.size();return{x:this._centroid?-e.width/2:0,y:this._centroid?-e.height/2:0,width:e.width,height:e.height}}getClientRect(e={}){let i=!1,r=this.getParent();for(;r;){if(r.isCached()){i=!0;break}r=r.getParent()}const c=e.skipTransform,d=e.relativeTo||i&&this.getStage()||void 0,h=this.getSelfRect(),y=!e.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,b=h.width+y,_=h.height+y,E=!e.skipShadow&&this.hasShadow(),T=E?this.shadowOffsetX():0,N=E?this.shadowOffsetY():0,A=b+Math.abs(T),B=_+Math.abs(N),w=E&&this.shadowBlur()||0,U=A+w*2,H=B+w*2,L={width:U,height:H,x:-(y/2+w)+Math.min(T,0)+h.x,y:-(y/2+w)+Math.min(N,0)+h.y};return c?L:this._transformedRect(L,d)}drawScene(e,i,r){const c=this.getLayer(),d=e||c.getCanvas(),h=d.getContext(),v=this._getCanvasCache(),y=this.getSceneFunc(),b=this.hasShadow();let _;const E=i===this;if(!this.isVisible()&&!E)return this;if(v){h.save();const T=this.getAbsoluteTransform(i).getMatrix();return h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),this._drawCachedSceneCanvas(h),h.restore(),this}if(!y)return this;if(h.save(),this._useBufferCanvas()){_=this.getStage();const T=r||_.bufferCanvas,N=T.getContext();N.clear(),N.save(),N._applyLineJoin(this),N._applyMiterLimit(this);const A=this.getAbsoluteTransform(i).getMatrix();N.transform(A[0],A[1],A[2],A[3],A[4],A[5]),y.call(this,N,this),N.restore();const B=T.pixelRatio;b&&h._applyShadow(this),E||(h._applyOpacity(this),h._applyGlobalCompositeOperation(this)),h.drawImage(T._canvas,T.x||0,T.y||0,T.width/B,T.height/B)}else{if(h._applyLineJoin(this),h._applyMiterLimit(this),!E){const T=this.getAbsoluteTransform(i).getMatrix();h.transform(T[0],T[1],T[2],T[3],T[4],T[5]),h._applyOpacity(this),h._applyGlobalCompositeOperation(this)}b&&h._applyShadow(this),y.call(this,h,this)}return h.restore(),this}drawHit(e,i,r=!1){if(!this.shouldDrawHit(i,r))return this;const c=this.getLayer(),d=e||c.hitCanvas,h=d&&d.getContext(),v=this.hitFunc()||this.sceneFunc(),y=this._getCanvasCache(),b=y&&y.hit;if(this.colorKey||P.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),b){h.save();const E=this.getAbsoluteTransform(i).getMatrix();return h.transform(E[0],E[1],E[2],E[3],E[4],E[5]),this._drawCachedHitCanvas(h),h.restore(),this}if(!v)return this;if(h.save(),h._applyLineJoin(this),h._applyMiterLimit(this),!(this===i)){const E=this.getAbsoluteTransform(i).getMatrix();h.transform(E[0],E[1],E[2],E[3],E[4],E[5])}return v.call(this,h,this),h.restore(),this}drawHitFromCache(e=0){const i=this._getCanvasCache(),r=this._getCachedSceneCanvas(),c=i.hit,d=c.getContext(),h=c.getWidth(),v=c.getHeight();d.clear(),d.drawImage(r._canvas,0,0,h,v);try{const y=d.getImageData(0,0,h,v),b=y.data,_=b.length,E=P._hexToRgb(this.colorKey);for(let T=0;T<_;T+=4)b[T+3]>e?(b[T]=E.r,b[T+1]=E.g,b[T+2]=E.b,b[T+3]=255):b[T+3]=0;d.putImageData(y,0,0)}catch(y){P.error("Unable to draw hit graph from cached scene canvas. "+y.message)}return this}hasPointerCapture(e){return wp(e,this)}setPointerCapture(e){Hp(e,this)}releaseCapture(e){jd(e)}}xt.prototype._fillFunc=M8;xt.prototype._strokeFunc=R8;xt.prototype._fillFuncHit=N8;xt.prototype._strokeFuncHit=D8;xt.prototype._centroid=!1;xt.prototype.nodeType="Shape";Nn(xt);xt.prototype.eventListeners={};xt.prototype.on.call(xt.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",O8);xt.prototype.on.call(xt.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",z8);xt.prototype.on.call(xt.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",w8);xt.prototype.on.call(xt.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",H8);xt.prototype.on.call(xt.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",B8);j.addGetterSetter(xt,"stroke",void 0,Op());j.addGetterSetter(xt,"strokeWidth",2,Dt());j.addGetterSetter(xt,"fillAfterStrokeEnabled",!1);j.addGetterSetter(xt,"hitStrokeWidth","auto",Tm());j.addGetterSetter(xt,"strokeHitEnabled",!0,Gi());j.addGetterSetter(xt,"perfectDrawEnabled",!0,Gi());j.addGetterSetter(xt,"shadowForStrokeEnabled",!0,Gi());j.addGetterSetter(xt,"lineJoin");j.addGetterSetter(xt,"lineCap");j.addGetterSetter(xt,"miterLimit");j.addGetterSetter(xt,"sceneFunc");j.addGetterSetter(xt,"hitFunc");j.addGetterSetter(xt,"dash");j.addGetterSetter(xt,"dashOffset",0,Dt());j.addGetterSetter(xt,"shadowColor",void 0,io());j.addGetterSetter(xt,"shadowBlur",0,Dt());j.addGetterSetter(xt,"shadowOpacity",1,Dt());j.addComponentsGetterSetter(xt,"shadowOffset",["x","y"]);j.addGetterSetter(xt,"shadowOffsetX",0,Dt());j.addGetterSetter(xt,"shadowOffsetY",0,Dt());j.addGetterSetter(xt,"fillPatternImage");j.addGetterSetter(xt,"fill",void 0,Op());j.addGetterSetter(xt,"fillPatternX",0,Dt());j.addGetterSetter(xt,"fillPatternY",0,Dt());j.addGetterSetter(xt,"fillLinearGradientColorStops");j.addGetterSetter(xt,"strokeLinearGradientColorStops");j.addGetterSetter(xt,"fillRadialGradientStartRadius",0);j.addGetterSetter(xt,"fillRadialGradientEndRadius",0);j.addGetterSetter(xt,"fillRadialGradientColorStops");j.addGetterSetter(xt,"fillPatternRepeat","repeat");j.addGetterSetter(xt,"fillEnabled",!0);j.addGetterSetter(xt,"strokeEnabled",!0);j.addGetterSetter(xt,"shadowEnabled",!0);j.addGetterSetter(xt,"dashEnabled",!0);j.addGetterSetter(xt,"strokeScaleEnabled",!0);j.addGetterSetter(xt,"fillPriority","color");j.addComponentsGetterSetter(xt,"fillPatternOffset",["x","y"]);j.addGetterSetter(xt,"fillPatternOffsetX",0,Dt());j.addGetterSetter(xt,"fillPatternOffsetY",0,Dt());j.addComponentsGetterSetter(xt,"fillPatternScale",["x","y"]);j.addGetterSetter(xt,"fillPatternScaleX",1,Dt());j.addGetterSetter(xt,"fillPatternScaleY",1,Dt());j.addComponentsGetterSetter(xt,"fillLinearGradientStartPoint",["x","y"]);j.addComponentsGetterSetter(xt,"strokeLinearGradientStartPoint",["x","y"]);j.addGetterSetter(xt,"fillLinearGradientStartPointX",0);j.addGetterSetter(xt,"strokeLinearGradientStartPointX",0);j.addGetterSetter(xt,"fillLinearGradientStartPointY",0);j.addGetterSetter(xt,"strokeLinearGradientStartPointY",0);j.addComponentsGetterSetter(xt,"fillLinearGradientEndPoint",["x","y"]);j.addComponentsGetterSetter(xt,"strokeLinearGradientEndPoint",["x","y"]);j.addGetterSetter(xt,"fillLinearGradientEndPointX",0);j.addGetterSetter(xt,"strokeLinearGradientEndPointX",0);j.addGetterSetter(xt,"fillLinearGradientEndPointY",0);j.addGetterSetter(xt,"strokeLinearGradientEndPointY",0);j.addComponentsGetterSetter(xt,"fillRadialGradientStartPoint",["x","y"]);j.addGetterSetter(xt,"fillRadialGradientStartPointX",0);j.addGetterSetter(xt,"fillRadialGradientStartPointY",0);j.addComponentsGetterSetter(xt,"fillRadialGradientEndPoint",["x","y"]);j.addGetterSetter(xt,"fillRadialGradientEndPointX",0);j.addGetterSetter(xt,"fillRadialGradientEndPointY",0);j.addGetterSetter(xt,"fillPatternRotation",0);j.addGetterSetter(xt,"fillRule",void 0,io());j.backCompat(xt,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"});const G8="beforeDraw",U8="draw",kp=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],j8=kp.length;let so=class extends Hl{constructor(e){super(e),this.canvas=new er,this.hitCanvas=new Em({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const i=this.getStage();return i&&i.content&&(i.content.removeChild(this.getNativeCanvasElement()),e<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[e+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){Rt.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!Rt.prototype.moveUp.call(this))return!1;const i=this.getStage();return!i||!i.content?!1:(i.content.removeChild(this.getNativeCanvasElement()),this.index<i.children.length-1?i.content.insertBefore(this.getNativeCanvasElement(),i.children[this.index+1].getCanvas()._canvas):i.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(Rt.prototype.moveDown.call(this)){const e=this.getStage();if(e){const i=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),i[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(Rt.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const i=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),i[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return Rt.prototype.remove.call(this),e&&e.parentNode&&P._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:i}){return this.canvas.setSize(e,i),this.hitCanvas.setSize(e,i),this._setSmoothEnabled(),this}_validateAdd(e){const i=e.getType();i!=="Group"&&i!=="Shape"&&P.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e={...e},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),Rt.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){P.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){P.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,P.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let i=1,r=!1;for(;;){for(let c=0;c<j8;c++){const d=kp[c],h=this._getIntersection({x:e.x+d.x*i,y:e.y+d.y*i}),v=h.shape;if(v)return v;if(r=!!h.antialiased,!h.antialiased)break}if(r)i+=1;else return null}}_getIntersection(e){const i=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*i),Math.round(e.y*i),1,1).data,c=r[3];if(c===255){const d=P.getHitColorKey(r[0],r[1],r[2]),h=Yd[d];return h?{shape:h}:{antialiased:!0}}else if(c>0)return{antialiased:!0};return{}}drawScene(e,i,r){const c=this.getLayer(),d=e||c&&c.getCanvas();return this._fire(G8,{node:this}),this.clearBeforeDraw()&&d.getContext().clear(),Hl.prototype.drawScene.call(this,d,i,r),this._fire(U8,{node:this}),this}drawHit(e,i){const r=this.getLayer(),c=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Hl.prototype.drawHit.call(this,c,i),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return P.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return P.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};so.prototype.nodeType="Layer";Nn(so);j.addGetterSetter(so,"imageSmoothingEnabled",!0);j.addGetterSetter(so,"clearBeforeDraw",!0);j.addGetterSetter(so,"hitGraphEnabled",!0,Gi());class Mm extends so{constructor(e){super(e),this.listening(!1),P.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Mm.prototype.nodeType="FastLayer";Nn(Mm);let Bc=class extends Hl{_validateAdd(e){const i=e.getType();i!=="Group"&&i!=="Shape"&&P.throw("You may only add groups and shapes to groups.")}};Bc.prototype.nodeType="Group";Nn(Bc);const z2=(function(){return eo.performance&&eo.performance.now?function(){return eo.performance.now()}:function(){return new Date().getTime()}})();class ri{constructor(e,i){this.id=ri.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:z2(),frameRate:0},this.func=e,this.setLayers(i)}setLayers(e){let i=[];return e&&(i=Array.isArray(e)?e:[e]),this.layers=i,this}getLayers(){return this.layers}addLayer(e){const i=this.layers,r=i.length;for(let c=0;c<r;c++)if(i[c]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const i=ri.animations,r=i.length;for(let c=0;c<r;c++)if(i[c].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=z2(),ri._addAnimation(this),this}stop(){return ri._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const i=e.id,r=this.animations,c=r.length;for(let d=0;d<c;d++)if(r[d].id===i){this.animations.splice(d,1);break}}static _runFrames(){const e={},i=this.animations;for(let r=0;r<i.length;r++){const c=i[r],d=c.layers,h=c.func;c._updateFrameObject(z2());const v=d.length;let y;if(h?y=h.call(c,c.frame)!==!1:y=!0,!!y)for(let b=0;b<v;b++){const _=d[b];_._id!==void 0&&(e[_._id]=_)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=ri;e.animations.length?(e._runFrames(),P.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,P.requestAnimFrame(this._animationLoop))}}ri.animations=[];ri.animIdCounter=0;ri.animRunning=!1;const L8={node:1,duration:1,easing:1,onFinish:1,yoyo:1},Y8=1,vv=2,pv=3,yv=["fill","stroke","shadowColor"];let q8=0;class X8{constructor(e,i,r,c,d,h,v){this.prop=e,this.propFunc=i,this.begin=c,this._pos=c,this.duration=h,this._change=0,this.prevPos=0,this.yoyo=v,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=r,this._change=d-this.begin,this.pause()}fire(e){const i=this[e];i&&i()}setTime(e){e>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():e<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=e,this.update())}getTime(){return this._time}setPosition(e){this.prevPos=this._pos,this.propFunc(e),this._pos=e}getPosition(e){return e===void 0&&(e=this._time),this.func(e,this.begin,this._change,this.duration)}play(){this.state=vv,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=pv,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(e){this.pause(),this._time=e,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const e=this.getTimer()-this._startTime;this.state===vv?this.setTime(e):this.state===pv&&this.setTime(this.duration-e)}pause(){this.state=Y8,this.fire("onPause")}getTimer(){return new Date().getTime()}}class an{constructor(e){const i=this,r=e.node,c=r._id,d=e.easing||qd.Linear,h=!!e.yoyo;let v,y;typeof e.duration>"u"?v=.3:e.duration===0?v=.001:v=e.duration,this.node=r,this._id=q8++;const b=r.getLayer()||(r instanceof wt.Stage?r.getLayers():null);b||P.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new ri(function(){i.tween.onEnterFrame()},b),this.tween=new X8(y,function(_){i._tweenFunc(_)},d,0,1,v*1e3,h),this._addListeners(),an.attrs[c]||(an.attrs[c]={}),an.attrs[c][this._id]||(an.attrs[c][this._id]={}),an.tweens[c]||(an.tweens[c]={});for(y in e)L8[y]===void 0&&this._addAttr(y,e[y]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}_addAttr(e,i){const r=this.node,c=r._id;let d,h,v,y,b;const _=an.tweens[c][e];_&&delete an.attrs[c][_][e];let E=r.getAttr(e);if(P._isArray(i))if(d=[],h=Math.max(i.length,E.length),e==="points"&&i.length!==E.length&&(i.length>E.length?(y=E,E=P._prepareArrayForTween(E,i,r.closed())):(v=i,i=P._prepareArrayForTween(i,E,r.closed()))),e.indexOf("fill")===0)for(let T=0;T<h;T++)if(T%2===0)d.push(i[T]-E[T]);else{const N=P.colorToRGBA(E[T]);b=P.colorToRGBA(i[T]),E[T]=N,d.push({r:b.r-N.r,g:b.g-N.g,b:b.b-N.b,a:b.a-N.a})}else for(let T=0;T<h;T++)d.push(i[T]-E[T]);else yv.indexOf(e)!==-1?(E=P.colorToRGBA(E),b=P.colorToRGBA(i),d={r:b.r-E.r,g:b.g-E.g,b:b.b-E.b,a:b.a-E.a}):d=i-E;an.attrs[c][this._id][e]={start:E,diff:d,end:i,trueEnd:v,trueStart:y},an.tweens[c][e]=this._id}_tweenFunc(e){const i=this.node,r=an.attrs[i._id][this._id];let c,d,h,v,y,b,_,E;for(c in r){if(d=r[c],h=d.start,v=d.diff,E=d.end,P._isArray(h))if(y=[],_=Math.max(h.length,E.length),c.indexOf("fill")===0)for(b=0;b<_;b++)b%2===0?y.push((h[b]||0)+v[b]*e):y.push("rgba("+Math.round(h[b].r+v[b].r*e)+","+Math.round(h[b].g+v[b].g*e)+","+Math.round(h[b].b+v[b].b*e)+","+(h[b].a+v[b].a*e)+")");else for(b=0;b<_;b++)y.push((h[b]||0)+v[b]*e);else yv.indexOf(c)!==-1?y="rgba("+Math.round(h.r+v.r*e)+","+Math.round(h.g+v.g*e)+","+Math.round(h.b+v.b*e)+","+(h.a+v.a*e)+")":y=h+v*e;i.setAttr(c,y)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const e=this.node,i=an.attrs[e._id][this._id];i.points&&i.points.trueEnd&&e.setAttr("points",i.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const e=this.node,i=an.attrs[e._id][this._id];i.points&&i.points.trueStart&&e.points(i.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(e){return this.tween.seek(e*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const e=this.node._id,i=this._id,r=an.tweens[e];this.pause(),this.anim&&this.anim.stop();for(const c in r)delete an.tweens[e][c];delete an.attrs[e][i],an.tweens[e]&&(Object.keys(an.tweens[e]).length===0&&delete an.tweens[e],Object.keys(an.attrs[e]).length===0&&delete an.attrs[e])}}an.attrs={};an.tweens={};Rt.prototype.to=function(s){const e=s.onFinish;s.node=this,s.onFinish=function(){this.destroy(),e&&e()},new an(s).play()};const qd={BackEaseIn(s,e,i,r){return i*(s/=r)*s*((1.70158+1)*s-1.70158)+e},BackEaseOut(s,e,i,r){return i*((s=s/r-1)*s*((1.70158+1)*s+1.70158)+1)+e},BackEaseInOut(s,e,i,r){let c=1.70158;return(s/=r/2)<1?i/2*(s*s*(((c*=1.525)+1)*s-c))+e:i/2*((s-=2)*s*(((c*=1.525)+1)*s+c)+2)+e},ElasticEaseIn(s,e,i,r,c,d){let h=0;return s===0?e:(s/=r)===1?e+i:(d||(d=r*.3),!c||c<Math.abs(i)?(c=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/c),-(c*Math.pow(2,10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d))+e)},ElasticEaseOut(s,e,i,r,c,d){let h=0;return s===0?e:(s/=r)===1?e+i:(d||(d=r*.3),!c||c<Math.abs(i)?(c=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/c),c*Math.pow(2,-10*s)*Math.sin((s*r-h)*(2*Math.PI)/d)+i+e)},ElasticEaseInOut(s,e,i,r,c,d){let h=0;return s===0?e:(s/=r/2)===2?e+i:(d||(d=r*(.3*1.5)),!c||c<Math.abs(i)?(c=i,h=d/4):h=d/(2*Math.PI)*Math.asin(i/c),s<1?-.5*(c*Math.pow(2,10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d))+e:c*Math.pow(2,-10*(s-=1))*Math.sin((s*r-h)*(2*Math.PI)/d)*.5+i+e)},BounceEaseOut(s,e,i,r){return(s/=r)<1/2.75?i*(7.5625*s*s)+e:s<2/2.75?i*(7.5625*(s-=1.5/2.75)*s+.75)+e:s<2.5/2.75?i*(7.5625*(s-=2.25/2.75)*s+.9375)+e:i*(7.5625*(s-=2.625/2.75)*s+.984375)+e},BounceEaseIn(s,e,i,r){return i-qd.BounceEaseOut(r-s,0,i,r)+e},BounceEaseInOut(s,e,i,r){return s<r/2?qd.BounceEaseIn(s*2,0,i,r)*.5+e:qd.BounceEaseOut(s*2-r,0,i,r)*.5+i*.5+e},EaseIn(s,e,i,r){return i*(s/=r)*s+e},EaseOut(s,e,i,r){return-i*(s/=r)*(s-2)+e},EaseInOut(s,e,i,r){return(s/=r/2)<1?i/2*s*s+e:-i/2*(--s*(s-2)-1)+e},StrongEaseIn(s,e,i,r){return i*(s/=r)*s*s*s*s+e},StrongEaseOut(s,e,i,r){return i*((s=s/r-1)*s*s*s*s+1)+e},StrongEaseInOut(s,e,i,r){return(s/=r/2)<1?i/2*s*s*s*s*s+e:i/2*((s-=2)*s*s*s*s+2)+e},Linear(s,e,i,r){return i*s/r+e}},Gc=P._assign(wt,{Util:P,Transform:wl,Node:Rt,Container:Hl,Stage:R1,stages:Ld,Layer:so,FastLayer:Mm,Group:Bc,DD:Be,Shape:xt,shapes:Yd,Animation:ri,Tween:an,Easings:qd,Context:A1,Canvas:Cm});class nu extends xt{_sceneFunc(e){const i=wt.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,i,r),e.arc(0,0,this.innerRadius(),i,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),i=this.outerRadius(),r=this.clockwise(),c=wt.getAngle(r?360-this.angle():this.angle()),d=Math.cos(Math.min(c,Math.PI)),h=1,v=Math.sin(Math.min(Math.max(Math.PI,c),3*Math.PI/2)),y=Math.sin(Math.min(c,Math.PI/2)),b=d*(d>0?e:i),_=h*i,E=v*(v>0?e:i),T=y*(y>0?i:e);return{x:b,y:r?-1*T:E,width:_-b,height:T-E}}}nu.prototype._centroid=!0;nu.prototype.className="Arc";nu.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];Nn(nu);j.addGetterSetter(nu,"innerRadius",0,Dt());j.addGetterSetter(nu,"outerRadius",0,Dt());j.addGetterSetter(nu,"angle",0,Dt());j.addGetterSetter(nu,"clockwise",!1,Gi());function P2(s,e,i,r,c,d,h){const v=Math.sqrt(Math.pow(i-s,2)+Math.pow(r-e,2)),y=Math.sqrt(Math.pow(c-i,2)+Math.pow(d-r,2)),b=h*v/(v+y),_=h*y/(v+y),E=i-b*(c-s),T=r-b*(d-e),N=i+_*(c-s),A=r+_*(d-e);return[E,T,N,A]}function Sv(s,e){const i=s.length,r=[];for(let c=2;c<i-2;c+=2){const d=P2(s[c-2],s[c-1],s[c],s[c+1],s[c+2],s[c+3],e);isNaN(d[0])||(r.push(d[0]),r.push(d[1]),r.push(s[c]),r.push(s[c+1]),r.push(d[2]),r.push(d[3]))}return r}class au extends xt{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const i=this.points(),r=i.length,c=this.tension(),d=this.closed(),h=this.bezier();if(!r)return;let v=0;if(e.beginPath(),e.moveTo(i[0],i[1]),c!==0&&r>4){const y=this.getTensionPoints(),b=y.length;for(v=d?0:4,d||e.quadraticCurveTo(y[0],y[1],y[2],y[3]);v<b-2;)e.bezierCurveTo(y[v++],y[v++],y[v++],y[v++],y[v++],y[v++]);d||e.quadraticCurveTo(y[b-2],y[b-1],i[r-2],i[r-1])}else if(h)for(v=2;v<r;)e.bezierCurveTo(i[v++],i[v++],i[v++],i[v++],i[v++],i[v++]);else for(v=2;v<r;v+=2)e.lineTo(i[v],i[v+1]);d?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():Sv(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),i=e.length,r=this.tension(),c=P2(e[i-2],e[i-1],e[0],e[1],e[2],e[3],r),d=P2(e[i-4],e[i-3],e[i-2],e[i-1],e[0],e[1],r),h=Sv(e,r);return[c[2],c[3]].concat(h).concat([d[0],d[1],e[i-2],e[i-1],d[2],d[3],c[0],c[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let i=e[0],r=e[0],c=e[1],d=e[1],h,v;for(let y=0;y<e.length/2;y++)h=e[y*2],v=e[y*2+1],i=Math.min(i,h),r=Math.max(r,h),c=Math.min(c,v),d=Math.max(d,v);return{x:i,y:c,width:r-i,height:d-c}}}au.prototype.className="Line";au.prototype._attrsAffectingSize=["points","bezier","tension"];Nn(au);j.addGetterSetter(au,"closed",!1);j.addGetterSetter(au,"bezier",!1);j.addGetterSetter(au,"tension",0,Dt());j.addGetterSetter(au,"points",[],i8());const Q8=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],V8=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],K8=[[1],[1,1],[1,2,1],[1,3,3,1]],bv=(s,e,i)=>{let r,c;const h=i/2;r=0;for(let v=0;v<20;v++)c=h*Q8[20][v]+h,r+=V8[20][v]*Z8(s,e,c);return h*r},xv=(s,e,i)=>{i===void 0&&(i=1);const r=s[0]-2*s[1]+s[2],c=e[0]-2*e[1]+e[2],d=2*s[1]-2*s[0],h=2*e[1]-2*e[0],v=4*(r*r+c*c),y=4*(r*d+c*h),b=d*d+h*h;if(v===0)return i*Math.sqrt(Math.pow(s[2]-s[0],2)+Math.pow(e[2]-e[0],2));const _=y/(2*v),E=b/v,T=i+_,N=E-_*_,A=T*T+N>0?Math.sqrt(T*T+N):0,B=_*_+N>0?Math.sqrt(_*_+N):0,w=_+Math.sqrt(_*_+N)!==0?N*Math.log(Math.abs((T+A)/(_+B))):0;return Math.sqrt(v)/2*(T*A-_*B+w)};function Z8(s,e,i){const r=$2(1,i,s),c=$2(1,i,e),d=r*r+c*c;return Math.sqrt(d)}const $2=(s,e,i)=>{const r=i.length-1;let c,d;if(r===0)return 0;if(s===0){d=0;for(let h=0;h<=r;h++)d+=K8[r][h]*Math.pow(1-e,r-h)*Math.pow(e,h)*i[h];return d}else{c=new Array(r);for(let h=0;h<r;h++)c[h]=r*(i[h+1]-i[h]);return $2(s-1,e,c)}},_v=(s,e,i)=>{let r=1,c=s/e,d=(s-i(c))/e,h=0;for(;r>.001;){const v=i(c+d),y=Math.abs(s-v)/e;if(y<r)r=y,c+=d;else{const b=i(c-d),_=Math.abs(s-b)/e;_<r?(r=_,c-=d):d/=2}if(h++,h>500)break}return c};let oi=class Al extends xt{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=Al.parsePathData(this.data()),this.pathLength=Al.getPathLength(this.dataArray)}_sceneFunc(e){const i=this.dataArray;e.beginPath();let r=!1;for(let c=0;c<i.length;c++){const d=i[c].command,h=i[c].points;switch(d){case"L":e.lineTo(h[0],h[1]);break;case"M":e.moveTo(h[0],h[1]);break;case"C":e.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);break;case"Q":e.quadraticCurveTo(h[0],h[1],h[2],h[3]);break;case"A":const v=h[0],y=h[1],b=h[2],_=h[3],E=h[4],T=h[5],N=h[6],A=h[7],B=b>_?b:_,w=b>_?1:b/_,U=b>_?_/b:1;e.translate(v,y),e.rotate(N),e.scale(w,U),e.arc(0,0,B,E,E+T,1-A),e.scale(1/w,1/U),e.rotate(-N),e.translate(-v,-y);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(y){if(y.command==="A"){const b=y.points[4],_=y.points[5],E=y.points[4]+_;let T=Math.PI/180;if(Math.abs(b-E)<T&&(T=Math.abs(b-E)),_<0)for(let N=b-T;N>E;N-=T){const A=Al.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],N,0);e.push(A.x,A.y)}else for(let N=b+T;N<E;N+=T){const A=Al.getPointOnEllipticalArc(y.points[0],y.points[1],y.points[2],y.points[3],N,0);e.push(A.x,A.y)}}else if(y.command==="C")for(let b=0;b<=1;b+=.01){const _=Al.getPointOnCubicBezier(b,y.start.x,y.start.y,y.points[0],y.points[1],y.points[2],y.points[3],y.points[4],y.points[5]);e.push(_.x,_.y)}else e=e.concat(y.points)});let i=e[0],r=e[0],c=e[1],d=e[1],h,v;for(let y=0;y<e.length/2;y++)h=e[y*2],v=e[y*2+1],isNaN(h)||(i=Math.min(i,h),r=Math.max(r,h)),isNaN(v)||(c=Math.min(c,v),d=Math.max(d,v));return{x:i,y:c,width:r-i,height:d-c}}getLength(){return this.pathLength}getPointAtLength(e){return Al.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,i,r,c){return Math.sqrt((r-e)*(r-e)+(c-i)*(c-i))}static getPathLength(e){let i=0;for(let r=0;r<e.length;++r)i+=e[r].pathLength;return i}static getPointAtLengthOfDataArray(e,i){let r,c=0,d=i.length;if(!d)return null;for(;c<d&&e>i[c].pathLength;)e-=i[c].pathLength,++c;if(c===d)return r=i[c-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return i[c].command==="M"?(r=i[c].points.slice(0,2),{x:r[0],y:r[1]}):{x:i[c].start.x,y:i[c].start.y};const h=i[c],v=h.points;switch(h.command){case"L":return Al.getPointOnLine(e,h.start.x,h.start.y,v[0],v[1]);case"C":return Al.getPointOnCubicBezier(_v(e,Al.getPathLength(i),B=>bv([h.start.x,v[0],v[2],v[4]],[h.start.y,v[1],v[3],v[5]],B)),h.start.x,h.start.y,v[0],v[1],v[2],v[3],v[4],v[5]);case"Q":return Al.getPointOnQuadraticBezier(_v(e,Al.getPathLength(i),B=>xv([h.start.x,v[0],v[2]],[h.start.y,v[1],v[3]],B)),h.start.x,h.start.y,v[0],v[1],v[2],v[3]);case"A":const y=v[0],b=v[1],_=v[2],E=v[3],T=v[5],N=v[6];let A=v[4];return A+=T*e/h.pathLength,Al.getPointOnEllipticalArc(y,b,_,E,A,N)}return null}static getPointOnLine(e,i,r,c,d,h,v){h=h??i,v=v??r;const y=this.getLineLength(i,r,c,d);if(y<1e-10)return{x:i,y:r};if(c===i)return{x:h,y:v+(d>r?e:-e)};const b=(d-r)/(c-i),_=Math.sqrt(e*e/(1+b*b))*(c<i?-1:1),E=b*_;if(Math.abs(v-r-b*(h-i))<1e-10)return{x:h+_,y:v+E};const T=((h-i)*(c-i)+(v-r)*(d-r))/(y*y),N=i+T*(c-i),A=r+T*(d-r),B=this.getLineLength(h,v,N,A),w=Math.sqrt(e*e-B*B),U=Math.sqrt(w*w/(1+b*b))*(c<i?-1:1),H=b*U;return{x:N+U,y:A+H}}static getPointOnCubicBezier(e,i,r,c,d,h,v,y,b){function _(w){return w*w*w}function E(w){return 3*w*w*(1-w)}function T(w){return 3*w*(1-w)*(1-w)}function N(w){return(1-w)*(1-w)*(1-w)}const A=y*_(e)+h*E(e)+c*T(e)+i*N(e),B=b*_(e)+v*E(e)+d*T(e)+r*N(e);return{x:A,y:B}}static getPointOnQuadraticBezier(e,i,r,c,d,h,v){function y(N){return N*N}function b(N){return 2*N*(1-N)}function _(N){return(1-N)*(1-N)}const E=h*y(e)+c*b(e)+i*_(e),T=v*y(e)+d*b(e)+r*_(e);return{x:E,y:T}}static getPointOnEllipticalArc(e,i,r,c,d,h){const v=Math.cos(h),y=Math.sin(h),b={x:r*Math.cos(d),y:c*Math.sin(d)};return{x:e+(b.x*v-b.y*y),y:i+(b.x*y+b.y*v)}}static parsePathData(e){if(!e)return[];let i=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];i=i.replace(new RegExp(" ","g"),",");for(let E=0;E<r.length;E++)i=i.replace(new RegExp(r[E],"g"),"|"+r[E]);const c=i.split("|"),d=[],h=[];let v=0,y=0;const b=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let _;for(let E=1;E<c.length;E++){let T=c[E],N=T.charAt(0);for(T=T.slice(1),h.length=0;_=b.exec(T);)h.push(_[0]);let A=[],B=N==="A"||N==="a"?0:-1;for(let w=0,U=h.length;w<U;w++){const H=h[w];if(H==="00"){A.push(0,0),B>=0&&(B+=2,B>=7&&(B-=7));continue}if(B>=0){if(B===3){if(/^[01]{2}\d+(?:\.\d+)?$/.test(H)){A.push(parseInt(H[0],10)),A.push(parseInt(H[1],10)),A.push(parseFloat(H.slice(2))),B+=3,B>=7&&(B-=7);continue}if(H==="11"||H==="10"||H==="01"){A.push(parseInt(H[0],10)),A.push(parseInt(H[1],10)),B+=2,B>=7&&(B-=7);continue}if(H==="0"||H==="1"){A.push(parseInt(H,10)),B+=1,B>=7&&(B-=7);continue}}else if(B===4){if(/^[01]\d+(?:\.\d+)?$/.test(H)){A.push(parseInt(H[0],10)),A.push(parseFloat(H.slice(1))),B+=2,B>=7&&(B-=7);continue}if(H==="0"||H==="1"){A.push(parseInt(H,10)),B+=1,B>=7&&(B-=7);continue}}const L=parseFloat(H);isNaN(L)?A.push(0):A.push(L),B+=1,B>=7&&(B-=7)}else{const L=parseFloat(H);isNaN(L)?A.push(0):A.push(L)}}for(;A.length>0&&!isNaN(A[0]);){let w="",U=[];const H=v,L=y;let z,F,J,Z,it,gt,_t,Nt,Tt,Ut;switch(N){case"l":v+=A.shift(),y+=A.shift(),w="L",U.push(v,y);break;case"L":v=A.shift(),y=A.shift(),U.push(v,y);break;case"m":const zt=A.shift(),Ct=A.shift();if(v+=zt,y+=Ct,w="M",d.length>2&&d[d.length-1].command==="z"){for(let D=d.length-2;D>=0;D--)if(d[D].command==="M"){v=d[D].points[0]+zt,y=d[D].points[1]+Ct;break}}U.push(v,y),N="l";break;case"M":v=A.shift(),y=A.shift(),w="M",U.push(v,y),N="L";break;case"h":v+=A.shift(),w="L",U.push(v,y);break;case"H":v=A.shift(),w="L",U.push(v,y);break;case"v":y+=A.shift(),w="L",U.push(v,y);break;case"V":y=A.shift(),w="L",U.push(v,y);break;case"C":U.push(A.shift(),A.shift(),A.shift(),A.shift()),v=A.shift(),y=A.shift(),U.push(v,y);break;case"c":U.push(v+A.shift(),y+A.shift(),v+A.shift(),y+A.shift()),v+=A.shift(),y+=A.shift(),w="C",U.push(v,y);break;case"S":F=v,J=y,z=d[d.length-1],z.command==="C"&&(F=v+(v-z.points[2]),J=y+(y-z.points[3])),U.push(F,J,A.shift(),A.shift()),v=A.shift(),y=A.shift(),w="C",U.push(v,y);break;case"s":F=v,J=y,z=d[d.length-1],z.command==="C"&&(F=v+(v-z.points[2]),J=y+(y-z.points[3])),U.push(F,J,v+A.shift(),y+A.shift()),v+=A.shift(),y+=A.shift(),w="C",U.push(v,y);break;case"Q":U.push(A.shift(),A.shift()),v=A.shift(),y=A.shift(),U.push(v,y);break;case"q":U.push(v+A.shift(),y+A.shift()),v+=A.shift(),y+=A.shift(),w="Q",U.push(v,y);break;case"T":F=v,J=y,z=d[d.length-1],z.command==="Q"&&(F=v+(v-z.points[0]),J=y+(y-z.points[1])),v=A.shift(),y=A.shift(),w="Q",U.push(F,J,v,y);break;case"t":F=v,J=y,z=d[d.length-1],z.command==="Q"&&(F=v+(v-z.points[0]),J=y+(y-z.points[1])),v+=A.shift(),y+=A.shift(),w="Q",U.push(F,J,v,y);break;case"A":Z=A.shift(),it=A.shift(),gt=A.shift(),_t=A.shift(),Nt=A.shift(),Tt=v,Ut=y,v=A.shift(),y=A.shift(),w="A",U=this.convertEndpointToCenterParameterization(Tt,Ut,v,y,_t,Nt,Z,it,gt);break;case"a":Z=A.shift(),it=A.shift(),gt=A.shift(),_t=A.shift(),Nt=A.shift(),Tt=v,Ut=y,v+=A.shift(),y+=A.shift(),w="A",U=this.convertEndpointToCenterParameterization(Tt,Ut,v,y,_t,Nt,Z,it,gt);break}d.push({command:w||N,points:U,start:{x:H,y:L},pathLength:this.calcLength(H,L,w||N,U)})}(N==="z"||N==="Z")&&d.push({command:"z",points:[],start:void 0,pathLength:0})}return d}static calcLength(e,i,r,c){let d,h,v,y;const b=Al;switch(r){case"L":return b.getLineLength(e,i,c[0],c[1]);case"C":return bv([e,c[0],c[2],c[4]],[i,c[1],c[3],c[5]],1);case"Q":return xv([e,c[0],c[2]],[i,c[1],c[3]],1);case"A":d=0;const _=c[4],E=c[5],T=c[4]+E;let N=Math.PI/180;if(Math.abs(_-T)<N&&(N=Math.abs(_-T)),h=b.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],_,0),E<0)for(y=_-N;y>T;y-=N)v=b.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],y,0),d+=b.getLineLength(h.x,h.y,v.x,v.y),h=v;else for(y=_+N;y<T;y+=N)v=b.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],y,0),d+=b.getLineLength(h.x,h.y,v.x,v.y),h=v;return v=b.getPointOnEllipticalArc(c[0],c[1],c[2],c[3],T,0),d+=b.getLineLength(h.x,h.y,v.x,v.y),d}return 0}static convertEndpointToCenterParameterization(e,i,r,c,d,h,v,y,b){const _=b*(Math.PI/180),E=Math.cos(_)*(e-r)/2+Math.sin(_)*(i-c)/2,T=-1*Math.sin(_)*(e-r)/2+Math.cos(_)*(i-c)/2,N=E*E/(v*v)+T*T/(y*y);N>1&&(v*=Math.sqrt(N),y*=Math.sqrt(N));let A=Math.sqrt((v*v*(y*y)-v*v*(T*T)-y*y*(E*E))/(v*v*(T*T)+y*y*(E*E)));d===h&&(A*=-1),isNaN(A)&&(A=0);const B=A*v*T/y,w=A*-y*E/v,U=(e+r)/2+Math.cos(_)*B-Math.sin(_)*w,H=(i+c)/2+Math.sin(_)*B+Math.cos(_)*w,L=function(_t){return Math.sqrt(_t[0]*_t[0]+_t[1]*_t[1])},z=function(_t,Nt){return(_t[0]*Nt[0]+_t[1]*Nt[1])/(L(_t)*L(Nt))},F=function(_t,Nt){return(_t[0]*Nt[1]<_t[1]*Nt[0]?-1:1)*Math.acos(z(_t,Nt))},J=F([1,0],[(E-B)/v,(T-w)/y]),Z=[(E-B)/v,(T-w)/y],it=[(-1*E-B)/v,(-1*T-w)/y];let gt=F(Z,it);return z(Z,it)<=-1&&(gt=Math.PI),z(Z,it)>=1&&(gt=0),h===0&&gt>0&&(gt=gt-2*Math.PI),h===1&&gt<0&&(gt=gt+2*Math.PI),[U,H,v,y,J,gt,_,h]}};oi.prototype.className="Path";oi.prototype._attrsAffectingSize=["data"];Nn(oi);j.addGetterSetter(oi,"data");class uo extends au{_sceneFunc(e){super._sceneFunc(e);const i=Math.PI*2,r=this.points();let c=r;const d=this.tension()!==0&&r.length>4;d&&(c=this.getTensionPoints());const h=this.pointerLength(),v=r.length;let y,b;if(d){const T=[c[c.length-4],c[c.length-3],c[c.length-2],c[c.length-1],r[v-2],r[v-1]],N=oi.calcLength(c[c.length-4],c[c.length-3],"C",T),A=oi.getPointOnQuadraticBezier(Math.min(1,1-h/N),T[0],T[1],T[2],T[3],T[4],T[5]);y=r[v-2]-A.x,b=r[v-1]-A.y}else y=r[v-2]-r[v-4],b=r[v-1]-r[v-3];const _=(Math.atan2(b,y)+i)%i,E=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[v-2],r[v-1]),e.rotate(_),e.moveTo(0,0),e.lineTo(-h,E/2),e.lineTo(-h,-E/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),d?(y=(c[0]+c[2])/2-r[0],b=(c[1]+c[3])/2-r[1]):(y=r[2]-r[0],b=r[3]-r[1]),e.rotate((Math.atan2(-b,-y)+i)%i),e.moveTo(0,0),e.lineTo(-h,E/2),e.lineTo(-h,-E/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const i=this.dashEnabled();i&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),i&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),i=this.pointerWidth()/2;return{x:e.x,y:e.y-i,width:e.width,height:e.height+i*2}}}uo.prototype.className="Arrow";Nn(uo);j.addGetterSetter(uo,"pointerLength",10,Dt());j.addGetterSetter(uo,"pointerWidth",10,Dt());j.addGetterSetter(uo,"pointerAtBeginning",!1);j.addGetterSetter(uo,"pointerAtEnding",!0);let qc=class extends xt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}};qc.prototype._centroid=!0;qc.prototype.className="Circle";qc.prototype._attrsAffectingSize=["radius"];Nn(qc);j.addGetterSetter(qc,"radius",0,Dt());class lr extends xt{_sceneFunc(e){const i=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),i!==r&&e.scale(1,r/i),e.arc(0,0,i,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}lr.prototype.className="Ellipse";lr.prototype._centroid=!0;lr.prototype._attrsAffectingSize=["radiusX","radiusY"];Nn(lr);j.addComponentsGetterSetter(lr,"radius",["x","y"]);j.addGetterSetter(lr,"radiusX",0,Dt());j.addGetterSetter(lr,"radiusY",0,Dt());let Ui=class Wp extends xt{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",i=>{this._removeImageLoad(i.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),i=this.hasShadow();return e&&i?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const i=this.getWidth(),r=this.getHeight(),c=this.cornerRadius(),d=this.attrs.image;let h;if(d){const v=this.attrs.cropWidth,y=this.attrs.cropHeight;v&&y?h=[d,this.cropX(),this.cropY(),v,y,0,0,i,r]:h=[d,0,0,i,r]}(this.hasFill()||this.hasStroke()||c)&&(e.beginPath(),c?P.drawRoundedRectPath(e,i,r,c):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)),d&&(c&&e.clip(),e.drawImage.apply(e,h))}_hitFunc(e){const i=this.width(),r=this.height(),c=this.cornerRadius();e.beginPath(),c?P.drawRoundedRectPath(e,i,r,c):e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,i,r;return(r=(e=this.attrs.width)!==null&&e!==void 0?e:(i=this.image())===null||i===void 0?void 0:i.width)!==null&&r!==void 0?r:0}getHeight(){var e,i,r;return(r=(e=this.attrs.height)!==null&&e!==void 0?e:(i=this.image())===null||i===void 0?void 0:i.height)!==null&&r!==void 0?r:0}static fromURL(e,i,r=null){const c=P.createImageElement();c.onload=function(){const d=new Wp({image:c});i(d)},c.onerror=r,c.crossOrigin="Anonymous",c.src=e}};Ui.prototype.className="Image";Ui.prototype._attrsAffectingSize=["image"];Nn(Ui);j.addGetterSetter(Ui,"cornerRadius",0,M1(4));j.addGetterSetter(Ui,"image");j.addComponentsGetterSetter(Ui,"crop",["x","y","width","height"]);j.addGetterSetter(Ui,"cropX",0,Dt());j.addGetterSetter(Ui,"cropY",0,Dt());j.addGetterSetter(Ui,"cropWidth",0,Dt());j.addGetterSetter(Ui,"cropHeight",0,Dt());const Pp=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],J8="Change.konva",F8="none",tm="up",em="right",nm="down",am="left",I8=Pp.length;class Rm extends Bc{constructor(e){super(e),this.on("add.konva",function(i){this._addListeners(i.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let i=this,r;const c=function(){i._sync()};for(r=0;r<I8;r++)e.on(Pp[r]+J8,c)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),i=this.getTag(),r,c,d,h,v,y,b;if(e&&i){switch(r=e.width(),c=e.height(),d=i.pointerDirection(),h=i.pointerWidth(),b=i.pointerHeight(),v=0,y=0,d){case tm:v=r/2,y=-1*b;break;case em:v=r+h,y=c/2;break;case nm:v=r/2,y=c+b;break;case am:v=-1*h,y=c/2;break}i.setAttrs({x:-1*v,y:-1*y,width:r,height:c}),e.setAttrs({x:-1*v,y:-1*y})}}}Rm.prototype.className="Label";Nn(Rm);class ro extends xt{_sceneFunc(e){const i=this.width(),r=this.height(),c=this.pointerDirection(),d=this.pointerWidth(),h=this.pointerHeight(),v=this.cornerRadius();let y=0,b=0,_=0,E=0;typeof v=="number"?y=b=_=E=Math.min(v,i/2,r/2):(y=Math.min(v[0]||0,i/2,r/2),b=Math.min(v[1]||0,i/2,r/2),E=Math.min(v[2]||0,i/2,r/2),_=Math.min(v[3]||0,i/2,r/2)),e.beginPath(),e.moveTo(y,0),c===tm&&(e.lineTo((i-d)/2,0),e.lineTo(i/2,-1*h),e.lineTo((i+d)/2,0)),e.lineTo(i-b,0),e.arc(i-b,b,b,Math.PI*3/2,0,!1),c===em&&(e.lineTo(i,(r-h)/2),e.lineTo(i+d,r/2),e.lineTo(i,(r+h)/2)),e.lineTo(i,r-E),e.arc(i-E,r-E,E,0,Math.PI/2,!1),c===nm&&(e.lineTo((i+d)/2,r),e.lineTo(i/2,r+h),e.lineTo((i-d)/2,r)),e.lineTo(_,r),e.arc(_,r-_,_,Math.PI/2,Math.PI,!1),c===am&&(e.lineTo(0,(r+h)/2),e.lineTo(-1*d,r/2),e.lineTo(0,(r-h)/2)),e.lineTo(0,y),e.arc(y,y,y,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,i=0,r=this.pointerWidth(),c=this.pointerHeight(),d=this.pointerDirection(),h=this.width(),v=this.height();return d===tm?(i-=c,v+=c):d===nm?v+=c:d===am?(e-=r*1.5,h+=r):d===em&&(h+=r*1.5),{x:e,y:i,width:h,height:v}}}ro.prototype.className="Tag";Nn(ro);j.addGetterSetter(ro,"pointerDirection",F8);j.addGetterSetter(ro,"pointerWidth",0,Dt());j.addGetterSetter(ro,"pointerHeight",0,Dt());j.addGetterSetter(ro,"cornerRadius",0,M1(4));let Pd=class extends xt{_sceneFunc(e){const i=this.cornerRadius(),r=this.width(),c=this.height();e.beginPath(),i?P.drawRoundedRectPath(e,r,c,i):e.rect(0,0,r,c),e.closePath(),e.fillStrokeShape(this)}};Pd.prototype.className="Rect";Nn(Pd);j.addGetterSetter(Pd,"cornerRadius",0,M1(4));class ir extends xt{_sceneFunc(e){const i=this._getPoints(),r=this.radius(),c=this.sides(),d=this.cornerRadius();if(e.beginPath(),d)P.drawRoundedPolygonPath(e,i,c,r,d);else{e.moveTo(i[0].x,i[0].y);for(let h=1;h<i.length;h++)e.lineTo(i[h].x,i[h].y)}e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,i=this.attrs.radius||0,r=[];for(let c=0;c<e;c++)r.push({x:i*Math.sin(c*2*Math.PI/e),y:-1*i*Math.cos(c*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let i=e[0].x,r=e[0].x,c=e[0].y,d=e[0].y;return e.forEach(h=>{i=Math.min(i,h.x),r=Math.max(r,h.x),c=Math.min(c,h.y),d=Math.max(d,h.y)}),{x:i,y:c,width:r-i,height:d-c}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}ir.prototype.className="RegularPolygon";ir.prototype._centroid=!0;ir.prototype._attrsAffectingSize=["radius"];Nn(ir);j.addGetterSetter(ir,"radius",0,Dt());j.addGetterSetter(ir,"sides",0,Dt());j.addGetterSetter(ir,"cornerRadius",0,M1(4));const Cv=Math.PI*2;class oo extends xt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,Cv,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),Cv,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}oo.prototype.className="Ring";oo.prototype._centroid=!0;oo.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Nn(oo);j.addGetterSetter(oo,"innerRadius",0,Dt());j.addGetterSetter(oo,"outerRadius",0,Dt());class Ss extends xt{constructor(e){super(e),this._updated=!0,this.anim=new ri(()=>{const i=this._updated;return this._updated=!1,i}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const i=this.animation(),r=this.frameIndex(),c=r*4,d=this.animations()[i],h=this.frameOffsets(),v=d[c+0],y=d[c+1],b=d[c+2],_=d[c+3],E=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,b,_),e.closePath(),e.fillStrokeShape(this)),E)if(h){const T=h[i],N=r*2;e.drawImage(E,v,y,b,_,T[N+0],T[N+1],b,_)}else e.drawImage(E,v,y,b,_,0,0,b,_)}_hitFunc(e){const i=this.animation(),r=this.frameIndex(),c=r*4,d=this.animations()[i],h=this.frameOffsets(),v=d[c+2],y=d[c+3];if(e.beginPath(),h){const b=h[i],_=r*2;e.rect(b[_+0],b[_+1],v,y)}else e.rect(0,0,v,y);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),i=this.animation(),r=this.animations(),c=r[i],d=c.length/4;e<d-1?this.frameIndex(e+1):this.frameIndex(0)}}Ss.prototype.className="Sprite";Nn(Ss);j.addGetterSetter(Ss,"animation");j.addGetterSetter(Ss,"animations");j.addGetterSetter(Ss,"frameOffsets");j.addGetterSetter(Ss,"image");j.addGetterSetter(Ss,"frameIndex",0,Dt());j.addGetterSetter(Ss,"frameRate",17,Dt());j.backCompat(Ss,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});class sr extends xt{_sceneFunc(e){const i=this.innerRadius(),r=this.outerRadius(),c=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let d=1;d<c*2;d++){const h=d%2===0?r:i,v=h*Math.sin(d*Math.PI/c),y=-1*h*Math.cos(d*Math.PI/c);e.lineTo(v,y)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}sr.prototype.className="Star";sr.prototype._centroid=!0;sr.prototype._attrsAffectingSize=["innerRadius","outerRadius"];Nn(sr);j.addGetterSetter(sr,"numPoints",5,Dt());j.addGetterSetter(sr,"innerRadius",0,Dt());j.addGetterSetter(sr,"outerRadius",0,Dt());function $u(s){return[...s].reduce((e,i,r,c)=>{if(new RegExp("\\p{Emoji}","u").test(i)){const d=c[r+1];d&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(d)?(e.push(i+d),c[r+1]=""):e.push(i)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(i+(c[r+1]||""))?e.push(i+c[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(i)?e[e.length-1]+=i:i&&e.push(i);return e},[])}const Rc="auto",k8="center",$p="inherit",Td="justify",W8="Change.konva",P8="2d",Ev="-",ty="left",$8="text",t9="Text",e9="top",n9="bottom",Tv="middle",ey="normal",a9="px ",F0=" ",l9="right",Av="rtl",i9="word",s9="char",Mv="none",w2="",ny=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],u9=ny.length;function r9(s){return s.split(",").map(e=>{e=e.trim();const i=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return i&&!r&&(e=`"${e}"`),e}).join(", ")}let I0;function H2(){return I0||(I0=P.createCanvasElement().getContext(P8),I0)}function o9(s){s.fillText(this._partialText,this._partialTextX,this._partialTextY)}function c9(s){s.setAttr("miterLimit",2),s.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function f9(s){return s=s||{},!s.fillLinearGradientColorStops&&!s.fillRadialGradientColorStops&&!s.fillPatternImage&&(s.fill=s.fill||"black"),s}class hn extends xt{constructor(e){super(f9(e)),this._partialTextX=0,this._partialTextY=0;for(let i=0;i<u9;i++)this.on(ny[i]+W8,this._setTextData);this._setTextData()}_sceneFunc(e){var i,r;const c=this.textArr,d=c.length;if(!this.text())return;let h=this.padding(),v=this.fontSize(),y=this.lineHeight()*v,b=this.verticalAlign(),_=this.direction(),E=0,T=this.align(),N=this.getWidth(),A=this.letterSpacing(),B=this.charRenderFunc(),w=this.fill(),U=this.textDecoration(),H=U.indexOf("underline")!==-1,L=U.indexOf("line-through")!==-1,z;_=_===$p?e.direction:_;let F=y/2,J=Tv;if(!wt.legacyTextRendering){const Z=this.measureSize("M");J="alphabetic";const it=(i=Z.fontBoundingBoxAscent)!==null&&i!==void 0?i:Z.actualBoundingBoxAscent,gt=(r=Z.fontBoundingBoxDescent)!==null&&r!==void 0?r:Z.actualBoundingBoxDescent;F=(it-gt)/2+y/2}for(_===Av&&e.setAttr("direction",_),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",J),e.setAttr("textAlign",ty),b===Tv?E=(this.getHeight()-d*y-h*2)/2:b===n9&&(E=this.getHeight()-d*y-h*2),e.translate(h,E+h),z=0;z<d;z++){let Z=0,it=0;const gt=c[z],_t=gt.text,Nt=gt.width,Tt=gt.lastInParagraph;if(e.save(),T===l9?Z+=N-Nt-h*2:T===k8&&(Z+=(N-Nt-h*2)/2),H){e.save(),e.beginPath();const zt=wt.legacyTextRendering?Math.round(v/2):Math.round(v/4),Ct=Z,D=F+it+zt;e.moveTo(Ct,D);const Q=T===Td&&!Tt?N-h*2:Nt;e.lineTo(Ct+Math.round(Q),D),e.lineWidth=v/15;const I=this._getLinearGradient();e.strokeStyle=I||w,e.stroke(),e.restore()}const Ut=Z;if(_!==Av&&(A!==0||T===Td||B)){const zt=_t.split(" ").length-1,Ct=$u(_t);for(let D=0;D<Ct.length;D++){const Q=Ct[D];if(Q===" "&&!Tt&&T===Td&&(Z+=(N-h*2-Nt)/zt),this._partialTextX=Z,this._partialTextY=F+it,this._partialText=Q,B){e.save();const at=c.slice(0,z).reduce((O,K)=>O+$u(K.text).length,0),ht=D+at;B({char:Q,index:ht,x:Z,y:F+it,lineIndex:z,column:D,isLastInLine:Tt,width:this.measureSize(Q).width,context:e})}e.fillStrokeShape(this),B&&e.restore(),Z+=this.measureSize(Q).width+A}}else A!==0&&e.setAttr("letterSpacing",`${A}px`),this._partialTextX=Z,this._partialTextY=F+it,this._partialText=_t,e.fillStrokeShape(this);if(L){e.save(),e.beginPath();const zt=wt.legacyTextRendering?0:-Math.round(v/4),Ct=Ut;e.moveTo(Ct,F+it+zt);const D=T===Td&&!Tt?N-h*2:Nt;e.lineTo(Ct+Math.round(D),F+it+zt),e.lineWidth=v/15;const Q=this._getLinearGradient();e.strokeStyle=Q||w,e.stroke(),e.restore()}e.restore(),d>1&&(F+=y)}}_hitFunc(e){const i=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,i,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const i=P._isString(e)?e:e==null?"":e+"";return this._setAttr($8,i),this}getWidth(){return this.attrs.width===Rc||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===Rc||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var i,r,c,d,h,v,y,b,_,E,T;let N=H2(),A=this.fontSize(),B;N.save(),N.font=this._getContextFont(),B=N.measureText(e),N.restore();const w=A/100;return{actualBoundingBoxAscent:(i=B.actualBoundingBoxAscent)!==null&&i!==void 0?i:71.58203125*w,actualBoundingBoxDescent:(r=B.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(c=B.actualBoundingBoxLeft)!==null&&c!==void 0?c:-7.421875*w,actualBoundingBoxRight:(d=B.actualBoundingBoxRight)!==null&&d!==void 0?d:75.732421875*w,alphabeticBaseline:(h=B.alphabeticBaseline)!==null&&h!==void 0?h:0,emHeightAscent:(v=B.emHeightAscent)!==null&&v!==void 0?v:100*w,emHeightDescent:(y=B.emHeightDescent)!==null&&y!==void 0?y:-20*w,fontBoundingBoxAscent:(b=B.fontBoundingBoxAscent)!==null&&b!==void 0?b:91*w,fontBoundingBoxDescent:(_=B.fontBoundingBoxDescent)!==null&&_!==void 0?_:21*w,hangingBaseline:(E=B.hangingBaseline)!==null&&E!==void 0?E:72.80000305175781*w,ideographicBaseline:(T=B.ideographicBaseline)!==null&&T!==void 0?T:-21*w,width:B.width,height:A}}_getContextFont(){return this.fontStyle()+F0+this.fontVariant()+F0+(this.fontSize()+a9)+r9(this.fontFamily())}_addTextLine(e){this.align()===Td&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const i=this.letterSpacing(),r=e.length;return H2().measureText(e).width+i*r}_setTextData(){let e=this.text().split(`
`),i=+this.fontSize(),r=0,c=this.lineHeight()*i,d=this.attrs.width,h=this.attrs.height,v=d!==Rc&&d!==void 0,y=h!==Rc&&h!==void 0,b=this.padding(),_=d-b*2,E=h-b*2,T=0,N=this.wrap(),A=N!==Mv,B=N!==s9&&A,w=this.ellipsis();this.textArr=[],H2().font=this._getContextFont();const U=w?this._getTextWidth(w2):0;for(let H=0,L=e.length;H<L;++H){let z=e[H],F=this._getTextWidth(z);if(v&&F>_)for(;z.length>0;){let J=0,Z=$u(z).length,it="",gt=0;for(;J<Z;){const _t=J+Z>>>1,Nt=$u(z),Tt=Nt.slice(0,_t+1).join(""),Ut=this._getTextWidth(Tt);(w&&y&&T+c>E?Ut+U:Ut)<=_?(J=_t+1,it=Tt,gt=Ut):Z=_t}if(it){if(B){const Tt=$u(z),Ut=$u(it),zt=Tt[Ut.length],Ct=zt===F0||zt===Ev;let D;if(Ct&&gt<=_)D=Ut.length;else{const Q=Ut.lastIndexOf(F0),I=Ut.lastIndexOf(Ev);D=Math.max(Q,I)+1}D>0&&(J=D,it=Tt.slice(0,J).join(""),gt=this._getTextWidth(it))}if(it=it.trimRight(),this._addTextLine(it),r=Math.max(r,gt),T+=c,this._shouldHandleEllipsis(T)){this._tryToAddEllipsisToLastLine();break}if(z=$u(z).slice(J).join("").trimLeft(),z.length>0&&(F=this._getTextWidth(z),F<=_)){this._addTextLine(z),T+=c,r=Math.max(r,F);break}}else break}else this._addTextLine(z),T+=c,r=Math.max(r,F),this._shouldHandleEllipsis(T)&&H<L-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),y&&T+c>E)break}this.textHeight=i,this.textWidth=r}_shouldHandleEllipsis(e){const i=+this.fontSize(),r=this.lineHeight()*i,c=this.attrs.height,d=c!==Rc&&c!==void 0,h=this.padding(),v=c-h*2;return!(this.wrap()!==Mv)||d&&e+r>v}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,i=e!==Rc&&e!==void 0,r=this.padding(),c=e-r*2,d=this.ellipsis(),h=this.textArr[this.textArr.length-1];!h||!d||(i&&(this._getTextWidth(h.text+w2)<c||(h.text=h.text.slice(0,h.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(h.text+w2))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,i=this.hasShadow();return e&&i?!0:super._useBufferCanvas()}}hn.prototype._fillFunc=o9;hn.prototype._strokeFunc=c9;hn.prototype.className=t9;hn.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];Nn(hn);j.overWriteSetter(hn,"width",Tm());j.overWriteSetter(hn,"height",Tm());j.addGetterSetter(hn,"direction",$p);j.addGetterSetter(hn,"fontFamily","Arial");j.addGetterSetter(hn,"fontSize",12,Dt());j.addGetterSetter(hn,"fontStyle",ey);j.addGetterSetter(hn,"fontVariant",ey);j.addGetterSetter(hn,"padding",0,Dt());j.addGetterSetter(hn,"align",ty);j.addGetterSetter(hn,"verticalAlign",e9);j.addGetterSetter(hn,"lineHeight",1,Dt());j.addGetterSetter(hn,"wrap",i9);j.addGetterSetter(hn,"ellipsis",!1,Gi());j.addGetterSetter(hn,"letterSpacing",0,Dt());j.addGetterSetter(hn,"text","",io());j.addGetterSetter(hn,"textDecoration","");j.addGetterSetter(hn,"charRenderFunc",void 0);const d9="",ay="normal";function ly(s){s.fillText(this.partialText,0,0)}function iy(s){s.strokeText(this.partialText,0,0)}class ta extends xt{constructor(e){super(e),this.dummyCanvas=P.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return oi.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const i=this.pathLength;return e>i?null:oi.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=oi.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const i=this.textDecoration(),r=this.fill(),c=this.fontSize(),d=this.glyphInfo,h=i.indexOf("underline")!==-1,v=i.indexOf("line-through")!==-1;h&&e.beginPath();for(let y=0;y<d.length;y++){e.save();const b=d[y].p0;e.translate(b.x,b.y),e.rotate(d[y].rotation),this.partialText=d[y].text,e.fillStrokeShape(this),h&&(y===0&&e.moveTo(0,c/2+1),e.lineTo(d[y].width,c/2+1)),e.restore()}if(h&&(e.strokeStyle=r,e.lineWidth=c/20,e.stroke()),v){e.beginPath();for(let y=0;y<d.length;y++){e.save();const b=d[y].p0;e.translate(b.x,b.y),e.rotate(d[y].rotation),y===0&&e.moveTo(0,0),e.lineTo(d[y].width,0),e.restore()}e.strokeStyle=r,e.lineWidth=c/20,e.stroke()}e.restore()}_hitFunc(e){e.beginPath();const i=this.glyphInfo;if(i.length>=1){const r=i[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<i.length;r++){const c=i[r].p1;e.lineTo(c.x,c.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return P.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return hn.prototype.setText.call(this,e)}_getContextFont(){return hn.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const c=r.measureText(e);return r.restore(),{width:c.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const e=$u(this.text()),i=[];let r=0;for(let E=0;E<e.length;E++)i.push({char:e[E],width:this._getTextSize(e[E]).width}),r+=i[E].width;const{height:c}=this._getTextSize(this.attrs.text);if(this.textWidth=r,this.textHeight=c,this.glyphInfo=[],!this.attrs.data)return null;const d=this.letterSpacing(),h=this.align(),v=this.kerningFunc(),y=Math.max(this.textWidth+((this.attrs.text||"").length-1)*d,0);let b=0;h==="center"&&(b=Math.max(0,this.pathLength/2-y/2)),h==="right"&&(b=Math.max(0,this.pathLength-y));let _=b;for(let E=0;E<i.length;E++){const T=this._getPointAtLength(_);if(!T)return;const N=i[E].char;let A=i[E].width+d;if(N===" "&&h==="justify"){const z=this.text().split(" ").length-1;A+=(this.pathLength-y)/z}const B=this._getPointAtLength(_+A);if(!B)return;const w=oi.getLineLength(T.x,T.y,B.x,B.y);let U=0;if(v)try{U=v(i[E-1].char,N)*this.fontSize()}catch{U=0}T.x+=U,B.x+=U,this.textWidth+=U;const H=oi.getPointOnLine(U+w/2,T.x,T.y,B.x,B.y),L=Math.atan2(B.y-T.y,B.x-T.x);this.glyphInfo.push({transposeX:H.x,transposeY:H.y,text:e[E],rotation:L,p0:T,p1:B,width:w}),_+=A}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(b){e.push(b.p0.x),e.push(b.p0.y),e.push(b.p1.x),e.push(b.p1.y)});let i=e[0]||0,r=e[0]||0,c=e[1]||0,d=e[1]||0,h,v;for(let b=0;b<e.length/2;b++)h=e[b*2],v=e[b*2+1],i=Math.min(i,h),r=Math.max(r,h),c=Math.min(c,v),d=Math.max(d,v);const y=this.fontSize();return{x:i-y/2,y:c-y/2,width:r-i+y,height:d-c+y}}destroy(){return P.releaseCanvas(this.dummyCanvas),super.destroy()}}ta.prototype._fillFunc=ly;ta.prototype._strokeFunc=iy;ta.prototype._fillFuncHit=ly;ta.prototype._strokeFuncHit=iy;ta.prototype.className="TextPath";ta.prototype._attrsAffectingSize=["text","fontSize","data"];Nn(ta);j.addGetterSetter(ta,"data");j.addGetterSetter(ta,"fontFamily","Arial");j.addGetterSetter(ta,"fontSize",12,Dt());j.addGetterSetter(ta,"fontStyle",ay);j.addGetterSetter(ta,"align","left");j.addGetterSetter(ta,"letterSpacing",0,Dt());j.addGetterSetter(ta,"textBaseline","middle");j.addGetterSetter(ta,"fontVariant",ay);j.addGetterSetter(ta,"text",d9);j.addGetterSetter(ta,"textDecoration","");j.addGetterSetter(ta,"kerningFunc",void 0);const sy="tr-konva",h9=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(s=>s+`.${sy}`).join(" "),Rv="nodesRect",m9=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange","draggableChange"],g9={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},v9="ontouchstart"in wt._global;function p9(s,e,i){if(s==="rotater")return i;e+=P.degToRad(g9[s]||0);const r=(P.radToDeg(e)%360+360)%360;return P._inRange(r,315+22.5,360)||P._inRange(r,0,22.5)?"ns-resize":P._inRange(r,45-22.5,45+22.5)?"nesw-resize":P._inRange(r,90-22.5,90+22.5)?"ew-resize":P._inRange(r,135-22.5,135+22.5)?"nwse-resize":P._inRange(r,180-22.5,180+22.5)?"ns-resize":P._inRange(r,225-22.5,225+22.5)?"nesw-resize":P._inRange(r,270-22.5,270+22.5)?"ew-resize":P._inRange(r,315-22.5,315+22.5)?"nwse-resize":(P.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const p1=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function y9(s){return{x:s.x+s.width/2*Math.cos(s.rotation)+s.height/2*Math.sin(-s.rotation),y:s.y+s.height/2*Math.cos(s.rotation)+s.width/2*Math.sin(s.rotation)}}function uy(s,e,i){const r=i.x+(s.x-i.x)*Math.cos(e)-(s.y-i.y)*Math.sin(e),c=i.y+(s.x-i.x)*Math.sin(e)+(s.y-i.y)*Math.cos(e);return{...s,rotation:s.rotation+e,x:r,y:c}}function S9(s,e){const i=y9(s);return uy(s,e,i)}function b9(s,e,i){let r=e;for(let c=0;c<s.length;c++){const d=wt.getAngle(s[c]),h=Math.abs(d-e)%(Math.PI*2);Math.min(h,Math.PI*2-h)<i&&(r=d)}return r}let lm=0,Ae=class extends Bc{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(h9,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return P.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return sy+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const i=e.filter(c=>c.isAncestorOf(this)?(P.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=i,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(c=>{const d=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(c._attrsAffectingSize.length){const h=c._attrsAffectingSize.map(v=>v+"Change."+this._getEventNamespace()).join(" ");c.on(h,d)}c.on(m9.map(h=>h+`.${this._getEventNamespace()}`).join(" "),d),c.on(`absoluteTransformChange.${this._getEventNamespace()}`,d),this._proxyDrag(c)}),this._resetTransformCache(),this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let i;e.on(`dragstart.${this._getEventNamespace()}`,r=>{i=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!i)return;const c=e.getAbsolutePosition(),d=c.x-i.x,h=c.y-i.y;this.nodes().forEach(v=>{if(v===e||v.isDragging())return;const y=v.getAbsolutePosition();v.setAbsolutePosition({x:y.x+d,y:y.y+h}),v.startDrag(r)}),i=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(Rv),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(Rv,this.__getNodeRect)}__getNodeShape(e,i=this.rotation(),r){const c=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),d=e.getAbsoluteScale(r),h=e.getAbsolutePosition(r),v=c.x*d.x-e.offsetX()*d.x,y=c.y*d.y-e.offsetY()*d.y,b=(wt.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),_={x:h.x+v*Math.cos(b)+y*Math.sin(-b),y:h.y+y*Math.cos(b)+v*Math.sin(b),width:c.width*d.x,height:c.height*d.y,rotation:b};return uy(_,-wt.getAngle(i),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const i=[];this.nodes().map(b=>{const _=b.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),E=[{x:_.x,y:_.y},{x:_.x+_.width,y:_.y},{x:_.x+_.width,y:_.y+_.height},{x:_.x,y:_.y+_.height}],T=b.getAbsoluteTransform();E.forEach(function(N){const A=T.point(N);i.push(A)})});const r=new wl;r.rotate(-wt.getAngle(this.rotation()));let c=1/0,d=1/0,h=-1/0,v=-1/0;i.forEach(function(b){const _=r.point(b);c===void 0&&(c=h=_.x,d=v=_.y),c=Math.min(c,_.x),d=Math.min(d,_.y),h=Math.max(h,_.x),v=Math.max(v,_.y)}),r.invert();const y=r.point({x:c,y:d});return{x:y.x,y:y.y,width:h-c,height:v-d,rotation:wt.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),p1.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const i=new Pd({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:v9?10:"auto"}),r=this;i.on("mousedown touchstart",function(c){r._handleMouseDown(c)}),i.on("dragstart",c=>{i.stopDrag(),c.cancelBubble=!0}),i.on("dragend",c=>{c.cancelBubble=!0}),i.on("mouseenter",()=>{const c=wt.getAngle(this.rotation()),d=this.rotateAnchorCursor(),h=p9(e,c,d);i.getStage().content&&(i.getStage().content.style.cursor=h),this._cursorChange=!0}),i.on("mouseout",()=>{i.getStage().content&&(i.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(i)}_createBack(){const e=new xt({name:"back",width:0,height:0,sceneFunc(i,r){const c=r.getParent(),d=c.padding();i.beginPath(),i.rect(-d,-d,r.width()+d*2,r.height()+d*2),i.moveTo(r.width()/2,-d),c.rotateEnabled()&&c.rotateLineVisible()&&i.lineTo(r.width()/2,-c.rotateAnchorOffset()*P._sign(r.height())-d),i.fillStrokeShape(r)},hitFunc:(i,r)=>{if(!this.shouldOverdrawWholeArea())return;const c=this.padding();i.beginPath(),i.rect(-c,-c,r.width()+c*2,r.height()+c*2),i.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",i=>{i.cancelBubble=!0}),e.on("dragmove",i=>{i.cancelBubble=!0}),e.on("dragend",i=>{i.cancelBubble=!0}),this.on("dragmove",i=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const i=this._getNodeRect(),r=i.width,c=i.height,d=Math.sqrt(Math.pow(r,2)+Math.pow(c,2));this.sin=Math.abs(c/d),this.cos=Math.abs(r/d),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const h=e.target.getAbsolutePosition(),v=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:v.x-h.x,y:v.y-h.y},lm++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(y=>{y._fire("transformstart",{evt:e.evt,target:y})})}_handleMouseMove(e){let i,r,c;const d=this.findOne("."+this._movingAnchorName),h=d.getStage();h.setPointersPositions(e);const v=h.getPointerPosition();let y={x:v.x-this._anchorDragOffset.x,y:v.y-this._anchorDragOffset.y};const b=d.getAbsolutePosition();this.anchorDragBoundFunc()&&(y=this.anchorDragBoundFunc()(b,y,e)),d.setAbsolutePosition(y);const _=d.getAbsolutePosition();if(b.x===_.x&&b.y===_.y)return;if(this._movingAnchorName==="rotater"){const H=this._getNodeRect();i=d.x()-H.width/2,r=-d.y()+H.height/2;let L=Math.atan2(-r,i)+Math.PI/2;H.height<0&&(L-=Math.PI);const F=wt.getAngle(this.rotation())+L,J=wt.getAngle(this.rotationSnapTolerance()),it=b9(this.rotationSnaps(),F,J)-H.rotation,gt=S9(H,it);this._fitNodesInto(gt,e);return}const E=this.shiftBehavior();let T;E==="inverted"?T=this.keepRatio()&&!e.shiftKey:E==="none"?T=this.keepRatio():T=this.keepRatio()||e.shiftKey;let N=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(T){const H=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};c=Math.sqrt(Math.pow(H.x-d.x(),2)+Math.pow(H.y-d.y(),2));const L=this.findOne(".top-left").x()>H.x?-1:1,z=this.findOne(".top-left").y()>H.y?-1:1;i=c*this.cos*L,r=c*this.sin*z,this.findOne(".top-left").x(H.x-i),this.findOne(".top-left").y(H.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(d.y());else if(this._movingAnchorName==="top-right"){if(T){const H=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};c=Math.sqrt(Math.pow(d.x()-H.x,2)+Math.pow(H.y-d.y(),2));const L=this.findOne(".top-right").x()<H.x?-1:1,z=this.findOne(".top-right").y()>H.y?-1:1;i=c*this.cos*L,r=c*this.sin*z,this.findOne(".top-right").x(H.x+i),this.findOne(".top-right").y(H.y-r)}var A=d.position();this.findOne(".top-left").y(A.y),this.findOne(".bottom-right").x(A.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(d.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(d.x());else if(this._movingAnchorName==="bottom-left"){if(T){const H=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};c=Math.sqrt(Math.pow(H.x-d.x(),2)+Math.pow(d.y()-H.y,2));const L=H.x<d.x()?-1:1,z=d.y()<H.y?-1:1;i=c*this.cos*L,r=c*this.sin*z,d.x(H.x-i),d.y(H.y+r)}A=d.position(),this.findOne(".top-left").x(A.x),this.findOne(".bottom-right").y(A.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(d.y());else if(this._movingAnchorName==="bottom-right"){if(T){const H=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};c=Math.sqrt(Math.pow(d.x()-H.x,2)+Math.pow(d.y()-H.y,2));const L=this.findOne(".bottom-right").x()<H.x?-1:1,z=this.findOne(".bottom-right").y()<H.y?-1:1;i=c*this.cos*L,r=c*this.sin*z,this.findOne(".bottom-right").x(H.x+i),this.findOne(".bottom-right").y(H.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(N=this.centeredScaling()||e.altKey,N){const H=this.findOne(".top-left"),L=this.findOne(".bottom-right"),z=H.x(),F=H.y(),J=this.getWidth()-L.x(),Z=this.getHeight()-L.y();L.move({x:-z,y:-F}),H.move({x:J,y:Z})}const B=this.findOne(".top-left").getAbsolutePosition();i=B.x,r=B.y;const w=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),U=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:i,y:r,width:w,height:U,rotation:wt.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var i;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();lm--,this._fire("transformend",{evt:e,target:r}),(i=this.getLayer())===null||i===void 0||i.batchDraw(),r&&this._nodes.forEach(c=>{var d;c._fire("transformend",{evt:e,target:c}),(d=c.getLayer())===null||d===void 0||d.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,i){const r=this._getNodeRect(),c=1;if(P._inRange(e.width,-this.padding()*2-c,c)){this.update();return}if(P._inRange(e.height,-this.padding()*2-c,c)){this.update();return}const d=new wl;if(d.rotate(wt.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const T=d.point({x:-this.padding()*2,y:0});e.x+=T.x,e.y+=T.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const T=d.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const T=d.point({x:0,y:-this.padding()*2});e.x+=T.x,e.y+=T.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const T=d.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=T.x,this._anchorDragOffset.y-=T.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const T=this.boundBoxFunc()(r,e);T?e=T:P.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const h=1e7,v=new wl;v.translate(r.x,r.y),v.rotate(r.rotation),v.scale(r.width/h,r.height/h);const y=new wl,b=e.width/h,_=e.height/h;this.flipEnabled()===!1?(y.translate(e.x,e.y),y.rotate(e.rotation),y.translate(e.width<0?e.width:0,e.height<0?e.height:0),y.scale(Math.abs(b),Math.abs(_))):(y.translate(e.x,e.y),y.rotate(e.rotation),y.scale(b,_));const E=y.multiply(v.invert());this._nodes.forEach(T=>{var N;if(!T.getStage())return;const A=T.getParent().getAbsoluteTransform(),B=T.getTransform().copy();B.translate(T.offsetX(),T.offsetY());const w=new wl;w.multiply(A.copy().invert()).multiply(E).multiply(A).multiply(B);const U=w.decompose();T.setAttrs(U),(N=T.getLayer())===null||N===void 0||N.batchDraw()}),this.rotation(P._getRotation(e.rotation)),this._nodes.forEach(T=>{this._fire("transform",{evt:i,target:T}),T._fire("transform",{evt:i,target:T})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,i){this.findOne(e).setAttrs(i)}update(){var e;const i=this._getNodeRect();this.rotation(P._getRotation(i.rotation));const r=i.width,c=i.height,d=this.enabledAnchors(),h=this.resizeEnabled(),v=this.padding(),y=this.anchorSize(),b=this.find("._anchor");b.forEach(E=>{E.setAttrs({width:y,height:y,offsetX:y/2,offsetY:y/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:y/2+v,offsetY:y/2+v,visible:h&&d.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:y/2+v,visible:h&&d.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:y/2-v,offsetY:y/2+v,visible:h&&d.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:c/2,offsetX:y/2+v,visible:h&&d.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:c/2,offsetX:y/2-v,visible:h&&d.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:c,offsetX:y/2+v,offsetY:y/2-v,visible:h&&d.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:c,offsetY:y/2-v,visible:h&&d.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:c,offsetX:y/2-v,offsetY:y/2-v,visible:h&&d.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*P._sign(c)-v,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:c,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),draggable:this.nodes().some(E=>E.draggable()),x:0,y:0});const _=this.anchorStyleFunc();_&&b.forEach(E=>{_(E)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),Bc.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return Rt.prototype.toObject.call(this)}clone(e){return Rt.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}};Ae.isTransforming=()=>lm>0;function x9(s){return s instanceof Array||P.warn("enabledAnchors value should be an array"),s instanceof Array&&s.forEach(function(e){p1.indexOf(e)===-1&&P.warn("Unknown anchor name: "+e+". Available names are: "+p1.join(", "))}),s||[]}Ae.prototype.className="Transformer";Nn(Ae);j.addGetterSetter(Ae,"enabledAnchors",p1,x9);j.addGetterSetter(Ae,"flipEnabled",!0,Gi());j.addGetterSetter(Ae,"resizeEnabled",!0);j.addGetterSetter(Ae,"anchorSize",10,Dt());j.addGetterSetter(Ae,"rotateEnabled",!0);j.addGetterSetter(Ae,"rotateLineVisible",!0);j.addGetterSetter(Ae,"rotationSnaps",[]);j.addGetterSetter(Ae,"rotateAnchorOffset",50,Dt());j.addGetterSetter(Ae,"rotateAnchorCursor","crosshair");j.addGetterSetter(Ae,"rotationSnapTolerance",5,Dt());j.addGetterSetter(Ae,"borderEnabled",!0);j.addGetterSetter(Ae,"anchorStroke","rgb(0, 161, 255)");j.addGetterSetter(Ae,"anchorStrokeWidth",1,Dt());j.addGetterSetter(Ae,"anchorFill","white");j.addGetterSetter(Ae,"anchorCornerRadius",0,Dt());j.addGetterSetter(Ae,"borderStroke","rgb(0, 161, 255)");j.addGetterSetter(Ae,"borderStrokeWidth",1,Dt());j.addGetterSetter(Ae,"borderDash");j.addGetterSetter(Ae,"keepRatio",!0);j.addGetterSetter(Ae,"shiftBehavior","default");j.addGetterSetter(Ae,"centeredScaling",!1);j.addGetterSetter(Ae,"ignoreStroke",!1);j.addGetterSetter(Ae,"padding",0,Dt());j.addGetterSetter(Ae,"nodes");j.addGetterSetter(Ae,"node");j.addGetterSetter(Ae,"boundBoxFunc");j.addGetterSetter(Ae,"anchorDragBoundFunc");j.addGetterSetter(Ae,"anchorStyleFunc");j.addGetterSetter(Ae,"shouldOverdrawWholeArea",!1);j.addGetterSetter(Ae,"useSingleNodeRotation",!0);j.backCompat(Ae,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});class lu extends xt{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,wt.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}lu.prototype.className="Wedge";lu.prototype._centroid=!0;lu.prototype._attrsAffectingSize=["radius"];Nn(lu);j.addGetterSetter(lu,"radius",0,Dt());j.addGetterSetter(lu,"angle",0,Dt());j.addGetterSetter(lu,"clockwise",!1);j.backCompat(lu,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});function Nv(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const _9=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],C9=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function E9(s,e){const i=s.data,r=s.width,c=s.height;let d,h,v,y,b,_,E,T,N,A,B,w,U,H,L,z,F,J,Z,it;const gt=e+e+1,_t=r-1,Nt=c-1,Tt=e+1,Ut=Tt*(Tt+1)/2,zt=new Nv,Ct=_9[e],D=C9[e];let Q=null,I=zt,at=null,ht=null;for(let O=1;O<gt;O++)I=I.next=new Nv,O===Tt&&(Q=I);I.next=zt,v=h=0;for(let O=0;O<c;O++){w=U=H=L=y=b=_=E=0,T=Tt*(z=i[h]),N=Tt*(F=i[h+1]),A=Tt*(J=i[h+2]),B=Tt*(Z=i[h+3]),y+=Ut*z,b+=Ut*F,_+=Ut*J,E+=Ut*Z,I=zt;for(let K=0;K<Tt;K++)I.r=z,I.g=F,I.b=J,I.a=Z,I=I.next;for(let K=1;K<Tt;K++)d=h+((_t<K?_t:K)<<2),y+=(I.r=z=i[d])*(it=Tt-K),b+=(I.g=F=i[d+1])*it,_+=(I.b=J=i[d+2])*it,E+=(I.a=Z=i[d+3])*it,w+=z,U+=F,H+=J,L+=Z,I=I.next;at=zt,ht=Q;for(let K=0;K<r;K++)i[h+3]=Z=E*Ct>>D,Z!==0?(Z=255/Z,i[h]=(y*Ct>>D)*Z,i[h+1]=(b*Ct>>D)*Z,i[h+2]=(_*Ct>>D)*Z):i[h]=i[h+1]=i[h+2]=0,y-=T,b-=N,_-=A,E-=B,T-=at.r,N-=at.g,A-=at.b,B-=at.a,d=v+((d=K+e+1)<_t?d:_t)<<2,w+=at.r=i[d],U+=at.g=i[d+1],H+=at.b=i[d+2],L+=at.a=i[d+3],y+=w,b+=U,_+=H,E+=L,at=at.next,T+=z=ht.r,N+=F=ht.g,A+=J=ht.b,B+=Z=ht.a,w-=z,U-=F,H-=J,L-=Z,ht=ht.next,h+=4;v+=r}for(let O=0;O<r;O++){U=H=L=w=b=_=E=y=0,h=O<<2,T=Tt*(z=i[h]),N=Tt*(F=i[h+1]),A=Tt*(J=i[h+2]),B=Tt*(Z=i[h+3]),y+=Ut*z,b+=Ut*F,_+=Ut*J,E+=Ut*Z,I=zt;for(let ct=0;ct<Tt;ct++)I.r=z,I.g=F,I.b=J,I.a=Z,I=I.next;let K=r;for(let ct=1;ct<=e;ct++)h=K+O<<2,y+=(I.r=z=i[h])*(it=Tt-ct),b+=(I.g=F=i[h+1])*it,_+=(I.b=J=i[h+2])*it,E+=(I.a=Z=i[h+3])*it,w+=z,U+=F,H+=J,L+=Z,I=I.next,ct<Nt&&(K+=r);h=O,at=zt,ht=Q;for(let ct=0;ct<c;ct++)d=h<<2,i[d+3]=Z=E*Ct>>D,Z>0?(Z=255/Z,i[d]=(y*Ct>>D)*Z,i[d+1]=(b*Ct>>D)*Z,i[d+2]=(_*Ct>>D)*Z):i[d]=i[d+1]=i[d+2]=0,y-=T,b-=N,_-=A,E-=B,T-=at.r,N-=at.g,A-=at.b,B-=at.a,d=O+((d=ct+Tt)<Nt?d:Nt)*r<<2,y+=w+=at.r=i[d],b+=U+=at.g=i[d+1],_+=H+=at.b=i[d+2],E+=L+=at.a=i[d+3],at=at.next,T+=z=ht.r,N+=F=ht.g,A+=J=ht.b,B+=Z=ht.a,w-=z,U-=F,H-=J,L-=Z,ht=ht.next,h+=r}}const T9=function(e){const i=Math.round(this.blurRadius());i>0&&E9(e,i)};j.addGetterSetter(Rt,"blurRadius",0,Dt(),j.afterSetFilter);const A9=function(s){const e=this.brightness()*255,i=s.data,r=i.length;for(let c=0;c<r;c+=4)i[c]+=e,i[c+1]+=e,i[c+2]+=e};j.addGetterSetter(Rt,"brightness",0,Dt(),j.afterSetFilter);const M9=function(s){const e=this.brightness(),i=s.data,r=i.length;for(let c=0;c<r;c+=4)i[c]=Math.min(255,i[c]*e),i[c+1]=Math.min(255,i[c+1]*e),i[c+2]=Math.min(255,i[c+2]*e)},R9=function(s){const e=Math.pow((this.contrast()+100)/100,2),i=s.data,r=i.length;let c=150,d=150,h=150;for(let v=0;v<r;v+=4)c=i[v],d=i[v+1],h=i[v+2],c/=255,c-=.5,c*=e,c+=.5,c*=255,d/=255,d-=.5,d*=e,d+=.5,d*=255,h/=255,h-=.5,h*=e,h+=.5,h*=255,c=c<0?0:c>255?255:c,d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,i[v]=c,i[v+1]=d,i[v+2]=h};j.addGetterSetter(Rt,"contrast",0,Dt(),j.afterSetFilter);const N9=function(s){var e,i,r,c,d,h,v,y,b;const _=s.data,E=s.width,T=s.height,N=Math.min(1,Math.max(0,(i=(e=this.embossStrength)===null||e===void 0?void 0:e.call(this))!==null&&i!==void 0?i:.5)),A=Math.min(1,Math.max(0,(c=(r=this.embossWhiteLevel)===null||r===void 0?void 0:r.call(this))!==null&&c!==void 0?c:.5)),w=(v={"top-left":315,top:270,"top-right":225,right:180,"bottom-right":135,bottom:90,"bottom-left":45,left:0}[(h=(d=this.embossDirection)===null||d===void 0?void 0:d.call(this))!==null&&h!==void 0?h:"top-left"])!==null&&v!==void 0?v:315,U=!!((b=(y=this.embossBlend)===null||y===void 0?void 0:y.call(this))!==null&&b!==void 0&&b),H=N*10,L=A*255,z=w*Math.PI/180,F=Math.cos(z),J=Math.sin(z),Z=128/1020*H,it=new Uint8ClampedArray(_),gt=new Float32Array(E*T);for(let zt=0,Ct=0;Ct<_.length;Ct+=4,zt++)gt[zt]=.2126*it[Ct]+.7152*it[Ct+1]+.0722*it[Ct+2];const _t=[-1,0,1,-2,0,2,-1,0,1],Nt=[-1,-2,-1,0,0,0,1,2,1],Tt=[-E-1,-E,-E+1,-1,0,1,E-1,E,E+1],Ut=zt=>zt<0?0:zt>255?255:zt;for(let zt=1;zt<T-1;zt++)for(let Ct=1;Ct<E-1;Ct++){const D=zt*E+Ct;let Q=0,I=0;Q+=gt[D+Tt[0]]*_t[0],I+=gt[D+Tt[0]]*Nt[0],Q+=gt[D+Tt[1]]*_t[1],I+=gt[D+Tt[1]]*Nt[1],Q+=gt[D+Tt[2]]*_t[2],I+=gt[D+Tt[2]]*Nt[2],Q+=gt[D+Tt[3]]*_t[3],I+=gt[D+Tt[3]]*Nt[3],Q+=gt[D+Tt[5]]*_t[5],I+=gt[D+Tt[5]]*Nt[5],Q+=gt[D+Tt[6]]*_t[6],I+=gt[D+Tt[6]]*Nt[6],Q+=gt[D+Tt[7]]*_t[7],I+=gt[D+Tt[7]]*Nt[7],Q+=gt[D+Tt[8]]*_t[8],I+=gt[D+Tt[8]]*Nt[8];const at=F*Q+J*I,ht=Ut(L+at*Z),O=D*4;if(U){const K=ht-L;_[O]=Ut(it[O]+K),_[O+1]=Ut(it[O+1]+K),_[O+2]=Ut(it[O+2]+K),_[O+3]=it[O+3]}else _[O]=_[O+1]=_[O+2]=ht,_[O+3]=it[O+3]}for(let zt=0;zt<E;zt++){let Ct=zt*4,D=((T-1)*E+zt)*4;_[Ct]=it[Ct],_[Ct+1]=it[Ct+1],_[Ct+2]=it[Ct+2],_[Ct+3]=it[Ct+3],_[D]=it[D],_[D+1]=it[D+1],_[D+2]=it[D+2],_[D+3]=it[D+3]}for(let zt=1;zt<T-1;zt++){let Ct=zt*E*4,D=(zt*E+(E-1))*4;_[Ct]=it[Ct],_[Ct+1]=it[Ct+1],_[Ct+2]=it[Ct+2],_[Ct+3]=it[Ct+3],_[D]=it[D],_[D+1]=it[D+1],_[D+2]=it[D+2],_[D+3]=it[D+3]}return s};j.addGetterSetter(Rt,"embossStrength",.5,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"embossWhiteLevel",.5,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"embossDirection","top-left",void 0,j.afterSetFilter);j.addGetterSetter(Rt,"embossBlend",!1,void 0,j.afterSetFilter);function B2(s,e,i,r,c){const d=i-e,h=c-r;if(d===0)return r+h/2;if(h===0)return r;let v=(s-e)/d;return v=h*v+r,v}const D9=function(s){const e=s.data,i=e.length;let r=e[0],c=r,d,h=e[1],v=h,y,b=e[2],_=b,E;const T=this.enhance();if(T===0)return;for(let L=0;L<i;L+=4)d=e[L+0],d<r?r=d:d>c&&(c=d),y=e[L+1],y<h?h=y:y>v&&(v=y),E=e[L+2],E<b?b=E:E>_&&(_=E);c===r&&(c=255,r=0),v===h&&(v=255,h=0),_===b&&(_=255,b=0);let N,A,B,w,U,H;if(T>0)N=c+T*(255-c),A=r-T*(r-0),B=v+T*(255-v),w=h-T*(h-0),U=_+T*(255-_),H=b-T*(b-0);else{const L=(c+r)*.5;N=c+T*(c-L),A=r+T*(r-L);const z=(v+h)*.5;B=v+T*(v-z),w=h+T*(h-z);const F=(_+b)*.5;U=_+T*(_-F),H=b+T*(b-F)}for(let L=0;L<i;L+=4)e[L+0]=B2(e[L+0],r,c,A,N),e[L+1]=B2(e[L+1],h,v,w,B),e[L+2]=B2(e[L+2],b,_,H,U)};j.addGetterSetter(Rt,"enhance",0,Dt(),j.afterSetFilter);const O9=function(s){const e=s.data,i=e.length;for(let r=0;r<i;r+=4){const c=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=c,e[r+1]=c,e[r+2]=c}};j.addGetterSetter(Rt,"hue",0,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"saturation",0,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"luminance",0,Dt(),j.afterSetFilter);const z9=function(s){const e=s.data,i=e.length,r=1,c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,h=this.luminance()*127,v=r*c*Math.cos(d*Math.PI/180),y=r*c*Math.sin(d*Math.PI/180),b=.299*r+.701*v+.167*y,_=.587*r-.587*v+.33*y,E=.114*r-.114*v-.497*y,T=.299*r-.299*v-.328*y,N=.587*r+.413*v+.035*y,A=.114*r-.114*v+.293*y,B=.299*r-.3*v+1.25*y,w=.587*r-.586*v-1.05*y,U=.114*r+.886*v-.2*y;let H,L,z,F;for(let J=0;J<i;J+=4)H=e[J+0],L=e[J+1],z=e[J+2],F=e[J+3],e[J+0]=b*H+_*L+E*z+h,e[J+1]=T*H+N*L+A*z+h,e[J+2]=B*H+w*L+U*z+h,e[J+3]=F},w9=function(s){const e=s.data,i=e.length,r=Math.pow(2,this.value()),c=Math.pow(2,this.saturation()),d=Math.abs(this.hue()+360)%360,h=r*c*Math.cos(d*Math.PI/180),v=r*c*Math.sin(d*Math.PI/180),y=.299*r+.701*h+.167*v,b=.587*r-.587*h+.33*v,_=.114*r-.114*h-.497*v,E=.299*r-.299*h-.328*v,T=.587*r+.413*h+.035*v,N=.114*r-.114*h+.293*v,A=.299*r-.3*h+1.25*v,B=.587*r-.586*h-1.05*v,w=.114*r+.886*h-.2*v;for(let U=0;U<i;U+=4){const H=e[U+0],L=e[U+1],z=e[U+2],F=e[U+3];e[U+0]=y*H+b*L+_*z,e[U+1]=E*H+T*L+N*z,e[U+2]=A*H+B*L+w*z,e[U+3]=F}};j.addGetterSetter(Rt,"hue",0,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"saturation",0,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"value",0,Dt(),j.afterSetFilter);const H9=function(s){const e=s.data,i=e.length;for(let r=0;r<i;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]},B9=function(s,e,i){const r=s.data,c=e.data,d=s.width,h=s.height,v=i.polarCenterX||d/2,y=i.polarCenterY||h/2;let b=Math.sqrt(v*v+y*y),_=d-v,E=h-y;const T=Math.sqrt(_*_+E*E);b=T>b?T:b;const N=h,A=d,B=360/A*Math.PI/180;for(let w=0;w<A;w+=1){const U=Math.sin(w*B),H=Math.cos(w*B);for(let L=0;L<N;L+=1){_=Math.floor(v+b*L/N*H),E=Math.floor(y+b*L/N*U);let z=(E*d+_)*4;const F=r[z+0],J=r[z+1],Z=r[z+2],it=r[z+3];z=(w+L*d)*4,c[z+0]=F,c[z+1]=J,c[z+2]=Z,c[z+3]=it}}},G9=function(s,e,i){const r=s.data,c=e.data,d=s.width,h=s.height,v=i.polarCenterX||d/2,y=i.polarCenterY||h/2;let b=Math.sqrt(v*v+y*y),_=d-v,E=h-y;const T=Math.sqrt(_*_+E*E);b=T>b?T:b;const N=h,A=d,B=0;let w,U;for(_=0;_<d;_+=1)for(E=0;E<h;E+=1){const H=_-v,L=E-y,z=Math.sqrt(H*H+L*L)*N/b;let F=(Math.atan2(L,H)*180/Math.PI+360+B)%360;F=F*A/360,w=Math.floor(F),U=Math.floor(z);let J=(U*d+w)*4;const Z=r[J+0],it=r[J+1],gt=r[J+2],_t=r[J+3];J=(E*d+_)*4,c[J+0]=Z,c[J+1]=it,c[J+2]=gt,c[J+3]=_t}},U9=function(s){const e=s.width,i=s.height;let r,c,d,h,v,y,b,_,E,T,N=Math.round(this.kaleidoscopePower());const A=Math.round(this.kaleidoscopeAngle()),B=Math.floor(e*(A%360)/360);if(N<1)return;const w=P.createCanvasElement();w.width=e,w.height=i;const U=w.getContext("2d").getImageData(0,0,e,i);P.releaseCanvas(w),B9(s,U,{polarCenterX:e/2,polarCenterY:i/2});let H=e/Math.pow(2,N);for(;H<=8;)H=H*2,N-=1;H=Math.ceil(H);let L=H,z=0,F=L,J=1;for(B+H>e&&(z=L,F=0,J=-1),c=0;c<i;c+=1)for(r=z;r!==F;r+=J)d=Math.round(r+B)%e,E=(e*c+d)*4,v=U.data[E+0],y=U.data[E+1],b=U.data[E+2],_=U.data[E+3],T=(e*c+r)*4,U.data[T+0]=v,U.data[T+1]=y,U.data[T+2]=b,U.data[T+3]=_;for(c=0;c<i;c+=1)for(L=Math.floor(H),h=0;h<N;h+=1){for(r=0;r<L+1;r+=1)E=(e*c+r)*4,v=U.data[E+0],y=U.data[E+1],b=U.data[E+2],_=U.data[E+3],T=(e*c+L*2-r-1)*4,U.data[T+0]=v,U.data[T+1]=y,U.data[T+2]=b,U.data[T+3]=_;L*=2}G9(U,s,{})};j.addGetterSetter(Rt,"kaleidoscopePower",2,Dt(),j.afterSetFilter);j.addGetterSetter(Rt,"kaleidoscopeAngle",0,Dt(),j.afterSetFilter);function k0(s,e,i){let r=(i*s.width+e)*4;const c=[];return c.push(s.data[r++],s.data[r++],s.data[r++],s.data[r++]),c}function Ad(s,e){return Math.sqrt(Math.pow(s[0]-e[0],2)+Math.pow(s[1]-e[1],2)+Math.pow(s[2]-e[2],2))}function j9(s){const e=[0,0,0];for(let i=0;i<s.length;i++)e[0]+=s[i][0],e[1]+=s[i][1],e[2]+=s[i][2];return e[0]/=s.length,e[1]/=s.length,e[2]/=s.length,e}function L9(s,e){const i=k0(s,0,0),r=k0(s,s.width-1,0),c=k0(s,0,s.height-1),d=k0(s,s.width-1,s.height-1),h=e||10;if(Ad(i,r)<h&&Ad(r,d)<h&&Ad(d,c)<h&&Ad(c,i)<h){const v=j9([r,i,d,c]),y=[];for(let b=0;b<s.width*s.height;b++){const _=Ad(v,[s.data[b*4],s.data[b*4+1],s.data[b*4+2]]);y[b]=_<h?0:255}return y}}function Y9(s,e){for(let i=0;i<s.width*s.height;i++)s.data[4*i+3]=e[i]}function q9(s,e,i){const r=[1,1,1,1,0,1,1,1,1],c=Math.round(Math.sqrt(r.length)),d=Math.floor(c/2),h=[];for(let v=0;v<i;v++)for(let y=0;y<e;y++){const b=v*e+y;let _=0;for(let E=0;E<c;E++)for(let T=0;T<c;T++){const N=v+E-d,A=y+T-d;if(N>=0&&N<i&&A>=0&&A<e){const B=N*e+A,w=r[E*c+T];_+=s[B]*w}}h[b]=_===2040?255:0}return h}function X9(s,e,i){const r=[1,1,1,1,1,1,1,1,1],c=Math.round(Math.sqrt(r.length)),d=Math.floor(c/2),h=[];for(let v=0;v<i;v++)for(let y=0;y<e;y++){const b=v*e+y;let _=0;for(let E=0;E<c;E++)for(let T=0;T<c;T++){const N=v+E-d,A=y+T-d;if(N>=0&&N<i&&A>=0&&A<e){const B=N*e+A,w=r[E*c+T];_+=s[B]*w}}h[b]=_>=1020?255:0}return h}function Q9(s,e,i){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],c=Math.round(Math.sqrt(r.length)),d=Math.floor(c/2),h=[];for(let v=0;v<i;v++)for(let y=0;y<e;y++){const b=v*e+y;let _=0;for(let E=0;E<c;E++)for(let T=0;T<c;T++){const N=v+E-d,A=y+T-d;if(N>=0&&N<i&&A>=0&&A<e){const B=N*e+A,w=r[E*c+T];_+=s[B]*w}}h[b]=_}return h}const V9=function(s){const e=this.threshold();let i=L9(s,e);return i&&(i=q9(i,s.width,s.height),i=X9(i,s.width,s.height),i=Q9(i,s.width,s.height),Y9(s,i)),s};j.addGetterSetter(Rt,"threshold",0,Dt(),j.afterSetFilter);const K9=function(s){const e=this.noise()*255,i=s.data,r=i.length,c=e/2;for(let d=0;d<r;d+=4)i[d+0]+=c-2*c*Math.random(),i[d+1]+=c-2*c*Math.random(),i[d+2]+=c-2*c*Math.random()};j.addGetterSetter(Rt,"noise",.2,Dt(),j.afterSetFilter);const Z9=function(s){let e=Math.ceil(this.pixelSize()),i=s.width,r=s.height,c=Math.ceil(i/e),d=Math.ceil(r/e),h=s.data;if(e<=0){P.error("pixelSize value can not be <= 0");return}for(let v=0;v<c;v+=1)for(let y=0;y<d;y+=1){let b=0,_=0,E=0,T=0;const N=v*e,A=N+e,B=y*e,w=B+e;let U=0;for(let H=N;H<A;H+=1)if(!(H>=i))for(let L=B;L<w;L+=1){if(L>=r)continue;const z=(i*L+H)*4;b+=h[z+0],_+=h[z+1],E+=h[z+2],T+=h[z+3],U+=1}b=b/U,_=_/U,E=E/U,T=T/U;for(let H=N;H<A;H+=1)if(!(H>=i))for(let L=B;L<w;L+=1){if(L>=r)continue;const z=(i*L+H)*4;h[z+0]=b,h[z+1]=_,h[z+2]=E,h[z+3]=T}}};j.addGetterSetter(Rt,"pixelSize",8,Dt(),j.afterSetFilter);const J9=function(s){const e=Math.round(this.levels()*254)+1,i=s.data,r=i.length,c=255/e;for(let d=0;d<r;d+=1)i[d]=Math.floor(i[d]/c)*c};j.addGetterSetter(Rt,"levels",.5,Dt(),j.afterSetFilter);const F9=function(s){const e=s.data,i=e.length,r=this.red(),c=this.green(),d=this.blue();for(let h=0;h<i;h+=4){const v=(.34*e[h]+.5*e[h+1]+.16*e[h+2])/255;e[h]=v*r,e[h+1]=v*c,e[h+2]=v*d,e[h+3]=e[h+3]}};j.addGetterSetter(Rt,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});j.addGetterSetter(Rt,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});j.addGetterSetter(Rt,"blue",0,Dp,j.afterSetFilter);const I9=function(s){const e=s.data,i=e.length,r=this.red(),c=this.green(),d=this.blue(),h=this.alpha();for(let v=0;v<i;v+=4){const y=1-h;e[v]=r*h+e[v]*y,e[v+1]=c*h+e[v+1]*y,e[v+2]=d*h+e[v+2]*y}};j.addGetterSetter(Rt,"red",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});j.addGetterSetter(Rt,"green",0,function(s){return this._filterUpToDate=!1,s>255?255:s<0?0:Math.round(s)});j.addGetterSetter(Rt,"blue",0,Dp,j.afterSetFilter);j.addGetterSetter(Rt,"alpha",1,function(s){return this._filterUpToDate=!1,s>1?1:s<0?0:s});const k9=function(s){const e=s.data,i=e.length;for(let r=0;r<i;r+=4){const c=e[r+0],d=e[r+1],h=e[r+2];e[r+0]=Math.min(255,c*.393+d*.769+h*.189),e[r+1]=Math.min(255,c*.349+d*.686+h*.168),e[r+2]=Math.min(255,c*.272+d*.534+h*.131)}},W9=function(s){const i=s.data;for(let r=0;r<i.length;r+=4){const c=i[r],d=i[r+1],h=i[r+2];.2126*c+.7152*d+.0722*h>=128&&(i[r]=255-c,i[r+1]=255-d,i[r+2]=255-h)}return s},P9=function(s){const e=this.threshold()*255,i=s.data,r=i.length;for(let c=0;c<r;c+=1)i[c]=i[c]<e?0:255};j.addGetterSetter(Rt,"threshold",.5,Dt(),j.afterSetFilter);const ry=Gc.Util._assign(Gc,{Arc:nu,Arrow:uo,Circle:qc,Ellipse:lr,Image:Ui,Label:Rm,Tag:ro,Line:au,Path:oi,Rect:Pd,RegularPolygon:ir,Ring:oo,Sprite:Ss,Star:sr,Text:hn,TextPath:ta,Transformer:Ae,Wedge:lu,Filters:{Blur:T9,Brightness:M9,Brighten:A9,Contrast:R9,Emboss:N9,Enhance:D9,Grayscale:O9,HSL:z9,HSV:w9,Invert:H9,Kaleidoscope:U9,Mask:V9,Noise:K9,Pixelate:Z9,Posterize:J9,RGB:F9,RGBA:I9,Sepia:k9,Solarize:W9,Threshold:P9}});var G2={exports:{}},U2={exports:{}};var Dv;function $9(){return Dv||(Dv=1,(function(s){s.exports=function(e){function i(a,l,f,m){return new pf(a,l,f,m)}function r(){}function c(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function h(a){if(d(a)!==a)throw Error(c(188))}function v(a){var l=a.alternate;if(!l){if(l=d(a),l===null)throw Error(c(188));return l!==a?null:a}for(var f=a,m=l;;){var S=f.return;if(S===null)break;var x=S.alternate;if(x===null){if(m=S.return,m!==null){f=m;continue}break}if(S.child===x.child){for(x=S.child;x;){if(x===f)return h(S),a;if(x===m)return h(S),l;x=x.sibling}throw Error(c(188))}if(f.return!==m.return)f=S,m=x;else{for(var M=!1,X=S.child;X;){if(X===f){M=!0,f=S,m=x;break}if(X===m){M=!0,m=S,f=x;break}X=X.sibling}if(!M){for(X=x.child;X;){if(X===f){M=!0,f=x,m=S;break}if(X===m){M=!0,m=x,f=S;break}X=X.sibling}if(!M)throw Error(c(189))}}if(f.alternate!==m)throw Error(c(190))}if(f.tag!==3)throw Error(c(188));return f.stateNode.current===f?a:l}function y(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=y(a),l!==null)return l;a=a.sibling}return null}function b(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(a.tag!==4&&(l=b(a),l!==null))return l;a=a.sibling}return null}function _(a){return a===null||typeof a!="object"?null:(a=xi&&a[xi]||a["@@iterator"],typeof a=="function"?a:null)}function E(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ns?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case Bs:return"Fragment";case Us:return"Profiler";case Gs:return"StrictMode";case Io:return"Suspense";case bi:return"SuspenseList";case Hr:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case Hs:return"Portal";case ml:return a.displayName||"Context";case wr:return(a._context.displayName||"Context")+".Consumer";case Nu:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ko:return l=a.displayName||null,l!==null?l:E(a.type)||"Memo";case ba:l=a._payload,a=a._init;try{return E(a(l))}catch{}}return null}function T(a){return{current:a}}function N(a){0>Xs||(a.current=oc[Xs],oc[Xs]=null,Xs--)}function A(a,l){Xs++,oc[Xs]=a.current,a.current=l}function B(a){return a>>>=0,a===0?32:31-(cc(a)/v0|0)|0}function w(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function U(a,l,f){var m=a.pendingLanes;if(m===0)return 0;var S=0,x=a.suspendedLanes,M=a.pingedLanes;a=a.warmLanes;var X=m&134217727;return X!==0?(m=X&~x,m!==0?S=w(m):(M&=X,M!==0?S=w(M):f||(f=X&~a,f!==0&&(S=w(f))))):(X=m&~x,X!==0?S=w(X):M!==0?S=w(M):f||(f=m&~a,f!==0&&(S=w(f)))),S===0?0:l!==0&&l!==S&&(l&x)===0&&(x=S&-S,f=l&-l,x>=f||x===32&&(f&4194048)!==0)?l:S}function H(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function L(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function z(){var a=Gu;return Gu<<=1,(Gu&62914560)===0&&(Gu=4194304),a}function F(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function J(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Z(a,l,f,m,S,x){var M=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var X=a.entanglements,rt=a.expirationTimes,vt=a.hiddenUpdates;for(f=M&~f;0<f;){var Mt=31-Ba(f),bt=1<<Mt;X[Mt]=0,rt[Mt]=-1;var Gt=vt[Mt];if(Gt!==null)for(vt[Mt]=null,Mt=0;Mt<Gt.length;Mt++){var ne=Gt[Mt];ne!==null&&(ne.lane&=-536870913)}f&=~bt}m!==0&&it(a,m,0),x!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=x&~(M&~l))}function it(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-Ba(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|f&261930}function gt(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var m=31-Ba(f),S=1<<m;S&l|a[m]&l&&(a[m]|=l),f&=~S}}function _t(a,l){var f=l&-l;return f=(f&42)!==0?1:Nt(f),(f&(a.suspendedLanes|l))!==0?0:f}function Nt(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Tt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Ut(a){if(typeof nd=="function"&&S0(a),Ga&&typeof Ga.setStrictMode=="function")try{Ga.setStrictMode(Vs,a)}catch{}}function zt(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}function Ct(a){if(vc===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);vc=l&&l[1]||"",Wl=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vc+a+Wl}function D(a,l){if(!a||Qr)return"";Qr=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(ne){var Gt=ne}Reflect.construct(a,[],bt)}else{try{bt.call()}catch(ne){Gt=ne}a.call(bt.prototype)}}else{try{throw Error()}catch(ne){Gt=ne}(bt=a())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(ne){if(ne&&Gt&&typeof ne.stack=="string")return[ne.stack,Gt.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),M=x[0],X=x[1];if(M&&X){var rt=M.split(`
`),vt=X.split(`
`);for(S=m=0;m<rt.length&&!rt[m].includes("DetermineComponentFrameRoot");)m++;for(;S<vt.length&&!vt[S].includes("DetermineComponentFrameRoot");)S++;if(m===rt.length||S===vt.length)for(m=rt.length-1,S=vt.length-1;1<=m&&0<=S&&rt[m]!==vt[S];)S--;for(;1<=m&&0<=S;m--,S--)if(rt[m]!==vt[S]){if(m!==1||S!==1)do if(m--,S--,0>S||rt[m]!==vt[S]){var Mt=`
`+rt[m].replace(" at new "," at ");return a.displayName&&Mt.includes("<anonymous>")&&(Mt=Mt.replace("<anonymous>",a.displayName)),Mt}while(1<=m&&0<=S);break}}}finally{Qr=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?Ct(f):""}function Q(a,l){switch(a.tag){case 26:case 27:case 5:return Ct(a.type);case 16:return Ct("Lazy");case 13:return a.child!==l&&l!==null?Ct("Suspense Fallback"):Ct("Suspense");case 19:return Ct("SuspenseList");case 0:case 15:return D(a.type,!1);case 11:return D(a.type.render,!1);case 1:return D(a.type,!0);case 31:return Ct("Activity");default:return""}}function I(a){try{var l="",f=null;do l+=Q(a,f),f=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function at(a,l){if(typeof a=="object"&&a!==null){var f=ad.get(a);return f!==void 0?f:(l={value:a,source:l,stack:I(l)},ad.set(a,l),l)}return{value:a,source:l,stack:I(l)}}function ht(a,l){Ei[Pl++]=Vr,Ei[Pl++]=je,je=a,Vr=l}function O(a,l,f){pl[Pa++]=In,pl[Pa++]=Nl,pl[Pa++]=yl,yl=a;var m=In;a=Nl;var S=32-Ba(m)-1;m&=~(1<<S),f+=1;var x=32-Ba(l)+S;if(30<x){var M=S-S%5;x=(m&(1<<M)-1).toString(32),m>>=M,S-=M,In=1<<32-Ba(l)+S|f<<S|m,Nl=x+a}else In=1<<x|f<<S|m,Nl=a}function K(a){a.return!==null&&(ht(a,1),O(a,1,0))}function ct(a){for(;a===je;)je=Ei[--Pl],Ei[Pl]=null,Vr=Ei[--Pl],Ei[Pl]=null;for(;a===yl;)yl=pl[--Pa],pl[Pa]=null,Nl=pl[--Pa],pl[Pa]=null,In=pl[--Pa],pl[Pa]=null}function yt(a,l){pl[Pa++]=In,pl[Pa++]=Nl,pl[Pa++]=yl,In=l.id,Nl=l.overflow,yl=a}function Ht(a,l){A(kn,l),A(Ti,a),A(Vn,null),a=zh(l),N(Vn),A(Vn,a)}function At(){N(Vn),N(Ti),N(kn)}function kt(a){a.memoizedState!==null&&A(Kr,a);var l=Vn.current,f=zu(l,a.type);l!==f&&(A(Ti,a),A(Vn,f))}function Zt(a){Ti.current===a&&(N(Vn),N(Ti)),Kr.current===a&&(N(Kr),En?Ys._currentValue=Ls:Ys._currentValue2=Ls)}function Yt(a){var l=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ot(at(l,a)),pc}function te(a,l){if(!tn)throw Error(c(175));l0(a.stateNode,a.type,a.memoizedProps,l,a)||Yt(a,!0)}function _n(a){for(jn=a.return;jn;)switch(jn.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:jn=jn.return}}function he(a){if(!tn||a!==jn)return!1;if(!ge)return _n(a),ge=!0,!1;var l=a.tag;if(Un?l!==3&&l!==27&&(l!==5||Bu(a.type)&&!xa(a.type,a.memoizedProps))&&en&&Yt(a):l!==3&&(l!==5||Bu(a.type)&&!xa(a.type,a.memoizedProps))&&en&&Yt(a),_n(a),l===13){if(!tn)throw Error(c(316));if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));en=Kf(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(317));en=s0(a)}else en=Un&&l===27?kh(a.type,en):jn?Ih(a.stateNode):null;return!0}function $(){tn&&(en=jn=null,ge=!1)}function pt(){var a=$l;return a!==null&&(ja===null?ja=a:ja.push.apply(ja,a),$l=null),a}function Ot(a){$l===null?$l=[a]:$l.push(a)}function Bt(a,l,f){En?(A(Sl,l._currentValue),l._currentValue=f):(A(Sl,l._currentValue2),l._currentValue2=f)}function Vt(a){var l=Sl.current;En?a._currentValue=l:a._currentValue2=l,N(Sl)}function Re(a,l,f){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===f)break;a=a.return}}function Ye(a,l,f,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var x=S.dependencies;if(x!==null){var M=S.child;x=x.firstContext;t:for(;x!==null;){var X=x;x=S;for(var rt=0;rt<l.length;rt++)if(X.context===l[rt]){x.lanes|=f,X=x.alternate,X!==null&&(X.lanes|=f),Re(x.return,f,a),m||(M=null);break t}x=X.next}}else if(S.tag===18){if(M=S.return,M===null)throw Error(c(341));M.lanes|=f,x=M.alternate,x!==null&&(x.lanes|=f),Re(M,f,a),M=null}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===a){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}}function Ce(a,l,f,m){a=null;for(var S=l,x=!1;S!==null;){if(!x){if((S.flags&524288)!==0)x=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var M=S.alternate;if(M===null)throw Error(c(387));if(M=M.memoizedProps,M!==null){var X=S.type;An(S.pendingProps.value,M.value)||(a!==null?a.push(X):a=[X])}}else if(S===Kr.current){if(M=S.alternate,M===null)throw Error(c(387));M.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Ys):a=[Ys])}S=S.return}a!==null&&Ye(l,a,f,m),l.flags|=262144}function Ze(a){for(a=a.firstContext;a!==null;){var l=a.context;if(!An(En?l._currentValue:l._currentValue2,a.memoizedValue))return!0;a=a.next}return!1}function Ge(a){Qe=a,Dl=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kt(a){return ke(Qe,a)}function Qt(a,l){return Qe===null&&Ge(a),ke(a,l)}function ke(a,l){var f=En?l._currentValue:l._currentValue2;if(l={context:l,memoizedValue:f,next:null},Dl===null){if(a===null)throw Error(c(308));Dl=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Dl=Dl.next=l;return f}function Ra(){return{controller:new b0,data:new Map,refCount:0}}function Le(a){a.refCount--,a.refCount===0&&Kn(X1,function(){a.controller.abort()})}function Je(){}function mn(a){a!==ze&&a.next===null&&(ze===null?Zr=ze=a:ze=ze.next=a),bl=!0,oa||(oa=!0,na())}function ll(a,l){if(!yc&&bl){yc=!0;do for(var f=!1,m=Zr;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var x=0;else{var M=m.suspendedLanes,X=m.pingedLanes;x=(1<<31-Ba(42|a)+1)-1,x&=S&~(M&~X),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(f=!0,Ya(m,x))}else x=ve,x=U(m,m===oe?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==Ha),(x&3)===0||H(m,x)||(f=!0,Ya(m,x));m=m.next}while(f);yc=!1}}function da(){rr()}function rr(){bl=oa=!1;var a=0;us!==0&&js()&&(a=us);for(var l=ra(),f=null,m=Zr;m!==null;){var S=m.next,x=ji(m,l);x===0?(m.next=null,f===null?Zr=S:f.next=S,S===null&&(ze=f)):(f=m,(a!==0||(x&3)!==0)&&(bl=!0)),m=S}Bn!==0&&Bn!==5||ll(a),us!==0&&(us=0)}function ji(a,l){for(var f=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var M=31-Ba(x),X=1<<M,rt=S[M];rt===-1?((X&f)===0||(X&m)!==0)&&(S[M]=L(X,l)):rt<=l&&(a.expiredLanes|=X),x&=~X}if(l=oe,f=ve,f=U(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Ha),m=a.callbackNode,f===0||a===l&&(He===2||He===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&dc(m),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||H(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(m!==null&&dc(m),Tt(f)){case 2:case 8:f=y0;break;case 32:f=Xr;break;case 268435456:f=mc;break;default:f=Xr}return m=ea.bind(null,a),f=qr(f,m),a.callbackPriority=l,a.callbackNode=f,l}return m!==null&&m!==null&&dc(m),a.callbackPriority=2,a.callbackNode=null,2}function ea(a,l){if(Bn!==0&&Bn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(Fl()&&a.callbackNode!==f)return null;var m=ve;return m=U(a,a===oe?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==Ha),m===0?null:(Rl(a,m,l),ji(a,ra()),a.callbackNode!=null&&a.callbackNode===f?ea.bind(null,a):null)}function Ya(a,l){if(Fl())return null;Rl(a,l,!0)}function na(){Nf?Df(function(){(fe&6)!==0?qr(hc,da):rr()}):qr(hc,da)}function or(){if(us===0){var a=Ai;a===0&&(a=fc,fc<<=1,(fc&261888)===0&&(fc=256)),us=a}return us}function co(a,l){if(Uu===null){var f=Uu=[];ld=0,Ai=or(),Ln={status:"pending",value:void 0,then:function(m){f.push(m)}}}return ld++,l.then(fo,fo),l}function fo(){if(--ld===0&&Uu!==null){Ln!==null&&(Ln.status="fulfilled");var a=Uu;Uu=null,Ai=0,Ln=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function iu(a,l){var f=[],m={status:"pending",value:null,reason:null,then:function(S){f.push(S)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var S=0;S<f.length;S++)(0,f[S])(l)},function(S){for(m.status="rejected",m.reason=S,S=0;S<f.length;S++)(0,f[S])(void 0)}),m}function Li(){var a=rs.current;return a!==null?a:oe.pooledCache}function We(a,l){l===null?A(rs,rs.current):A(rs,l.pool)}function gn(){var a=Li();return a===null?null:{parent:En?nn._currentValue:nn._currentValue2,pool:a}}function Cn(a,l){if(An(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),m=Object.keys(l);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var S=f[m];if(!q1.call(l,S)||!An(a[S],l[S]))return!1}return!0}function ha(a){return a=a.status,a==="fulfilled"||a==="rejected"}function ma(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(Je,Je),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qa(a),a;default:if(typeof l.status=="string")l.then(Je,Je);else{if(a=oe,a!==null&&100<a.shellSuspendCounter)throw Error(c(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var S=l;S.status="fulfilled",S.value=m}},function(m){if(l.status==="pending"){var S=l;S.status="rejected",S.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,qa(a),a}throw Ca=l,Yn}}function vn(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Ca=f,Yn):f}}function ga(){if(Ca===null)throw Error(c(459));var a=Ca;return Ca=null,a}function qa(a){if(a===Yn||a===_l)throw Error(c(483))}function pn(a){var l=Ks;return Ks+=1,os===null&&(os=[]),ma(os,a,l)}function va(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function aa(a,l){throw l.$$typeof===ws?Error(c(525)):(a=Object.prototype.toString.call(l),Error(c(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Xa(a){function l(nt,W){if(a){var ut=nt.deletions;ut===null?(nt.deletions=[W],nt.flags|=16):ut.push(W)}}function f(nt,W){if(!a)return null;for(;W!==null;)l(nt,W),W=W.sibling;return null}function m(nt){for(var W=new Map;nt!==null;)nt.key!==null?W.set(nt.key,nt):W.set(nt.index,nt),nt=nt.sibling;return W}function S(nt,W){return nt=ka(nt,W),nt.index=0,nt.sibling=null,nt}function x(nt,W,ut){return nt.index=ut,a?(ut=nt.alternate,ut!==null?(ut=ut.index,ut<W?(nt.flags|=67108866,W):ut):(nt.flags|=67108866,W)):(nt.flags|=1048576,W)}function M(nt){return a&&nt.alternate===null&&(nt.flags|=67108866),nt}function X(nt,W,ut,Et){return W===null||W.tag!==6?(W=yf(ut,nt.mode,Et),W.return=nt,W):(W=S(W,ut),W.return=nt,W)}function rt(nt,W,ut,Et){var It=ut.type;return It===Bs?Mt(nt,W,ut.props.children,Et,ut.key):W!==null&&(W.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ba&&vn(It)===W.type)?(W=S(W,ut.props),va(W,ut),W.return=nt,W):(W=Si(ut.type,ut.key,ut.props,null,nt.mode,Et),va(W,ut),W.return=nt,W)}function vt(nt,W,ut,Et){return W===null||W.tag!==4||W.stateNode.containerInfo!==ut.containerInfo||W.stateNode.implementation!==ut.implementation?(W=bf(ut,nt.mode,Et),W.return=nt,W):(W=S(W,ut.children||[]),W.return=nt,W)}function Mt(nt,W,ut,Et,It){return W===null||W.tag!==7?(W=hl(ut,nt.mode,Et,It),W.return=nt,W):(W=S(W,ut),W.return=nt,W)}function bt(nt,W,ut){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return W=yf(""+W,nt.mode,ut),W.return=nt,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Il:return ut=Si(W.type,W.key,W.props,null,nt.mode,ut),va(ut,W),ut.return=nt,ut;case Hs:return W=bf(W,nt.mode,ut),W.return=nt,W;case ba:return W=vn(W),bt(nt,W,ut)}if(as(W)||_(W))return W=hl(W,nt.mode,ut,null),W.return=nt,W;if(typeof W.then=="function")return bt(nt,pn(W),ut);if(W.$$typeof===ml)return bt(nt,Qt(nt,W),ut);aa(nt,W)}return null}function Gt(nt,W,ut,Et){var It=W!==null?W.key:null;if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return It!==null?null:X(nt,W,""+ut,Et);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Il:return ut.key===It?rt(nt,W,ut,Et):null;case Hs:return ut.key===It?vt(nt,W,ut,Et):null;case ba:return ut=vn(ut),Gt(nt,W,ut,Et)}if(as(ut)||_(ut))return It!==null?null:Mt(nt,W,ut,Et,null);if(typeof ut.then=="function")return Gt(nt,W,pn(ut),Et);if(ut.$$typeof===ml)return Gt(nt,W,Qt(nt,ut),Et);aa(nt,ut)}return null}function ne(nt,W,ut,Et,It){if(typeof Et=="string"&&Et!==""||typeof Et=="number"||typeof Et=="bigint")return nt=nt.get(ut)||null,X(W,nt,""+Et,It);if(typeof Et=="object"&&Et!==null){switch(Et.$$typeof){case Il:return nt=nt.get(Et.key===null?ut:Et.key)||null,rt(W,nt,Et,It);case Hs:return nt=nt.get(Et.key===null?ut:Et.key)||null,vt(W,nt,Et,It);case ba:return Et=vn(Et),ne(nt,W,ut,Et,It)}if(as(Et)||_(Et))return nt=nt.get(ut)||null,Mt(W,nt,Et,It,null);if(typeof Et.then=="function")return ne(nt,W,ut,pn(Et),It);if(Et.$$typeof===ml)return ne(nt,W,ut,Qt(W,Et),It);aa(W,Et)}return null}function Zn(nt,W,ut,Et){for(var It=null,dn=null,Wt=W,xe=W=0,Jn=null;Wt!==null&&xe<ut.length;xe++){Wt.index>xe?(Jn=Wt,Wt=null):Jn=Wt.sibling;var Me=Gt(nt,Wt,ut[xe],Et);if(Me===null){Wt===null&&(Wt=Jn);break}a&&Wt&&Me.alternate===null&&l(nt,Wt),W=x(Me,W,xe),dn===null?It=Me:dn.sibling=Me,dn=Me,Wt=Jn}if(xe===ut.length)return f(nt,Wt),ge&&ht(nt,xe),It;if(Wt===null){for(;xe<ut.length;xe++)Wt=bt(nt,ut[xe],Et),Wt!==null&&(W=x(Wt,W,xe),dn===null?It=Wt:dn.sibling=Wt,dn=Wt);return ge&&ht(nt,xe),It}for(Wt=m(Wt);xe<ut.length;xe++)Jn=ne(Wt,nt,xe,ut[xe],Et),Jn!==null&&(a&&Jn.alternate!==null&&Wt.delete(Jn.key===null?xe:Jn.key),W=x(Jn,W,xe),dn===null?It=Jn:dn.sibling=Jn,dn=Jn);return a&&Wt.forEach(function(Tl){return l(nt,Tl)}),ge&&ht(nt,xe),It}function Ku(nt,W,ut,Et){if(ut==null)throw Error(c(151));for(var It=null,dn=null,Wt=W,xe=W=0,Jn=null,Me=ut.next();Wt!==null&&!Me.done;xe++,Me=ut.next()){Wt.index>xe?(Jn=Wt,Wt=null):Jn=Wt.sibling;var Tl=Gt(nt,Wt,Me.value,Et);if(Tl===null){Wt===null&&(Wt=Jn);break}a&&Wt&&Tl.alternate===null&&l(nt,Wt),W=x(Tl,W,xe),dn===null?It=Tl:dn.sibling=Tl,dn=Tl,Wt=Jn}if(Me.done)return f(nt,Wt),ge&&ht(nt,xe),It;if(Wt===null){for(;!Me.done;xe++,Me=ut.next())Me=bt(nt,Me.value,Et),Me!==null&&(W=x(Me,W,xe),dn===null?It=Me:dn.sibling=Me,dn=Me);return ge&&ht(nt,xe),It}for(Wt=m(Wt);!Me.done;xe++,Me=ut.next())Me=ne(Wt,nt,xe,Me.value,Et),Me!==null&&(a&&Me.alternate!==null&&Wt.delete(Me.key===null?xe:Me.key),W=x(Me,W,xe),dn===null?It=Me:dn.sibling=Me,dn=Me);return a&&Wt.forEach(function(Q1){return l(nt,Q1)}),ge&&ht(nt,xe),It}function ps(nt,W,ut,Et){if(typeof ut=="object"&&ut!==null&&ut.type===Bs&&ut.key===null&&(ut=ut.props.children),typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case Il:t:{for(var It=ut.key;W!==null;){if(W.key===It){if(It=ut.type,It===Bs){if(W.tag===7){f(nt,W.sibling),Et=S(W,ut.props.children),Et.return=nt,nt=Et;break t}}else if(W.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===ba&&vn(It)===W.type){f(nt,W.sibling),Et=S(W,ut.props),va(Et,ut),Et.return=nt,nt=Et;break t}f(nt,W);break}else l(nt,W);W=W.sibling}ut.type===Bs?(Et=hl(ut.props.children,nt.mode,Et,ut.key),Et.return=nt,nt=Et):(Et=Si(ut.type,ut.key,ut.props,null,nt.mode,Et),va(Et,ut),Et.return=nt,nt=Et)}return M(nt);case Hs:t:{for(It=ut.key;W!==null;){if(W.key===It)if(W.tag===4&&W.stateNode.containerInfo===ut.containerInfo&&W.stateNode.implementation===ut.implementation){f(nt,W.sibling),Et=S(W,ut.children||[]),Et.return=nt,nt=Et;break t}else{f(nt,W);break}else l(nt,W);W=W.sibling}Et=bf(ut,nt.mode,Et),Et.return=nt,nt=Et}return M(nt);case ba:return ut=vn(ut),ps(nt,W,ut,Et)}if(as(ut))return Zn(nt,W,ut,Et);if(_(ut)){if(It=_(ut),typeof It!="function")throw Error(c(150));return ut=It.call(ut),Ku(nt,W,ut,Et)}if(typeof ut.then=="function")return ps(nt,W,pn(ut),Et);if(ut.$$typeof===ml)return ps(nt,W,Qt(nt,ut),Et);aa(nt,ut)}return typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint"?(ut=""+ut,W!==null&&W.tag===6?(f(nt,W.sibling),Et=S(W,ut),Et.return=nt,nt=Et):(f(nt,W),Et=yf(ut,nt.mode,Et),Et.return=nt,nt=Et),M(nt)):f(nt,W)}return function(nt,W,ut,Et){try{Ks=0;var It=ps(nt,W,ut,Et);return os=null,It}catch(Wt){if(Wt===Yn||Wt===_l)throw Wt;var dn=i(29,Wt,null,nt.mode);return dn.lanes=Et,dn.return=nt,dn}}}function il(){for(var a=ei,l=Zs=ei=0;l<a;){var f=Pn[l];Pn[l++]=null;var m=Pn[l];Pn[l++]=null;var S=Pn[l];Pn[l++]=null;var x=Pn[l];if(Pn[l++]=null,m!==null&&S!==null){var M=m.pending;M===null?S.next=S:(S.next=M.next,M.next=S),m.pending=S}x!==0&&Va(f,S,x)}}function sl(a,l,f,m){Pn[ei++]=a,Pn[ei++]=l,Pn[ei++]=f,Pn[ei++]=m,Zs|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function Qa(a,l,f,m){return sl(a,l,f,m),Dn(a)}function Na(a,l){return sl(a,null,null,l),Dn(a)}function Va(a,l,f){a.lanes|=f;var m=a.alternate;m!==null&&(m.lanes|=f);for(var S=!1,x=a.return;x!==null;)x.childLanes|=f,m=x.alternate,m!==null&&(m.childLanes|=f),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(S=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,S&&l!==null&&(S=31-Ba(f),a=x.hiddenUpdates,m=a[S],m===null?a[S]=[l]:m.push(l),l.lane=f|536870912),x):null}function Dn(a){if(50<Ee)throw Ee=0,Pr=null,Error(c(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}function la(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yi(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Bl(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qi(a,l,f){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(fe&2)!==0){var S=m.pending;return S===null?l.next=l:(l.next=S.next,S.next=l),m.pending=l,l=Dn(a),Va(a,null,f),l}return sl(a,m,l,f),Dn(a)}function cr(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,gt(a,f)}}function ho(a,l){var f=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var S=null,x=null;if(f=f.firstBaseUpdate,f!==null){do{var M={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};x===null?S=x=M:x=x.next=M,f=f.next}while(f!==null);x===null?S=x=l:x=x.next=l}else S=x=l;f={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}function ci(){if(bc){var a=Ln;if(a!==null)throw a}}function bs(a,l,f,m){bc=!1;var S=a.updateQueue;$a=!1;var x=S.firstBaseUpdate,M=S.lastBaseUpdate,X=S.shared.pending;if(X!==null){S.shared.pending=null;var rt=X,vt=rt.next;rt.next=null,M===null?x=vt:M.next=vt,M=rt;var Mt=a.alternate;Mt!==null&&(Mt=Mt.updateQueue,X=Mt.lastBaseUpdate,X!==M&&(X===null?Mt.firstBaseUpdate=vt:X.next=vt,Mt.lastBaseUpdate=rt))}if(x!==null){var bt=S.baseState;M=0,Mt=vt=rt=null,X=x;do{var Gt=X.lane&-536870913,ne=Gt!==X.lane;if(ne?(ve&Gt)===Gt:(m&Gt)===Gt){Gt!==0&&Gt===Ai&&(bc=!0),Mt!==null&&(Mt=Mt.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});t:{var Zn=a,Ku=X;Gt=l;var ps=f;switch(Ku.tag){case 1:if(Zn=Ku.payload,typeof Zn=="function"){bt=Zn.call(ps,bt,Gt);break t}bt=Zn;break t;case 3:Zn.flags=Zn.flags&-65537|128;case 0:if(Zn=Ku.payload,Gt=typeof Zn=="function"?Zn.call(ps,bt,Gt):Zn,Gt==null)break t;bt=Fo({},bt,Gt);break t;case 2:$a=!0}}Gt=X.callback,Gt!==null&&(a.flags|=64,ne&&(a.flags|=8192),ne=S.callbacks,ne===null?S.callbacks=[Gt]:ne.push(Gt))}else ne={lane:Gt,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Mt===null?(vt=Mt=ne,rt=bt):Mt=Mt.next=ne,M|=Gt;if(X=X.next,X===null){if(X=S.shared.pending,X===null)break;ne=X,X=ne.next,ne.next=null,S.lastBaseUpdate=ne,S.shared.pending=null}}while(!0);Mt===null&&(rt=bt),S.baseState=rt,S.firstBaseUpdate=vt,S.lastBaseUpdate=Mt,x===null&&(S.shared.lanes=0),Ri|=M,a.lanes=M,a.memoizedState=bt}}function xs(a,l){if(typeof a!="function")throw Error(c(191,a));a.call(l)}function _s(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)xs(f[a],l)}function su(a,l){a=ai,A(cs,a),A(Js,l),ai=a|l.baseLanes}function Xi(){A(cs,ai),A(Js,Js.current)}function On(){ai=cs.current,N(Js),N(cs)}function fi(a){var l=a.alternate;A(Sn,Sn.current&1),A(Ua,a),Ea===null&&(l===null||Js.current!==null||l.memoizedState!==null)&&(Ea=a)}function mo(a){A(Sn,Sn.current),A(Ua,a),Ea===null&&(Ea=a)}function Qi(a){a.tag===22?(A(Sn,Sn.current),A(Ua,a),Ea===null&&(Ea=a)):Ka()}function Ka(){A(Sn,Sn.current),A(Ua,Ua.current)}function Za(a){N(Ua),Ea===a&&(Ea=null),N(Sn)}function fr(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||is(f)||nc(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ln(){throw Error(c(321))}function Xc(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!An(a[f],l[f]))return!1;return!0}function uu(a,l,f,m,S,x){return Mi=x,le=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Jt.H=a===null||a.memoizedState===null?on:ni,Se=!1,x=f(m,S),Se=!1,se&&(x=Gl(l,f,m,S)),dr(a),x}function dr(a){Jt.H=tl;var l=Xt!==null&&Xt.next!==null;if(Mi=0,ee=Xt=le=null,re=!1,Cl=0,Ol=null,l)throw Error(c(300));a===null||Fe||(a=a.dependencies,a!==null&&Ze(a)&&(Fe=!0))}function Gl(a,l,f,m){le=a;var S=0;do{if(se&&(Ol=null),Cl=0,se=!1,25<=S)throw Error(c(301));if(S+=1,ee=Xt=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}Jt.H=fs,x=l(f,m)}while(se);return x}function ul(){var a=Jt.H,l=a.useState()[0];return l=typeof l.then=="function"?sa(l):l,a=a.useState()[0],(Xt!==null?Xt.memoizedState:null)!==a&&(le.flags|=1024),l}function go(){var a=ca!==0;return ca=0,a}function Qc(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function hr(a){if(re){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}re=!1}Mi=0,ee=Xt=le=null,se=!1,Cl=ca=0,Ol=null}function ia(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ee===null?le.memoizedState=ee=a:ee=ee.next=a,ee}function Pe(){if(Xt===null){var a=le.alternate;a=a!==null?a.memoizedState:null}else a=Xt.next;var l=ee===null?le.memoizedState:ee.next;if(l!==null)ee=l,Xt=a;else{if(a===null)throw le.alternate===null?Error(c(467)):Error(c(310));Xt=a,a={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},ee===null?le.memoizedState=ee=a:ee=ee.next=a}return ee}function vo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sa(a){var l=Cl;return Cl+=1,Ol===null&&(Ol=[]),a=ma(Ol,a,l),l=le,(ee===null?l.memoizedState:ee.next)===null&&(l=l.alternate,Jt.H=l===null||l.memoizedState===null?on:ni),a}function ru(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return sa(a);if(a.$$typeof===ml)return Kt(a)}throw Error(c(438,String(a)))}function po(a){var l=null,f=le.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var m=le.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(S){return S.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=vo(),le.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),m=0;m<a;m++)f[m]=_f;return l.index++,f}function Ml(a,l){return typeof l=="function"?l(a):l}function di(a){var l=Pe();return yo(l,Xt,a)}function yo(a,l,f){var m=a.queue;if(m===null)throw Error(c(311));m.lastRenderedReducer=f;var S=a.baseQueue,x=m.pending;if(x!==null){if(S!==null){var M=S.next;S.next=x.next,x.next=M}l.baseQueue=S=x,m.pending=null}if(x=a.baseState,S===null)a.memoizedState=x;else{l=S.next;var X=M=null,rt=null,vt=l,Mt=!1;do{var bt=vt.lane&-536870913;if(bt!==vt.lane?(ve&bt)===bt:(Mi&bt)===bt){var Gt=vt.revertLane;if(Gt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),bt===Ai&&(Mt=!0);else if((Mi&Gt)===Gt){vt=vt.next,Gt===Ai&&(Mt=!0);continue}else bt={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},rt===null?(X=rt=bt,M=x):rt=rt.next=bt,le.lanes|=Gt,Ri|=Gt;bt=vt.action,Se&&f(x,bt),x=vt.hasEagerState?vt.eagerState:f(x,bt)}else Gt={lane:bt,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},rt===null?(X=rt=Gt,M=x):rt=rt.next=Gt,le.lanes|=bt,Ri|=bt;vt=vt.next}while(vt!==null&&vt!==l);if(rt===null?M=x:rt.next=X,!An(x,a.memoizedState)&&(Fe=!0,Mt&&(f=Ln,f!==null)))throw f;a.memoizedState=x,a.baseState=M,a.baseQueue=rt,m.lastRenderedState=x}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function So(a){var l=Pe(),f=l.queue;if(f===null)throw Error(c(311));f.lastRenderedReducer=a;var m=f.dispatch,S=f.pending,x=l.memoizedState;if(S!==null){f.pending=null;var M=S=S.next;do x=a(x,M.action),M=M.next;while(M!==S);An(x,l.memoizedState)||(Fe=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),f.lastRenderedState=x}return[x,m]}function Cs(a,l,f){var m=le,S=Pe(),x=ge;if(x){if(f===void 0)throw Error(c(407));f=f()}else f=l();var M=!An((Xt||S).memoizedState,f);if(M&&(S.memoizedState=f,Fe=!0),S=S.queue,fu(Kc.bind(null,m,S,a),[a]),S.getSnapshot!==l||M||ee!==null&&ee.memoizedState.tag&1){if(m.flags|=2048,Ja(9,{destroy:void 0},Vc.bind(null,m,S,f,l),null),oe===null)throw Error(c(349));x||(Mi&127)!==0||$d(m,l,f)}return f}function $d(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=le.updateQueue,l===null?(l=vo(),le.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function Vc(a,l,f,m){l.value=f,l.getSnapshot=m,bo(l)&&th(a)}function Kc(a,l,f){return f(function(){bo(l)&&th(a)})}function bo(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!An(a,f)}catch{return!0}}function th(a){var l=Na(a,2);l!==null&&un(l,a,2)}function Zc(a){var l=ia();if(typeof a=="function"){var f=a;if(a=f(),Se){Ut(!0);try{f()}finally{Ut(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:a},l}function mr(a,l,f,m){return a.baseState=f,yo(a,Xt,typeof m=="function"?m:Ml)}function hi(a,l,f,m,S){if(Ro(a))throw Error(c(485));if(a=l.action,a!==null){var x={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){x.listeners.push(M)}};Jt.T!==null?f(!0):x.isTransition=!1,m(x),f=l.pending,f===null?(x.next=l.pending=x,xo(l,x)):(x.next=f.next,l.pending=f.next=x)}}function xo(a,l){var f=l.action,m=l.payload,S=a.state;if(l.isTransition){var x=Jt.T,M={};Jt.T=M;try{var X=f(S,m),rt=Jt.S;rt!==null&&rt(M,X),_o(a,l,X)}catch(vt){Vi(a,l,vt)}finally{x!==null&&M.types!==null&&(x.types=M.types),Jt.T=x}}else try{x=f(S,m),_o(a,l,x)}catch(vt){Vi(a,l,vt)}}function _o(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(m){Es(a,l,m)},function(m){return Vi(a,l,m)}):Es(a,l,f)}function Es(a,l,f){l.status="fulfilled",l.value=f,Jc(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,xo(a,f)))}function Vi(a,l,f){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=f,Jc(l),l=l.next;while(l!==m)}a.action=null}function Jc(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Co(a,l){return l}function Fc(a,l){if(ge){var f=oe.formState;if(f!==null){t:{var m=le;if(ge){if(en){var S=Fh(en,_a);if(S){en=Ih(S),m=qf(S);break t}}Yt(m)}m=!1}m&&(l=f[0])}}f=ia(),f.memoizedState=f.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:l},f.queue=m,f=sh.bind(null,le,m),m.dispatch=f,m=Zc(!1);var x=Mo.bind(null,le,!1,m.queue);return m=ia(),S={state:l,dispatch:null,action:a,pending:null},m.queue=S,f=hi.bind(null,le,S,x,f),S.dispatch=f,m.memoizedState=a,[l,f,!1]}function ou(a){var l=Pe();return Ul(l,Xt,a)}function Ul(a,l,f){if(l=yo(a,l,Co)[0],a=di(Ml)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=sa(l)}catch(M){throw M===Yn?_l:M}else m=l;l=Pe();var S=l.queue,x=S.dispatch;return f!==l.memoizedState&&(le.flags|=2048,Ja(9,{destroy:void 0},Ic.bind(null,S,f),null)),[m,x,a]}function Ic(a,l){a.action=l}function cu(a){var l=Pe(),f=Xt;if(f!==null)return Ul(l,f,a);Pe(),l=l.memoizedState,f=Pe();var m=f.queue.dispatch;return f.memoizedState=a,[l,m,!1]}function Ja(a,l,f,m){return a={tag:a,create:f,deps:m,inst:l,next:null},l=le.updateQueue,l===null&&(l=vo(),le.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(m=f.next,f.next=a,a.next=m,l.lastEffect=a),a}function Eo(){return Pe().memoizedState}function Ts(a,l,f,m){var S=ia();le.flags|=a,S.memoizedState=Ja(1|l,{destroy:void 0},f,m===void 0?null:m)}function gr(a,l,f,m){var S=Pe();m=m===void 0?null:m;var x=S.memoizedState.inst;Xt!==null&&m!==null&&Xc(m,Xt.memoizedState.deps)?S.memoizedState=Ja(l,x,f,m):(le.flags|=a,S.memoizedState=Ja(1|l,x,f,m))}function vr(a,l){Ts(8390656,8,a,l)}function fu(a,l){gr(2048,8,a,l)}function eh(a){le.flags|=4;var l=le.updateQueue;if(l===null)l=vo(),le.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function pa(a){var l=Pe().memoizedState;return eh({ref:l,nextImpl:a}),function(){if((fe&2)!==0)throw Error(c(440));return l.impl.apply(void 0,arguments)}}function Ki(a,l){return gr(4,2,a,l)}function pr(a,l){return gr(4,4,a,l)}function du(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function nh(a,l,f){f=f!=null?f.concat([a]):null,gr(4,4,du.bind(null,l,a),f)}function yr(){}function To(a,l){var f=Pe();l=l===void 0?null:l;var m=f.memoizedState;return l!==null&&Xc(l,m[1])?m[0]:(f.memoizedState=[a,l],a)}function hu(a,l){var f=Pe();l=l===void 0?null:l;var m=f.memoizedState;if(l!==null&&Xc(l,m[1]))return m[0];if(m=a(),Se){Ut(!0);try{a()}finally{Ut(!1)}}return f.memoizedState=[m,l],m}function mu(a,l,f){return f===void 0||(Mi&1073741824)!==0&&(ve&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=vi(),le.lanes|=a,Ri|=a,f)}function kc(a,l,f,m){return An(f,l)?f:Js.current!==null?(a=mu(a,f,m),An(a,l)||(Fe=!0),a):(Mi&42)===0||(Mi&1073741824)!==0&&(ve&261930)===0?(Fe=!0,a.memoizedState=f):(a=vi(),le.lanes|=a,Ri|=a,l)}function ah(a,l,f,m,S){var x=gl();me(x!==0&&8>x?x:8);var M=Jt.T,X={};Jt.T=X,Mo(a,!1,l,f);try{var rt=S(),vt=Jt.S;if(vt!==null&&vt(X,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var Mt=iu(rt,m);Sr(a,l,Mt,$e(a))}else Sr(a,l,m,$e(a))}catch(bt){Sr(a,l,{then:function(){},status:"rejected",reason:bt},$e())}finally{me(x),M!==null&&X.types!==null&&(M.types=X.types),Jt.T=M}}function lh(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Ls,baseState:Ls,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:Ls},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Wc(){return Kt(Ys)}function Ao(){return Pe().memoizedState}function ih(){return Pe().memoizedState}function O1(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=$e();a=Bl(f);var m=qi(l,a,f);m!==null&&(un(m,l,f),cr(m,l,f)),l={cache:Ra()},a.payload=l;return}l=l.return}}function z1(a,l,f){var m=$e();f={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Ro(a)?uh(l,f):(f=Qa(a,l,f,m),f!==null&&(un(f,a,m),rh(f,l,m)))}function sh(a,l,f){var m=$e();Sr(a,l,f,m)}function Sr(a,l,f,m){var S={lane:m,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(Ro(a))uh(l,S);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var M=l.lastRenderedState,X=x(M,f);if(S.hasEagerState=!0,S.eagerState=X,An(X,M))return sl(a,l,S,0),oe===null&&il(),!1}catch{}if(f=Qa(a,l,S,m),f!==null)return un(f,a,m),rh(f,l,m),!0}return!1}function Mo(a,l,f,m){if(m={lane:2,revertLane:or(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ro(a)){if(l)throw Error(c(479))}else l=Qa(a,f,m,2),l!==null&&un(l,a,2)}function Ro(a){var l=a.alternate;return a===le||l!==null&&l===le}function uh(a,l){se=re=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function rh(a,l,f){if((f&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,f|=m,l.lanes=f,gt(a,f)}}function Pc(a,l,f,m){l=a.memoizedState,f=f(m,l),f=f==null?l:Fo({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}function No(a,l,f,m,S,x,M){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,M):l.prototype&&l.prototype.isPureReactComponent?!Cn(f,m)||!Cn(S,x):!0}function oh(a,l,f,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,m),l.state!==a&&Jr.enqueueReplaceState(l,l.state,null)}function As(a,l){var f=l;if("ref"in l){f={};for(var m in l)m!=="ref"&&(f[m]=l[m])}if(a=a.defaultProps){f===l&&(f=Fo({},f));for(var S in a)f[S]===void 0&&(f[S]=a[S])}return f}function Do(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function $c(a,l,f){try{var m=a.onCaughtError;m(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function tf(a,l,f){return f=Bl(f),f.tag=3,f.payload={element:null},f.callback=function(){Do(a,l)},f}function ch(a){return a=Bl(a),a.tag=3,a}function fh(a,l,f,m){var S=f.type.getDerivedStateFromError;if(typeof S=="function"){var x=m.value;a.payload=function(){return S(x)},a.callback=function(){$c(l,f,m)}}var M=f.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(a.callback=function(){$c(l,f,m),typeof S!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var X=m.stack;this.componentDidCatch(m.value,{componentStack:X!==null?X:""})})}function w1(a,l,f,m,S){if(f.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=f.alternate,l!==null&&Ce(l,f,S,!0),f=Ua.current,f!==null){switch(f.tag){case 31:case 13:return Ea===null?Tu():f.alternate===null&&fn===0&&(fn=3),f.flags&=-257,f.flags|=65536,f.lanes=S,m===ti?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([m]):l.add(m),Ru(a,m,S)),!1;case 22:return f.flags|=65536,m===ti?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([m]):f.add(m)),Ru(a,m,S)),!1}throw Error(c(435,f.tag))}return Ru(a,m,S),Tu(),!1}if(ge)return l=Ua.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=S,m!==pc&&(a=Error(c(422),{cause:m}),Ot(at(a,f)))):(m!==pc&&(l=Error(c(423),{cause:m}),Ot(at(l,f))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=at(m,f),S=tf(a.stateNode,m,S),ho(a,S),fn!==4&&(fn=2)),!1;var x=Error(c(520),{cause:m});if(x=at(x,f),Ir===null?Ir=[x]:Ir.push(x),fn!==4&&(fn=2),l===null)return!0;m=at(m,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=S&-S,f.lanes|=a,a=tf(f.stateNode,m,a),ho(f,a),!1;case 1:if(l=f.type,x=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ni===null||!Ni.has(x))))return f.flags|=65536,S&=-S,f.lanes|=S,S=ch(S),fh(S,a,f,m),ho(f,S),!1}f=f.return}while(f!==null);return!1}function Fn(a,l,f,m){l.child=a===null?id(l,null,f,m):Wn(l,a.child,f,m)}function dh(a,l,f,m,S){f=f.render;var x=l.ref;if("ref"in m){var M={};for(var X in m)X!=="ref"&&(M[X]=m[X])}else M=m;return Ge(l),m=uu(a,l,f,M,x,S),X=go(),a!==null&&!Fe?(Qc(a,l,S),jl(a,l,S)):(ge&&X&&K(l),l.flags|=1,Fn(a,l,m,S),l.child)}function hh(a,l,f,m,S){if(a===null){var x=f.type;return typeof x=="function"&&!Os(x)&&x.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=x,mh(a,l,x,m,S)):(a=Si(f.type,null,m,l,l.mode,S),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,!xr(a,S)){var M=x.memoizedProps;if(f=f.compare,f=f!==null?f:Cn,f(M,m)&&a.ref===l.ref)return jl(a,l,S)}return l.flags|=1,a=ka(x,m),a.ref=l.ref,a.return=l,l.child=a}function mh(a,l,f,m,S){if(a!==null){var x=a.memoizedProps;if(Cn(x,m)&&a.ref===l.ref)if(Fe=!1,l.pendingProps=m=x,xr(a,S))(a.flags&131072)!==0&&(Fe=!0);else return l.lanes=a.lanes,jl(a,l,S)}return zo(a,l,f,m,S)}function gh(a,l,f,m){var S=m.children,x=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(x=x!==null?x.baseLanes|f:f,a!==null){for(m=l.child=a.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~x}else m=0,l.child=null;return gu(a,l,x,f,m)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&We(l,x!==null?x.cachePool:null),x!==null?su(l,x):Xi(),Qi(l);else return m=l.lanes=536870912,gu(a,l,x!==null?x.baseLanes|f:f,f,m)}else x!==null?(We(l,x.cachePool),su(l,x),Ka(),l.memoizedState=null):(a!==null&&We(l,null),Xi(),Ka());return Fn(a,l,S,f),l.child}function Ms(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function gu(a,l,f,m,S){var x=Li();return x=x===null?null:{parent:En?nn._currentValue:nn._currentValue2,pool:x},l.memoizedState={baseLanes:f,cachePool:x},a!==null&&We(l,null),Xi(),Qi(l),a!==null&&Ce(a,l,m,!0),l.childLanes=S,null}function Oo(a,l){return l=Zi({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function ef(a,l,f){return Wn(l,a.child,null,f),a=Oo(l,l.pendingProps),a.flags|=2,Za(l),l.memoizedState=null,a}function vh(a,l,f){var m=l.pendingProps,S=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(ge){if(m.mode==="hidden")return a=Oo(l,m),l.lanes=536870912,Ms(null,a);if(mo(l),(a=en)?(a=Qf(a,_a),a!==null&&(l.memoizedState={dehydrated:a,treeContext:yl!==null?{id:In,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},f=Sf(a),f.return=l,l.child=f,jn=l,en=null)):a=null,a===null)throw Yt(l);return l.lanes=536870912,null}return Oo(l,m)}var x=a.memoizedState;if(x!==null){var M=x.dehydrated;if(mo(l),S)if(l.flags&256)l.flags&=-257,l=ef(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(c(558));else if(Fe||Ce(a,l,f,!1),S=(f&a.childLanes)!==0,Fe||S){if(m=oe,m!==null&&(M=_t(m,f),M!==0&&M!==x.retryLane))throw x.retryLane=M,Na(a,M),un(m,a,M),Ta;Tu(),l=ef(a,l,f)}else a=x.treeContext,tn&&(en=$h(M),jn=l,ge=!0,$l=null,_a=!1,a!==null&&yt(l,a)),l=Oo(l,m),l.flags|=4096;return l}return a=ka(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function br(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(c(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function zo(a,l,f,m,S){return Ge(l),f=uu(a,l,f,m,void 0,S),m=go(),a!==null&&!Fe?(Qc(a,l,S),jl(a,l,S)):(ge&&m&&K(l),l.flags|=1,Fn(a,l,f,S),l.child)}function nf(a,l,f,m,S,x){return Ge(l),l.updateQueue=null,f=Gl(l,m,f,S),dr(a),m=go(),a!==null&&!Fe?(Qc(a,l,x),jl(a,l,x)):(ge&&m&&K(l),l.flags|=1,Fn(a,l,f,x),l.child)}function Rs(a,l,f,m,S){if(Ge(l),l.stateNode===null){var x=kl,M=f.contextType;typeof M=="object"&&M!==null&&(x=Kt(M)),x=new f(m,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Jr,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=m,x.state=l.memoizedState,x.refs={},la(l),M=f.contextType,x.context=typeof M=="object"&&M!==null?Kt(M):kl,x.state=l.memoizedState,M=f.getDerivedStateFromProps,typeof M=="function"&&(Pc(l,f,M,m),x.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(M=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),M!==x.state&&Jr.enqueueReplaceState(x,x.state,null),bs(l,m,x,S),ci(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){x=l.stateNode;var X=l.memoizedProps,rt=As(f,X);x.props=rt;var vt=x.context,Mt=f.contextType;M=kl,typeof Mt=="object"&&Mt!==null&&(M=Kt(Mt));var bt=f.getDerivedStateFromProps;Mt=typeof bt=="function"||typeof x.getSnapshotBeforeUpdate=="function",X=l.pendingProps!==X,Mt||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(X||vt!==M)&&oh(l,x,m,M),$a=!1;var Gt=l.memoizedState;x.state=Gt,bs(l,m,x,S),ci(),vt=l.memoizedState,X||Gt!==vt||$a?(typeof bt=="function"&&(Pc(l,f,bt,m),vt=l.memoizedState),(rt=$a||No(l,f,rt,m,Gt,vt,M))?(Mt||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=vt),x.props=m,x.state=vt,x.context=M,m=rt):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{x=l.stateNode,Yi(a,l),M=l.memoizedProps,Mt=As(f,M),x.props=Mt,bt=l.pendingProps,Gt=x.context,vt=f.contextType,rt=kl,typeof vt=="object"&&vt!==null&&(rt=Kt(vt)),X=f.getDerivedStateFromProps,(vt=typeof X=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(M!==bt||Gt!==rt)&&oh(l,x,m,rt),$a=!1,Gt=l.memoizedState,x.state=Gt,bs(l,m,x,S),ci();var ne=l.memoizedState;M!==bt||Gt!==ne||$a||a!==null&&a.dependencies!==null&&Ze(a.dependencies)?(typeof X=="function"&&(Pc(l,f,X,m),ne=l.memoizedState),(Mt=$a||No(l,f,Mt,m,Gt,ne,rt)||a!==null&&a.dependencies!==null&&Ze(a.dependencies))?(vt||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,ne,rt),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,ne,rt)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||M===a.memoizedProps&&Gt===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Gt===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=ne),x.props=m,x.state=ne,x.context=rt,m=Mt):(typeof x.componentDidUpdate!="function"||M===a.memoizedProps&&Gt===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||M===a.memoizedProps&&Gt===a.memoizedState||(l.flags|=1024),m=!1)}return x=m,br(a,l),m=(l.flags&128)!==0,x||m?(x=l.stateNode,f=m&&typeof f.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,a!==null&&m?(l.child=Wn(l,a.child,null,S),l.child=Wn(l,null,f,S)):Fn(a,l,f,S),l.memoizedState=x.state,a=l.child):a=jl(a,l,S),a}function ph(a,l,f,m){return $(),l.flags|=256,Fn(a,l,f,m),l.child}function af(a){return{baseLanes:a,cachePool:gn()}}function lf(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Aa),a}function sf(a,l,f){var m=l.pendingProps,S=!1,x=(l.flags&128)!==0,M;if((M=x)||(M=a!==null&&a.memoizedState===null?!1:(Sn.current&2)!==0),M&&(S=!0,l.flags&=-129),M=(l.flags&32)!==0,l.flags&=-33,a===null){if(ge){if(S?fi(l):Ka(),(a=en)?(a=a0(a,_a),a!==null&&(l.memoizedState={dehydrated:a,treeContext:yl!==null?{id:In,overflow:Nl}:null,retryLane:536870912,hydrationErrors:null},f=Sf(a),f.return=l,l.child=f,jn=l,en=null)):a=null,a===null)throw Yt(l);return nc(a)?l.lanes=32:l.lanes=536870912,null}var X=m.children;return m=m.fallback,S?(Ka(),S=l.mode,X=Zi({mode:"hidden",children:X},S),m=hl(m,S,f,null),X.return=l,m.return=l,X.sibling=m,l.child=X,m=l.child,m.memoizedState=af(f),m.childLanes=lf(a,M,f),l.memoizedState=Fs,Ms(null,m)):(fi(l),wo(l,X))}var rt=a.memoizedState;if(rt!==null&&(X=rt.dehydrated,X!==null)){if(x)l.flags&256?(fi(l),l.flags&=-257,l=Ns(a,l,f)):l.memoizedState!==null?(Ka(),l.child=a.child,l.flags|=128,l=null):(Ka(),X=m.fallback,S=l.mode,m=Zi({mode:"visible",children:m.children},S),X=hl(X,S,f,null),X.flags|=2,m.return=l,X.return=l,m.sibling=X,l.child=m,Wn(l,a.child,null,f),m=l.child,m.memoizedState=af(f),m.childLanes=lf(a,M,f),l.memoizedState=Fs,l=Ms(null,m));else if(fi(l),nc(X))M=ac(X).digest,m=Error(c(419)),m.stack="",m.digest=M,Ot({value:m,source:null,stack:null}),l=Ns(a,l,f);else if(Fe||Ce(a,l,f,!1),M=(f&a.childLanes)!==0,Fe||M){if(M=oe,M!==null&&(m=_t(M,f),m!==0&&m!==rt.retryLane))throw rt.retryLane=m,Na(a,m),un(M,a,m),Ta;is(X)||Tu(),l=Ns(a,l,f)}else is(X)?(l.flags|=192,l.child=a.child,l=null):(a=rt.treeContext,tn&&(en=t0(X),jn=l,ge=!0,$l=null,_a=!1,a!==null&&yt(l,a)),l=wo(l,m.children),l.flags|=4096);return l}return S?(Ka(),X=m.fallback,S=l.mode,rt=a.child,x=rt.sibling,m=ka(rt,{mode:"hidden",children:m.children}),m.subtreeFlags=rt.subtreeFlags&65011712,x!==null?X=ka(x,X):(X=hl(X,S,f,null),X.flags|=2),X.return=l,m.return=l,m.sibling=X,l.child=m,Ms(null,m),m=l.child,X=a.child.memoizedState,X===null?X=af(f):(S=X.cachePool,S!==null?(rt=En?nn._currentValue:nn._currentValue2,S=S.parent!==rt?{parent:rt,pool:rt}:S):S=gn(),X={baseLanes:X.baseLanes|f,cachePool:S}),m.memoizedState=X,m.childLanes=lf(a,M,f),l.memoizedState=Fs,Ms(a.child,m)):(fi(l),f=a.child,a=f.sibling,f=ka(f,{mode:"visible",children:m.children}),f.return=l,f.sibling=null,a!==null&&(M=l.deletions,M===null?(l.deletions=[a],l.flags|=16):M.push(a)),l.child=f,l.memoizedState=null,f)}function wo(a,l){return l=Zi({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Zi(a,l){return a=i(22,a,null,l),a.lanes=0,a}function Ns(a,l,f){return Wn(l,a.child,null,f),a=wo(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function yh(a,l,f){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Re(a.return,l,f)}function vu(a,l,f,m,S,x){var M=a.memoizedState;M===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:S,treeForkCount:x}:(M.isBackwards=l,M.rendering=null,M.renderingStartTime=0,M.last=m,M.tail=f,M.tailMode=S,M.treeForkCount=x)}function uf(a,l,f){var m=l.pendingProps,S=m.revealOrder,x=m.tail;m=m.children;var M=Sn.current,X=(M&2)!==0;if(X?(M=M&1|2,l.flags|=128):M&=1,A(Sn,M),Fn(a,l,m,f),m=ge?Vr:0,!X&&a!==null&&(a.flags&128)!==0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&yh(a,f,l);else if(a.tag===19)yh(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(S){case"forwards":for(f=l.child,S=null;f!==null;)a=f.alternate,a!==null&&fr(a)===null&&(S=f),f=f.sibling;f=S,f===null?(S=l.child,l.child=null):(S=f.sibling,f.sibling=null),vu(l,!1,S,f,x,m);break;case"backwards":case"unstable_legacy-backwards":for(f=null,S=l.child,l.child=null;S!==null;){if(a=S.alternate,a!==null&&fr(a)===null){l.child=S;break}a=S.sibling,S.sibling=f,f=S,S=a}vu(l,!0,f,null,x,m);break;case"together":vu(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function jl(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),Ri|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Ce(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(c(153));if(l.child!==null){for(a=l.child,f=ka(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=ka(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function xr(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Ze(a)))}function rf(a,l,f){switch(l.tag){case 3:Ht(l,l.stateNode.containerInfo),Bt(l,nn,a.memoizedState.cache),$();break;case 27:case 5:kt(l);break;case 4:Ht(l,l.stateNode.containerInfo);break;case 10:Bt(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,mo(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(fi(l),l.flags|=128,null):(f&l.child.childLanes)!==0?sf(a,l,f):(fi(l),a=jl(a,l,f),a!==null?a.sibling:null);fi(l);break;case 19:var S=(a.flags&128)!==0;if(m=(f&l.childLanes)!==0,m||(Ce(a,l,f,!1),m=(f&l.childLanes)!==0),S){if(m)return uf(a,l,f);l.flags|=128}if(S=l.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),A(Sn,Sn.current),m)break;return null;case 22:return l.lanes=0,gh(a,l,f,l.pendingProps);case 24:Bt(l,nn,a.memoizedState.cache)}return jl(a,l,f)}function of(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)Fe=!0;else{if(!xr(a,f)&&(l.flags&128)===0)return Fe=!1,rf(a,l,f);Fe=(a.flags&131072)!==0}else Fe=!1,ge&&(l.flags&1048576)!==0&&O(l,Vr,l.index);switch(l.lanes=0,l.tag){case 16:t:{var m=l.pendingProps;if(a=vn(l.elementType),l.type=a,typeof a=="function")Os(a)?(m=As(a,m),l.tag=1,l=Rs(null,l,a,m,f)):(l.tag=0,l=zo(null,l,a,m,f));else{if(a!=null){var S=a.$$typeof;if(S===Nu){l.tag=11,l=dh(null,l,a,m,f);break t}else if(S===ko){l.tag=14,l=hh(null,l,a,m,f);break t}}throw l=E(a)||a,Error(c(306,l,""))}}return l;case 0:return zo(a,l,l.type,l.pendingProps,f);case 1:return m=l.type,S=As(m,l.pendingProps),Rs(a,l,m,S,f);case 3:t:{if(Ht(l,l.stateNode.containerInfo),a===null)throw Error(c(387));var x=l.pendingProps;S=l.memoizedState,m=S.element,Yi(a,l),bs(l,x,null,f);var M=l.memoizedState;if(x=M.cache,Bt(l,nn,x),x!==S.cache&&Ye(l,[nn],f,!0),ci(),x=M.element,tn&&S.isDehydrated)if(S={element:x,isDehydrated:!1,cache:M.cache},l.updateQueue.baseState=S,l.memoizedState=S,l.flags&256){l=ph(a,l,x,f);break t}else if(x!==m){m=at(Error(c(424)),l),Ot(m),l=ph(a,l,x,f);break t}else for(tn&&(en=Ph(l.stateNode.containerInfo),jn=l,ge=!0,$l=null,_a=!0),f=id(l,null,x,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if($(),x===m){l=jl(a,l,f);break t}Fn(a,l,x,f)}l=l.child}return l;case 26:if(vl)return br(a,l),a===null?(f=Ff(l.type,null,l.pendingProps,null))?l.memoizedState=f:ge||(l.stateNode=uc(l.type,l.pendingProps,kn.current,l)):l.memoizedState=Ff(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:if(Un)return kt(l),a===null&&Un&&ge&&(m=l.stateNode=rc(l.type,l.pendingProps,kn.current,Vn.current,!1),jn=l,_a=!0,en=Xf(l.type,m,en)),Fn(a,l,l.pendingProps.children,f),br(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&ge&&(d0(l.type,l.pendingProps,Vn.current),(S=m=en)&&(m=e0(m,l.type,l.pendingProps,_a),m!==null?(l.stateNode=m,jn=l,en=Wh(m),_a=!1,S=!0):S=!1),S||Yt(l)),kt(l),S=l.type,x=l.pendingProps,M=a!==null?a.memoizedProps:null,m=x.children,xa(S,x)?m=null:M!==null&&xa(S,M)&&(l.flags|=32),l.memoizedState!==null&&(S=uu(a,l,ul,null,null,f),En?Ys._currentValue=S:Ys._currentValue2=S),br(a,l),Fn(a,l,m,f),l.child;case 6:return a===null&&ge&&(Jf(l.pendingProps,Vn.current),(a=f=en)&&(f=n0(f,l.pendingProps,_a),f!==null?(l.stateNode=f,jn=l,en=null,a=!0):a=!1),a||Yt(l)),null;case 13:return sf(a,l,f);case 4:return Ht(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=Wn(l,null,m,f):Fn(a,l,m,f),l.child;case 11:return dh(a,l,l.type,l.pendingProps,f);case 7:return Fn(a,l,l.pendingProps,f),l.child;case 8:return Fn(a,l,l.pendingProps.children,f),l.child;case 12:return Fn(a,l,l.pendingProps.children,f),l.child;case 10:return m=l.pendingProps,Bt(l,l.type,m.value),Fn(a,l,m.children,f),l.child;case 9:return S=l.type._context,m=l.pendingProps.children,Ge(l),S=Kt(S),m=m(S),l.flags|=1,Fn(a,l,m,f),l.child;case 14:return hh(a,l,l.type,l.pendingProps,f);case 15:return mh(a,l,l.type,l.pendingProps,f);case 19:return uf(a,l,f);case 31:return vh(a,l,f);case 22:return gh(a,l,f,l.pendingProps);case 24:return Ge(l),m=Kt(nn),a===null?(S=Li(),S===null&&(S=oe,x=Ra(),S.pooledCache=x,x.refCount++,x!==null&&(S.pooledCacheLanes|=f),S=x),l.memoizedState={parent:m,cache:S},la(l),Bt(l,nn,S)):((a.lanes&f)!==0&&(Yi(a,l),bs(l,null,null,f),ci()),S=a.memoizedState,x=l.memoizedState,S.parent!==m?(S={parent:m,cache:m},l.memoizedState=S,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=S),Bt(l,nn,m)):(m=x.cache,Bt(l,nn,m),m!==S.cache&&Ye(l,[nn],f,!0))),Fn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(c(156,l.tag))}function rl(a){a.flags|=4}function _r(a){Wa&&(a.flags|=8)}function Sh(a,l){if(a!==null&&a.child===l.child)return!1;if((l.flags&16)!==0)return!0;for(a=l.child;a!==null;){if((a.flags&8218)!==0||(a.subtreeFlags&8218)!==0)return!0;a=a.sibling}return!1}function cf(a,l,f,m){if(ye)for(f=l.child;f!==null;){if(f.tag===5||f.tag===6)Gr(a,f.stateNode);else if(!(f.tag===4||Un&&f.tag===27)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}else if(Wa)for(var S=l.child;S!==null;){if(S.tag===5){var x=S.stateNode;f&&m&&(x=Jh(x,S.type,S.memoizedProps)),Gr(a,x)}else if(S.tag===6)x=S.stateNode,f&&m&&(x=Yf(x,S.memoizedProps)),Gr(a,x);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)x=S.child,x!==null&&(x.return=S),cf(a,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===l)break;for(;S.sibling===null;){if(S.return===null||S.return===l)return;S=S.return}S.sibling.return=S.return,S=S.sibling}}function bh(a,l,f,m){var S=!1;if(Wa)for(var x=l.child;x!==null;){if(x.tag===5){var M=x.stateNode;f&&m&&(M=Jh(M,x.type,x.memoizedProps)),jf(a,M)}else if(x.tag===6)M=x.stateNode,f&&m&&(M=Yf(M,x.memoizedProps)),jf(a,M);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)S=x.child,S!==null&&(S.return=x),bh(a,x,!0,!0),S=!0;else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===l)break;for(;x.sibling===null;){if(x.return===null||x.return===l)return S;x=x.return}x.sibling.return=x.return,x=x.sibling}return S}function xh(a,l){if(Wa&&Sh(a,l)){a=l.stateNode;var f=a.containerInfo,m=Uf();bh(m,l,!1,!1),a.pendingChildren=m,rl(l),Zh(f,m)}}function ff(a,l,f,m){if(ye)a.memoizedProps!==m&&rl(l);else if(Wa){var S=a.stateNode,x=a.memoizedProps;if((a=Sh(a,l))||x!==m){var M=Vn.current;x=Kh(S,f,x,m,!a,null),x===S?l.stateNode=S:(_r(l),wa(x,f,m,M)&&rl(l),l.stateNode=x,a&&cf(x,l,!1,!1))}else l.stateNode=S}}function ya(a,l,f,m,S){if((a.mode&32)!==0&&(f===null?Ur(l,m):Hu(l,f,m))){if(a.flags|=16777216,(S&335544128)===S||Af(l,m))if(rn(a.stateNode,l,m))a.flags|=8192;else if(pe())a.flags|=8192;else throw Ca=ti,Sc}else a.flags&=-16777217}function pu(a,l){if(Pf(l)){if(a.flags|=16777216,!$f(l))if(pe())a.flags|=8192;else throw Ca=ti,Sc}else a.flags&=-16777217}function Cr(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?z():536870912,a.lanes|=l,Qu|=l)}function yu(a,l){if(!ge)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function qe(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,m=0;if(l)for(var S=a.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)f|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=f,l}function _h(a,l,f){var m=l.pendingProps;switch(ct(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(l),null;case 1:return qe(l),null;case 3:return f=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Vt(nn),At(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(he(l)?rl(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,pt())),xh(a,l),qe(l),null;case 26:if(vl){var S=l.type,x=l.memoizedState;return a===null?(rl(l),x!==null?(qe(l),pu(l,x)):(qe(l),ya(l,S,null,m,f))):x?x!==a.memoizedState?(rl(l),qe(l),pu(l,x)):(qe(l),l.flags&=-16777217):(x=a.memoizedProps,ye?x!==m&&rl(l):ff(a,l,S,m),qe(l),ya(l,S,x,m,f)),null}case 27:if(Un){if(Zt(l),f=kn.current,S=l.type,a!==null&&l.stateNode!=null)ye?a.memoizedProps!==m&&rl(l):ff(a,l,S,m);else{if(!m){if(l.stateNode===null)throw Error(c(166));return qe(l),null}a=Vn.current,he(l)?te(l,a):(a=rc(S,m,f,a,!0),l.stateNode=a,rl(l))}return qe(l),null}case 5:if(Zt(l),S=l.type,a!==null&&l.stateNode!=null)ff(a,l,S,m);else{if(!m){if(l.stateNode===null)throw Error(c(166));return qe(l),null}if(x=Vn.current,he(l))te(l,x),o0(l.stateNode,S,m,x)&&(l.flags|=64);else{var M=Ef(S,m,kn.current,x,l);_r(l),cf(M,l,!1,!1),l.stateNode=M,wa(M,S,m,x)&&rl(l)}}return qe(l),ya(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)f=a.memoizedProps,ye?f!==m&&rl(l):Wa&&(f!==m?(a=kn.current,f=Vn.current,_r(l),l.stateNode=_i(m,a,f,l)):l.stateNode=a.stateNode);else{if(typeof m!="string"&&l.stateNode===null)throw Error(c(166));if(a=kn.current,f=Vn.current,he(l)){if(!tn)throw Error(c(176));if(a=l.stateNode,f=l.memoizedProps,m=null,S=jn,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}j1(a,f,l,m)||Yt(l,!0)}else _r(l),l.stateNode=_i(m,a,f,l)}return qe(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(m=he(l),f!==null){if(a===null){if(!m)throw Error(c(318));if(!tn)throw Error(c(556));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(c(557));Vf(a,l)}else $(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qe(l),a=!1}else f=pt(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Za(l),l):(Za(l),null);if((l.flags&128)!==0)throw Error(c(558))}return qe(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=he(l),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(c(318));if(!tn)throw Error(c(344));if(S=l.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(c(317));i0(S,l)}else $(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;qe(l),S=!1}else S=pt(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return l.flags&256?(Za(l),l):(Za(l),null)}return Za(l),(l.flags&128)!==0?(l.lanes=f,l):(f=m!==null,a=a!==null&&a.memoizedState!==null,f&&(m=l.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==S&&(m.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),Cr(l,l.updateQueue),qe(l),null);case 4:return At(),xh(a,l),a===null&&Ue(l.stateNode.containerInfo),qe(l),null;case 10:return Vt(l.type),qe(l),null;case 19:if(N(Sn),m=l.memoizedState,m===null)return qe(l),null;if(S=(l.flags&128)!==0,x=m.rendering,x===null)if(S)yu(m,!1);else{if(fn!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(x=fr(a),x!==null){for(l.flags|=128,yu(m,!1),a=x.updateQueue,l.updateQueue=a,Cr(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)Ko(f,a),f=f.sibling;return A(Sn,Sn.current&1|2),ge&&ht(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&ra()>vs&&(l.flags|=128,S=!0,yu(m,!1),l.lanes=4194304)}else{if(!S)if(a=fr(x),a!==null){if(l.flags|=128,S=!0,a=a.updateQueue,l.updateQueue=a,Cr(l,a),yu(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!ge)return qe(l),null}else 2*ra()-m.renderingStartTime>vs&&f!==536870912&&(l.flags|=128,S=!0,yu(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(a=m.last,a!==null?a.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ra(),a.sibling=null,f=Sn.current,A(Sn,S?f&1|2:f&1),ge&&ht(l,m.treeForkCount),a):(qe(l),null);case 22:case 23:return Za(l),On(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(f&536870912)!==0&&(l.flags&128)===0&&(qe(l),l.subtreeFlags&6&&(l.flags|=8192)):qe(l),f=l.updateQueue,f!==null&&Cr(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048),a!==null&&N(rs),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),Vt(nn),qe(l),null;case 25:return null;case 30:return null}throw Error(c(156,l.tag))}function df(a,l){switch(ct(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return Vt(nn),At(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Zt(l),null;case 31:if(l.memoizedState!==null){if(Za(l),l.alternate===null)throw Error(c(340));$()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Za(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(c(340));$()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return N(Sn),null;case 4:return At(),null;case 10:return Vt(l.type),null;case 22:case 23:return Za(l),On(),a!==null&&N(rs),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return Vt(nn),null;case 25:return null;default:return null}}function Ch(a,l){switch(ct(l),l.tag){case 3:Vt(nn),At();break;case 26:case 27:case 5:Zt(l);break;case 4:At();break;case 31:l.memoizedState!==null&&Za(l);break;case 13:Za(l);break;case 19:N(Sn);break;case 10:Vt(l.type);break;case 22:case 23:Za(l),On(),a!==null&&N(rs);break;case 24:Vt(nn)}}function Ll(a,l){try{var f=l.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var S=m.next;f=S;do{if((f.tag&a)===a){m=void 0;var x=f.create,M=f.inst;m=x(),M.destroy=m}f=f.next}while(f!==S)}}catch(X){$t(l,l.return,X)}}function Yl(a,l,f){try{var m=l.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var x=S.next;m=x;do{if((m.tag&a)===a){var M=m.inst,X=M.destroy;if(X!==void 0){M.destroy=void 0,S=l;var rt=f,vt=X;try{vt()}catch(Mt){$t(S,rt,Mt)}}}m=m.next}while(m!==x)}}catch(Mt){$t(l,l.return,Mt)}}function Su(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{_s(l,f)}catch(m){$t(a,a.return,m)}}}function Ho(a,l,f){f.props=As(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(m){$t(a,l,m)}}function bu(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var m=Ou(a.stateNode);break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof f=="function"?a.refCleanup=f(m):f.current=m}}catch(S){$t(a,l,S)}}function ua(a,l){var f=a.ref,m=a.refCleanup;if(f!==null)if(typeof m=="function")try{m()}catch(S){$t(a,l,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(S){$t(a,l,S)}else f.current=null}function Ds(a){var l=a.type,f=a.memoizedProps,m=a.stateNode;try{Uh(m,l,f,a)}catch(S){$t(a,a.return,S)}}function Er(a,l,f){try{jh(a.stateNode,a.type,f,l,a)}catch(m){$t(a,a.return,m)}}function hf(a){return a.tag===5||a.tag===3||(vl?a.tag===26:!1)||(Un?a.tag===27&&qs(a.type):!1)||a.tag===4}function mi(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||hf(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(Un&&a.tag===27&&qs(a.type)||a.flags&2||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Bo(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?Yh(f,a,l):wf(f,a);else if(m!==4&&(Un&&m===27&&qs(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(Bo(a,l,f),a=a.sibling;a!==null;)Bo(a,l,f),a=a.sibling}function Tr(a,l,f){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?Lh(f,a,l):zf(f,a);else if(m!==4&&(Un&&m===27&&qs(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(Tr(a,l,f),a=a.sibling;a!==null;)Tr(a,l,f),a=a.sibling}function mf(a,l,f){a=a.containerInfo;try{Lf(a,f)}catch(m){$t(l,l.return,m)}}function Eh(a){var l=a.stateNode,f=a.memoizedProps;try{wn(a.type,f,l,a)}catch(m){$t(a,a.return,m)}}function H1(a,l){for(Wo(a.containerInfo),Mn=l;Mn!==null;)if(a=Mn,l=a.child,(a.subtreeFlags&1028)!==0&&l!==null)l.return=a,Mn=l;else for(;Mn!==null;){a=Mn;var f=a.alternate;switch(l=a.flags,a.tag){case 0:if((l&4)!==0&&(l=a.updateQueue,l=l!==null?l.events:null,l!==null))for(var m=0;m<l.length;m++){var S=l[m];S.ref.impl=S.nextImpl}break;case 11:case 15:break;case 1:if((l&1024)!==0&&f!==null){l=void 0,m=a,S=f.memoizedProps,f=f.memoizedState;var x=m.stateNode;try{var M=As(m.type,S);l=x.getSnapshotBeforeUpdate(M,f),x.__reactInternalSnapshotBeforeUpdate=l}catch(X){$t(m,m.return,X)}}break;case 3:(l&1024)!==0&&ye&&Gf(a.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(c(163))}if(l=a.sibling,l!==null){l.return=a.return,Mn=l;break}Mn=a.return}}function Th(a,l,f){var m=f.flags;switch(f.tag){case 0:case 11:case 15:Sa(a,f),m&4&&Ll(5,f);break;case 1:if(Sa(a,f),m&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(M){$t(f,f.return,M)}else{var S=As(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(S,l,a.__reactInternalSnapshotBeforeUpdate)}catch(M){$t(f,f.return,M)}}m&64&&Su(f),m&512&&bu(f,f.return);break;case 3:if(Sa(a,f),m&64&&(m=f.updateQueue,m!==null)){if(a=null,f.child!==null)switch(f.child.tag){case 27:case 5:a=Ou(f.child.stateNode);break;case 1:a=f.child.stateNode}try{_s(m,a)}catch(M){$t(f,f.return,M)}}break;case 27:Un&&l===null&&m&4&&Eh(f);case 26:case 5:if(Sa(a,f),l===null){if(m&4)Ds(f);else if(m&64){a=f.type,l=f.memoizedProps,S=f.stateNode;try{u0(S,a,l,f)}catch(M){$t(f,f.return,M)}}}m&512&&bu(f,f.return);break;case 12:Sa(a,f);break;case 31:Sa(a,f),m&4&&cl(a,f);break;case 13:Sa(a,f),m&4&&Mr(a,f),m&64&&(m=f.memoizedState,m!==null&&(m=m.dehydrated,m!==null&&(f=B1.bind(null,f),lc(m,f))));break;case 22:if(m=f.memoizedState!==null||bn,!m){l=l!==null&&l.memoizedState!==null||xn,S=bn;var x=xn;bn=m,(xn=l)&&!x?dl(a,f,(f.subtreeFlags&8772)!==0):Sa(a,f),bn=S,xn=x}break;case 30:break;default:Sa(a,f)}}function gf(a){var l=a.alternate;l!==null&&(a.alternate=null,gf(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Po(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function ol(a,l,f){for(f=f.child;f!==null;)Ar(a,l,f),f=f.sibling}function Ar(a,l,f){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(Vs,f)}catch{}switch(f.tag){case 26:if(vl){xn||ua(f,l),ol(a,l,f),f.memoizedState?ss(f.memoizedState):f.stateNode&&Wf(f.stateNode);break}case 27:if(Un){xn||ua(f,l);var m=cn,S=Rn;qs(f.type)&&(cn=f.stateNode,Rn=!1),ol(a,l,f),Qn(f.stateNode),cn=m,Rn=S;break}case 5:xn||ua(f,l);case 6:if(ye){if(m=cn,S=Rn,cn=null,ol(a,l,f),cn=m,Rn=S,cn!==null)if(Rn)try{Hf(cn,f.stateNode)}catch(x){$t(f,l,x)}else try{qh(cn,f.stateNode)}catch(x){$t(f,l,x)}}else ol(a,l,f);break;case 18:ye&&cn!==null&&(Rn?ic(cn,f.stateNode):Zf(cn,f.stateNode));break;case 4:ye?(m=cn,S=Rn,cn=f.stateNode.containerInfo,Rn=!0,ol(a,l,f),cn=m,Rn=S):(Wa&&mf(f.stateNode,f,Uf()),ol(a,l,f));break;case 0:case 11:case 14:case 15:Yl(2,f,l),xn||Yl(4,f,l),ol(a,l,f);break;case 1:xn||(ua(f,l),m=f.stateNode,typeof m.componentWillUnmount=="function"&&Ho(f,l,m)),ol(a,l,f);break;case 21:ol(a,l,f);break;case 22:xn=(m=xn)||f.memoizedState!==null,ol(a,l,f),xn=m;break;default:ol(a,l,f)}}function cl(a,l){if(tn&&l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{L1(a)}catch(f){$t(l,l.return,f)}}}function Mr(a,l){if(tn&&l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Y1(a)}catch(f){$t(l,l.return,f)}}function fl(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new ud),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new ud),l;default:throw Error(c(435,a.tag))}}function gi(a,l){var f=fl(a);l.forEach(function(m){if(!f.has(m)){f.add(m);var S=G1.bind(null,a,m);m.then(S,S)}})}function qn(a,l){var f=l.deletions;if(f!==null)for(var m=0;m<f.length;m++){var S=f[m],x=a,M=l;if(ye){var X=M;t:for(;X!==null;){switch(X.tag){case 27:if(Un){if(qs(X.type)){cn=X.stateNode,Rn=!1;break t}break}case 5:cn=X.stateNode,Rn=!1;break t;case 3:case 4:cn=X.stateNode.containerInfo,Rn=!0;break t}X=X.return}if(cn===null)throw Error(c(160));Ar(x,M,S),cn=null,Rn=!1}else Ar(x,M,S);x=S.alternate,x!==null&&(x.return=null),S.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)Rr(l,a),l=l.sibling}function Rr(a,l){var f=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:qn(l,a),Xn(a),m&4&&(Yl(3,a,a.return),Ll(3,a),Yl(5,a,a.return));break;case 1:qn(l,a),Xn(a),m&512&&(xn||f===null||ua(f,f.return)),m&64&&bn&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?m:f.concat(m))));break;case 26:if(vl){var S=we;if(qn(l,a),Xn(a),m&512&&(xn||f===null||ua(f,f.return)),m&4){m=f!==null?f.memoizedState:null;var x=a.memoizedState;f===null?x===null?a.stateNode===null?a.stateNode=h0(S,a.type,a.memoizedProps,a):kf(S,a.type,a.stateNode):a.stateNode=If(S,x,a.memoizedProps):m!==x?(m===null?f.stateNode!==null&&Wf(f.stateNode):ss(m),x===null?kf(S,a.type,a.stateNode):If(S,x,a.memoizedProps)):x===null&&a.stateNode!==null&&Er(a,a.memoizedProps,f.memoizedProps)}break}case 27:if(Un){qn(l,a),Xn(a),m&512&&(xn||f===null||ua(f,f.return)),f!==null&&m&4&&Er(a,a.memoizedProps,f.memoizedProps);break}case 5:if(qn(l,a),Xn(a),m&512&&(xn||f===null||ua(f,f.return)),ye){if(a.flags&32){S=a.stateNode;try{Bf(S)}catch(bt){$t(a,a.return,bt)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,Er(a,S,f!==null?f.memoizedProps:S)),m&1024&&(ju=!0)}else Wa&&a.alternate!==null&&(a.alternate.stateNode=a.stateNode);break;case 6:if(qn(l,a),Xn(a),m&4&&ye){if(a.stateNode===null)throw Error(c(162));m=a.memoizedProps,f=f!==null?f.memoizedProps:m,S=a.stateNode;try{Gh(S,f,m)}catch(bt){$t(a,a.return,bt)}}break;case 3:if(vl?(m0(),S=we,we=Yr(l.containerInfo),qn(l,a),we=S):qn(l,a),Xn(a),m&4){if(ye&&tn&&f!==null&&f.memoizedState.isDehydrated)try{r0(l.containerInfo)}catch(bt){$t(a,a.return,bt)}if(Wa){m=l.containerInfo,f=l.pendingChildren;try{Lf(m,f)}catch(bt){$t(a,a.return,bt)}}}ju&&(ju=!1,Go(a));break;case 4:vl?(f=we,we=Yr(a.stateNode.containerInfo),qn(l,a),Xn(a),we=f):(qn(l,a),Xn(a)),m&4&&Wa&&mf(a.stateNode,a,a.stateNode.pendingChildren);break;case 12:qn(l,a),Xn(a);break;case 31:qn(l,a),Xn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,gi(a,m)));break;case 13:qn(l,a),Xn(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(kr=ra()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,gi(a,m)));break;case 22:S=a.memoizedState!==null;var M=f!==null&&f.memoizedState!==null,X=bn,rt=xn;if(bn=X||S,xn=rt||M,qn(l,a),xn=rt,bn=X,Xn(a),m&8192&&(l=a.stateNode,l._visibility=S?l._visibility&-2:l._visibility|1,S&&(f===null||M||bn||xn||Ji(a)),ye)){t:if(f=null,ye)for(l=a;;){if(l.tag===5||vl&&l.tag===26){if(f===null){M=f=l;try{x=M.stateNode,S?U1(x):Qh(M.stateNode,M.memoizedProps)}catch(bt){$t(M,M.return,bt)}}}else if(l.tag===6){if(f===null){M=l;try{var vt=M.stateNode;S?Xh(vt):Vh(vt,M.memoizedProps)}catch(bt){$t(M,M.return,bt)}}}else if(l.tag===18){if(f===null){M=l;try{var Mt=M.stateNode;S?c0(Mt):f0(M.stateNode)}catch(bt){$t(M,M.return,bt)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}}m&4&&(m=a.updateQueue,m!==null&&(f=m.retryQueue,f!==null&&(m.retryQueue=null,gi(a,f))));break;case 19:qn(l,a),Xn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,gi(a,m)));break;case 30:break;case 21:break;default:qn(l,a),Xn(a)}}function Xn(a){var l=a.flags;if(l&2){try{for(var f,m=a.return;m!==null;){if(hf(m)){f=m;break}m=m.return}if(ye){if(f==null)throw Error(c(160));switch(f.tag){case 27:if(Un){var S=f.stateNode,x=mi(a);Tr(a,x,S);break}case 5:var M=f.stateNode;f.flags&32&&(Bf(M),f.flags&=-33);var X=mi(a);Tr(a,X,M);break;case 3:case 4:var rt=f.stateNode.containerInfo,vt=mi(a);Bo(a,vt,rt);break;default:throw Error(c(161))}}}catch(Mt){$t(a,a.return,Mt)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function Go(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;Go(l),l.tag===5&&l.flags&1024&&Rf(l.stateNode),a=a.sibling}}function Sa(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Th(a,l.alternate,l),l=l.sibling}function Ji(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Yl(4,l,l.return),Ji(l);break;case 1:ua(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&Ho(l,l.return,f),Ji(l);break;case 27:Un&&Qn(l.stateNode);case 26:case 5:ua(l,l.return),Ji(l);break;case 22:l.memoizedState===null&&Ji(l);break;case 30:Ji(l);break;default:Ji(l)}a=a.sibling}}function dl(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,S=a,x=l,M=x.flags;switch(x.tag){case 0:case 11:case 15:dl(S,x,f),Ll(4,x);break;case 1:if(dl(S,x,f),m=x,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(vt){$t(m,m.return,vt)}if(m=x,S=m.updateQueue,S!==null){var X=m.stateNode;try{var rt=S.shared.hiddenCallbacks;if(rt!==null)for(S.shared.hiddenCallbacks=null,S=0;S<rt.length;S++)xs(rt[S],X)}catch(vt){$t(m,m.return,vt)}}f&&M&64&&Su(x),bu(x,x.return);break;case 27:Un&&Eh(x);case 26:case 5:dl(S,x,f),f&&m===null&&M&4&&Ds(x),bu(x,x.return);break;case 12:dl(S,x,f);break;case 31:dl(S,x,f),f&&M&4&&cl(S,x);break;case 13:dl(S,x,f),f&&M&4&&Mr(S,x);break;case 22:x.memoizedState===null&&dl(S,x,f),bu(x,x.return);break;case 30:break;default:dl(S,x,f)}l=l.sibling}}function Fi(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&Le(f))}function vf(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Le(a))}function sn(a,l,f,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Uo(a,l,f,m),l=l.sibling}function Uo(a,l,f,m){var S=l.flags;switch(l.tag){case 0:case 11:case 15:sn(a,l,f,m),S&2048&&Ll(9,l);break;case 1:sn(a,l,f,m);break;case 3:sn(a,l,f,m),S&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&Le(a)));break;case 12:if(S&2048){sn(a,l,f,m),a=l.stateNode;try{var x=l.memoizedProps,M=x.id,X=x.onPostCommit;typeof X=="function"&&X(M,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(rt){$t(l,l.return,rt)}}else sn(a,l,f,m);break;case 31:sn(a,l,f,m);break;case 13:sn(a,l,f,m);break;case 23:break;case 22:x=l.stateNode,M=l.alternate,l.memoizedState!==null?x._visibility&2?sn(a,l,f,m):xu(a,l):x._visibility&2?sn(a,l,f,m):(x._visibility|=2,Da(a,l,f,m,(l.subtreeFlags&10256)!==0||!1)),S&2048&&Fi(M,l);break;case 24:sn(a,l,f,m),S&2048&&vf(l.alternate,l);break;default:sn(a,l,f,m)}}function Da(a,l,f,m,S){for(S=S&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var x=a,M=l,X=f,rt=m,vt=M.flags;switch(M.tag){case 0:case 11:case 15:Da(x,M,X,rt,S),Ll(8,M);break;case 23:break;case 22:var Mt=M.stateNode;M.memoizedState!==null?Mt._visibility&2?Da(x,M,X,rt,S):xu(x,M):(Mt._visibility|=2,Da(x,M,X,rt,S)),S&&vt&2048&&Fi(M.alternate,M);break;case 24:Da(x,M,X,rt,S),S&&vt&2048&&vf(M.alternate,M);break;default:Da(x,M,X,rt,S)}l=l.sibling}}function xu(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,m=l,S=m.flags;switch(m.tag){case 22:xu(f,m),S&2048&&Fi(m.alternate,m);break;case 24:xu(f,m),S&2048&&vf(m.alternate,m);break;default:xu(f,m)}l=l.sibling}}function ql(a,l,f){if(a.subtreeFlags&el)for(a=a.child;a!==null;)Ii(a,l,f),a=a.sibling}function Ii(a,l,f){switch(a.tag){case 26:if(ql(a,l,f),a.flags&el)if(a.memoizedState!==null)g0(f,we,a.memoizedState,a.memoizedProps);else{var m=a.stateNode,S=a.type;a=a.memoizedProps,((l&335544128)===l||Af(S,a))&&$o(f,m,S,a)}break;case 5:ql(a,l,f),a.flags&el&&(m=a.stateNode,S=a.type,a=a.memoizedProps,((l&335544128)===l||Af(S,a))&&$o(f,m,S,a));break;case 3:case 4:vl?(m=we,we=Yr(a.stateNode.containerInfo),ql(a,l,f),we=m):ql(a,l,f);break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=el,el=16777216,ql(a,l,f),el=m):ql(a,l,f));break;default:ql(a,l,f)}}function jo(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function _u(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Mn=m,Fa(m,a)}jo(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Lo(a),a=a.sibling}function Lo(a){switch(a.tag){case 0:case 11:case 15:_u(a),a.flags&2048&&Yl(9,a,a.return);break;case 3:_u(a);break;case 12:_u(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Nr(a)):_u(a);break;default:_u(a)}}function Nr(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var m=l[f];Mn=m,Fa(m,a)}jo(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Yl(8,l,l.return),Nr(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,Nr(l));break;default:Nr(l)}a=a.sibling}}function Fa(a,l){for(;Mn!==null;){var f=Mn;switch(f.tag){case 0:case 11:case 15:Yl(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var m=f.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Le(f.memoizedState.cache)}if(m=f.child,m!==null)m.return=f,Mn=m;else t:for(f=a;Mn!==null;){m=Mn;var S=m.sibling,x=m.return;if(gf(m),m===f){Mn=null;break t}if(S!==null){S.return=x,Mn=S;break t}Mn=x}}}function ki(a){var l=ae(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(c(364));return l}if(a=Tn(a),a===null)throw Error(c(362));return a.stateNode.current}function Wi(a,l){var f=a.tag;switch(l.$$typeof){case El:if(a.type===l.value)return!0;break;case Yu:t:{for(l=l.value,a=[a,0],f=0;f<a.length;){var m=a[f++],S=m.tag,x=a[f++],M=l[x];if(S!==5&&S!==26&&S!==27||!ls(m)){for(;M!=null&&Wi(m,M);)x++,M=l[x];if(x===l.length){l=!0;break t}else for(m=m.child;m!==null;)a.push(m,x),m=m.sibling}}l=!1}return l;case qu:if((f===5||f===26||f===27)&&Of(a.stateNode,l.value))return!0;break;case ds:if((f===5||f===6||f===26||f===27)&&(a=jr(a),a!==null&&0<=a.indexOf(l.value)))return!0;break;case Fr:if((f===5||f===26||f===27)&&(a=a.memoizedProps["data-testname"],typeof a=="string"&&a.toLowerCase()===l.value.toLowerCase()))return!0;break;default:throw Error(c(365))}return!1}function Cu(a){switch(a.$$typeof){case El:return"<"+(E(a.value)||"Unknown")+">";case Yu:return":has("+(Cu(a)||"")+")";case qu:return'[role="'+a.value+'"]';case ds:return'"'+a.value+'"';case Fr:return'[data-testname="'+a.value+'"]';default:throw Error(c(365))}}function Eu(a,l){var f=[];a=[a,0];for(var m=0;m<a.length;){var S=a[m++],x=S.tag,M=a[m++],X=l[M];if(x!==5&&x!==26&&x!==27||!ls(S)){for(;X!=null&&Wi(S,X);)M++,X=l[M];if(M===l.length)f.push(S);else for(S=S.child;S!==null;)a.push(S,M),S=S.sibling}}return f}function Oa(a,l){if(!Gn)throw Error(c(363));a=ki(a),a=Eu(a,l),l=[],a=Array.from(a);for(var f=0;f<a.length;){var m=a[f++],S=m.tag;if(S===5||S===26||S===27)ls(m)||l.push(m.stateNode);else for(m=m.child;m!==null;)a.push(m),m=m.sibling}return l}function $e(){return(fe&2)!==0&&ve!==0?ve&-ve:Jt.T!==null?or():wu()}function vi(){if(Aa===0)if((ve&536870912)===0||ge){var a=Qs;Qs<<=1,(Qs&3932160)===0&&(Qs=262144),Aa=a}else Aa=536870912;return a=Ua.current,a!==null&&(a.flags|=32),Aa}function un(a,l,f){(a===oe&&(He===2||He===9)||a.cancelPendingCommit!==null)&&(yn(a,0),Ql(a,ve,Aa,!1)),J(a,f),((fe&2)===0||a!==oe)&&(a===oe&&((fe&2)===0&&(gs|=f),fn===4&&Ql(a,ve,Aa,!1)),mn(a))}function Rl(a,l,f){if((fe&6)!==0)throw Error(c(327));var m=!f&&(l&127)===0&&(l&a.expiredLanes)===0||H(a,l),S=m?Rh(a,l):Vl(a,l,!0),x=m;do{if(S===0){hs&&!m&&Ql(a,l,0,!1);break}else{if(f=a.current.alternate,x&&!Ah(f)){S=Vl(a,l,!1),x=!1;continue}if(S===2){if(x=l,a.errorRecoveryDisabledLanes&x)var M=0;else M=a.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){l=M;t:{var X=a;S=Ir;var rt=tn&&X.current.memoizedState.isDehydrated;if(rt&&(yn(X,M).flags|=256),M=Vl(X,M,!1),M!==2){if(ms&&!rt){X.errorRecoveryDisabledLanes|=x,gs|=x,S=4;break t}x=ja,ja=S,x!==null&&(ja===null?ja=x:ja.push.apply(ja,x))}S=M}if(x=!1,S!==2)continue}}if(S===1){yn(a,0),Ql(a,l,0,!0);break}t:{switch(m=a,x=S,x){case 0:case 1:throw Error(c(345));case 4:if((l&4194048)!==l)break;case 6:Ql(m,l,Aa,!zl);break t;case 2:ja=null;break;case 3:case 5:break;default:throw Error(c(329))}if((l&62914560)===l&&(S=kr+300-ra(),10<S)){if(Ql(m,l,Aa,!zl),U(m,0,!0)!==0)break t;li=l,m.timeoutHandle=Tf(Xl.bind(null,m,f,ja,Wr,xc,l,Aa,gs,Qu,zl,x,"Throttled",-0,0),S);break t}Xl(m,f,ja,Wr,xc,l,Aa,gs,Qu,zl,x,null,-0,0)}}break}while(!0);mn(a)}function Xl(a,l,f,m,S,x,M,X,rt,vt,Mt,bt,Gt,ne){if(a.timeoutHandle=Ha,bt=l.subtreeFlags,bt&8192||(bt&16785408)===16785408){bt=Mf(),Ii(l,x,bt);var Zn=(x&62914560)===x?kr-ra():(x&4194048)===x?ks-ra():0;if(Zn=Bh(bt,Zn),Zn!==null){li=x,a.cancelPendingCommit=Zn(Zl.bind(null,a,l,x,f,m,S,M,X,rt,Mt,bt,null,Gt,ne)),Ql(a,x,M,!vt);return}}Zl(a,l,x,f,m,S,M,X,rt)}function Ah(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var m=0;m<f.length;m++){var S=f[m],x=S.getSnapshot;S=S.value;try{if(!An(x(),S))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Ql(a,l,f,m){l&=~Xu,l&=~gs,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var S=l;0<S;){var x=31-Ba(S),M=1<<x;m[x]=-1,S&=~M}f!==0&&it(a,f,l)}function Yo(){return(fe&6)===0?(ll(0),!1):!0}function qo(){if(de!==null){if(He===0)var a=de.return;else a=de,Dl=Qe=null,hr(a),os=null,Ks=0,a=de;for(;a!==null;)Ch(a.alternate,a),a=a.return;de=null}}function yn(a,l){var f=a.timeoutHandle;f!==Ha&&(a.timeoutHandle=Ha,Hh(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),li=0,qo(),oe=a,de=f=ka(a.current,null),ve=l,He=0,Hn=null,zl=!1,hs=H(a,l),ms=!1,Qu=Aa=Xu=gs=Ri=fn=0,ja=Ir=null,xc=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var S=31-Ba(m),x=1<<S;l|=a[S],m&=~x}return ai=l,il(),f}function Xe(a,l){le=null,Jt.H=tl,l===Yn||l===_l?(l=ga(),He=3):l===Sc?(l=ga(),He=4):He=l===Ta?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Hn=l,de===null&&(fn=1,Do(a,at(l,a.current)))}function pe(){var a=Ua.current;return a===null?!0:(ve&4194048)===ve?Ea===null:(ve&62914560)===ve||(ve&536870912)!==0?a===Ea:!1}function pi(){var a=Jt.H;return Jt.H=tl,a===null?tl:a}function Ia(){var a=Jt.A;return Jt.A=Lu,a}function Tu(){fn=4,zl||(ve&4194048)!==ve&&Ua.current!==null||(hs=!0),(Ri&134217727)===0&&(gs&134217727)===0||oe===null||Ql(oe,ve,Aa,!1)}function Vl(a,l,f){var m=fe;fe|=2;var S=pi(),x=Ia();(oe!==a||ve!==l)&&(Wr=null,yn(a,l)),l=!1;var M=fn;t:do try{if(He!==0&&de!==null){var X=de,rt=Hn;switch(He){case 8:qo(),M=6;break t;case 3:case 2:case 9:case 6:Ua.current===null&&(l=!0);var vt=He;if(He=0,Hn=null,Kl(a,X,rt,vt),f&&hs){M=0;break t}break;default:vt=He,He=0,Hn=null,Kl(a,X,rt,vt)}}Mh(),M=fn;break}catch(Mt){Xe(a,Mt)}while(!0);return l&&a.shellSuspendCounter++,Dl=Qe=null,fe=m,Jt.H=S,Jt.A=x,de===null&&(oe=null,ve=0,il()),M}function Mh(){for(;de!==null;)Pi(de)}function Rh(a,l){var f=fe;fe|=2;var m=pi(),S=Ia();oe!==a||ve!==l?(Wr=null,vs=ra()+500,yn(a,l)):hs=H(a,l);t:do try{if(He!==0&&de!==null){l=de;var x=Hn;e:switch(He){case 1:He=0,Hn=null,Kl(a,l,x,1);break;case 2:case 9:if(ha(x)){He=0,Hn=null,Xo(l);break}l=function(){He!==2&&He!==9||oe!==a||(He=7),mn(a)},x.then(l,l);break t;case 3:He=7;break t;case 4:He=5;break t;case 7:ha(x)?(He=0,Hn=null,Xo(l)):(He=0,Hn=null,Kl(a,l,x,7));break;case 5:var M=null;switch(de.tag){case 26:M=de.memoizedState;case 5:case 27:var X=de,rt=X.type,vt=X.pendingProps;if(M?$f(M):rn(X.stateNode,rt,vt)){He=0,Hn=null;var Mt=X.sibling;if(Mt!==null)de=Mt;else{var bt=X.return;bt!==null?(de=bt,Mu(bt)):de=null}break e}}He=0,Hn=null,Kl(a,l,x,5);break;case 6:He=0,Hn=null,Kl(a,l,x,6);break;case 8:qo(),fn=6;break t;default:throw Error(c(462))}}Au();break}catch(Gt){Xe(a,Gt)}while(!0);return Dl=Qe=null,Jt.H=m,Jt.A=S,fe=f,de!==null?0:(oe=null,ve=0,il(),fn)}function Au(){for(;de!==null&&!p0();)Pi(de)}function Pi(a){var l=of(a.alternate,a,ai);a.memoizedProps=a.pendingProps,l===null?Mu(a):de=l}function Xo(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=nf(f,l,l.pendingProps,l.type,void 0,ve);break;case 11:l=nf(f,l,l.pendingProps,l.type.render,l.ref,ve);break;case 5:hr(l);default:Ch(f,l),l=de=Ko(l,ai),l=of(f,l,ai)}a.memoizedProps=a.pendingProps,l===null?Mu(a):de=l}function Kl(a,l,f,m){Dl=Qe=null,hr(l),os=null,Ks=0;var S=l.return;try{if(w1(a,S,l,f,ve)){fn=1,Do(a,at(f,a.current)),de=null;return}}catch(x){if(S!==null)throw de=S,x;fn=1,Do(a,at(f,a.current)),de=null;return}l.flags&32768?(ge||m===1?a=!0:hs||(ve&536870912)!==0?a=!1:(zl=a=!0,(m===2||m===9||m===3||m===6)&&(m=Ua.current,m!==null&&m.tag===13&&(m.flags|=16384))),$i(l,a)):Mu(l)}function Mu(a){var l=a;do{if((l.flags&32768)!==0){$i(l,zl);return}a=l.return;var f=_h(l.alternate,l,ai);if(f!==null){de=f;return}if(l=l.sibling,l!==null){de=l;return}de=l=a}while(l!==null);fn===0&&(fn=5)}function $i(a,l){do{var f=df(a.alternate,a);if(f!==null){f.flags&=32767,de=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){de=a;return}de=a=f}while(a!==null);fn=6,de=null}function Zl(a,l,f,m,S,x,M,X,rt){a.cancelPendingCommit=null;do Fl();while(Bn!==0);if((fe&6)!==0)throw Error(c(327));if(l!==null){if(l===a.current)throw Error(c(177));if(x=l.lanes|l.childLanes,x|=Zs,Z(a,f,x,M,X,rt),a===oe&&(de=oe=null,ve=0),Ws=l,Di=a,li=f,Vu=x,_c=S,rd=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,zn(Xr,function(){return Dr(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=Jt.T,Jt.T=null,S=gl(),me(2),M=fe,fe|=4;try{H1(a,l,f)}finally{fe=M,me(S),Jt.T=m}}Bn=1,yi(),Jl(),Qo()}}function yi(){if(Bn===1){Bn=0;var a=Di,l=Ws,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=Jt.T,Jt.T=null;var m=gl();me(2);var S=fe;fe|=4;try{Rr(l,a),wh(a.containerInfo)}finally{fe=S,me(m),Jt.T=f}}a.current=l,Bn=2}}function Jl(){if(Bn===2){Bn=0;var a=Di,l=Ws,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=Jt.T,Jt.T=null;var m=gl();me(2);var S=fe;fe|=4;try{Th(a,l.alternate,l)}finally{fe=S,me(m),Jt.T=f}}Bn=3}}function Qo(){if(Bn===4||Bn===3){Bn=0,ed();var a=Di,l=Ws,f=li,m=rd;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Bn=5:(Bn=0,Ws=Di=null,Vo(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(Ni=null),Tt(f),l=l.stateNode,Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(Vs,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=Jt.T,S=gl(),me(2),Jt.T=null;try{for(var x=a.onRecoverableError,M=0;M<m.length;M++){var X=m[M];x(X.value,{componentStack:X.stack})}}finally{Jt.T=l,me(S)}}(li&3)!==0&&Fl(),mn(a),S=a.pendingLanes,(f&261930)!==0&&(S&42)!==0?a===Pr?Ee++:(Ee=0,Pr=a):Ee=0,tn&&Lr(),ll(0)}}function Vo(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,Le(l)))}function Fl(){return yi(),Jl(),Qo(),Dr()}function Dr(){if(Bn!==5)return!1;var a=Di,l=Vu;Vu=0;var f=Tt(li),m=32>f?32:f;f=Jt.T;var S=gl();try{me(m),Jt.T=null,m=_c,_c=null;var x=Di,M=li;if(Bn=0,Ws=Di=null,li=0,(fe&6)!==0)throw Error(c(331));var X=fe;if(fe|=4,Lo(x.current),Uo(x,x.current,M,m),fe=X,ll(0,!1),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(Vs,x)}catch{}return!0}finally{me(S),Jt.T=f,Vo(a,l)}}function ts(a,l,f){l=at(f,l),l=tf(a.stateNode,l,2),a=qi(a,l,2),a!==null&&(J(a,2),mn(a))}function $t(a,l,f){if(a.tag===3)ts(a,a,f);else for(;l!==null;){if(l.tag===3){ts(l,a,f);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ni===null||!Ni.has(m))){a=at(f,a),f=ch(2),m=qi(l,f,2),m!==null&&(fh(f,m,l,a),J(m,2),mn(m));break}}l=l.return}}function Ru(a,l,f){var m=a.pingCache;if(m===null){m=a.pingCache=new nl;var S=new Set;m.set(l,S)}else S=m.get(l),S===void 0&&(S=new Set,m.set(l,S));S.has(f)||(ms=!0,S.add(f),a=Nh.bind(null,a,l,f),l.then(a,a))}function Nh(a,l,f){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,oe===a&&(ve&f)===f&&(fn===4||fn===3&&(ve&62914560)===ve&&300>ra()-kr?(fe&2)===0&&yn(a,0):Xu|=f,Qu===ve&&(Qu=0)),mn(a)}function Dh(a,l){l===0&&(l=z()),a=Na(a,l),a!==null&&(J(a,l),mn(a))}function B1(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),Dh(a,f)}function G1(a,l){var f=0;switch(a.tag){case 31:case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(f=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(c(314))}m!==null&&m.delete(l),Dh(a,f)}function zn(a,l){return qr(a,l)}function pf(a,l,f,m){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ka(a,l){var f=a.alternate;return f===null?(f=i(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function Ko(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Si(a,l,f,m,S,x){var M=0;if(m=a,typeof a=="function")Os(a)&&(M=1);else if(typeof a=="string")M=vl&&Un?sc(a,f,Vn.current)?26:td(a)?27:5:vl?sc(a,f,Vn.current)?26:5:Un&&td(a)?27:5;else t:switch(a){case Hr:return a=i(31,f,l,S),a.elementType=Hr,a.lanes=x,a;case Bs:return hl(f.children,S,x,l);case Gs:M=8,S|=24;break;case Us:return a=i(12,f,l,S|2),a.elementType=Us,a.lanes=x,a;case Io:return a=i(13,f,l,S),a.elementType=Io,a.lanes=x,a;case bi:return a=i(19,f,l,S),a.elementType=bi,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case ml:M=10;break t;case wr:M=9;break t;case Nu:M=11;break t;case ko:M=14;break t;case ba:M=16,m=null;break t}M=29,f=Error(c(130,a===null?"null":typeof a,"")),m=null}return l=i(M,f,l,S),l.elementType=a,l.type=m,l.lanes=x,l}function hl(a,l,f,m){return a=i(7,a,m,l),a.lanes=f,a}function yf(a,l,f){return a=i(6,a,null,l),a.lanes=f,a}function Sf(a){var l=i(18,null,null,0);return l.stateNode=a,l}function bf(a,l,f){return l=i(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function Oh(a,l,f,m,S,x,M,X,rt){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ha,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=F(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=F(0),this.hiddenUpdates=F(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=x,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function es(a,l,f,m,S,x,M,X,rt,vt,Mt,bt){return a=new Oh(a,l,f,M,rt,vt,Mt,bt,X),l=1,x===!0&&(l|=24),x=i(3,null,null,l),a.current=x,x.stateNode=a,l=Ra(),l.refCount++,a.pooledCache=l,l.refCount++,x.memoizedState={element:m,isDehydrated:f,cache:l},la(x),a}function Zo(a){return a?(a=kl,a):kl}function Or(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(c(188)):(a=Object.keys(a).join(","),Error(c(268,a)));return a=v(l),a=a!==null?y(a):null,a===null?null:Ou(a.stateNode)}function xf(a,l,f,m,S,x){S=Zo(S),m.context===null?m.context=S:m.pendingContext=S,m=Bl(l),m.payload={element:f},x=x===void 0?null:x,x!==null&&(m.callback=x),f=qi(a,m,l),f!==null&&(un(f,a,l),cr(f,a,l))}function zs(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function zr(a,l){zs(a,l),(a=a.alternate)&&zs(a,l)}var ue={},Jo=Jd(),za=sm(),Fo=Object.assign,ws=Symbol.for("react.element"),Il=Symbol.for("react.transitional.element"),Hs=Symbol.for("react.portal"),Bs=Symbol.for("react.fragment"),Gs=Symbol.for("react.strict_mode"),Us=Symbol.for("react.profiler"),wr=Symbol.for("react.consumer"),ml=Symbol.for("react.context"),Nu=Symbol.for("react.forward_ref"),Io=Symbol.for("react.suspense"),bi=Symbol.for("react.suspense_list"),ko=Symbol.for("react.memo"),ba=Symbol.for("react.lazy"),Hr=Symbol.for("react.activity"),_f=Symbol.for("react.memo_cache_sentinel"),xi=Symbol.iterator,ns=Symbol.for("react.client.reference"),as=Array.isArray,Jt=Jo.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cf=e.rendererVersion,Br=e.rendererPackageName,Du=e.extraDevToolsConfig,Ou=e.getPublicInstance,zh=e.getRootHostContext,zu=e.getChildHostContext,Wo=e.prepareForCommit,wh=e.resetAfterCommit,Ef=e.createInstance;e.cloneMutableInstance;var Gr=e.appendInitialChild,wa=e.finalizeInitialChildren,xa=e.shouldSetTextContent,_i=e.createTextInstance;e.cloneMutableTextInstance;var Tf=e.scheduleTimeout,Hh=e.cancelTimeout,Ha=e.noTimeout,En=e.isPrimaryRenderer;e.warnsIfNotActing;var ye=e.supportsMutation,Wa=e.supportsPersistence,tn=e.supportsHydration,ae=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Ue=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var me=e.setCurrentUpdatePriority,gl=e.getCurrentUpdatePriority,wu=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var js=e.shouldAttemptEagerTransition,Po=e.detachDeletedInstance;e.requestPostPaintCallback;var Ur=e.maySuspendCommit,Hu=e.maySuspendCommitOnUpdate,Af=e.maySuspendCommitInSyncRender,rn=e.preloadInstance,Mf=e.startSuspendingCommit,$o=e.suspendInstance;e.suspendOnActiveViewTransition;var Bh=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Ls=e.NotPendingTransition,Ys=e.HostTransitionContext,Rf=e.resetFormInstance;e.bindToConsole;var Nf=e.supportsMicrotasks,Df=e.scheduleMicrotask,Gn=e.supportsTestSelectors,Tn=e.findFiberRoot,tc=e.getBoundingRect,jr=e.getTextContent,ls=e.isHiddenSubtree,Of=e.matchAccessibilityRole,Ci=e.setFocusIfFocusable,ec=e.setupIntersectionObserver,zf=e.appendChild,wf=e.appendChildToContainer,Gh=e.commitTextUpdate,Uh=e.commitMount,jh=e.commitUpdate,Lh=e.insertBefore,Yh=e.insertInContainerBefore,qh=e.removeChild,Hf=e.removeChildFromContainer,Bf=e.resetTextContent,U1=e.hideInstance,Xh=e.hideTextInstance,Qh=e.unhideInstance,Vh=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Gf=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var Kh=e.cloneInstance,Uf=e.createContainerChildSet,jf=e.appendChildToContainerChildSet,Zh=e.finalizeContainerChildren,Lf=e.replaceContainerChildren,Jh=e.cloneHiddenInstance,Yf=e.cloneHiddenTextInstance,is=e.isSuspenseInstancePending,nc=e.isSuspenseInstanceFallback,ac=e.getSuspenseInstanceFallbackErrorDetails,lc=e.registerSuspenseInstanceRetry,Fh=e.canHydrateFormStateMarker,qf=e.isFormStateMarkerMatching,Ih=e.getNextHydratableSibling,kh=e.getNextHydratableSiblingAfterSingleton,Wh=e.getFirstHydratableChild,Ph=e.getFirstHydratableChildWithinContainer,$h=e.getFirstHydratableChildWithinActivityInstance,t0=e.getFirstHydratableChildWithinSuspenseInstance,Xf=e.getFirstHydratableChildWithinSingleton,e0=e.canHydrateInstance,n0=e.canHydrateTextInstance,Qf=e.canHydrateActivityInstance,a0=e.canHydrateSuspenseInstance,l0=e.hydrateInstance,j1=e.hydrateTextInstance,Vf=e.hydrateActivityInstance,i0=e.hydrateSuspenseInstance,s0=e.getNextHydratableInstanceAfterActivityInstance,Kf=e.getNextHydratableInstanceAfterSuspenseInstance,u0=e.commitHydratedInstance,r0=e.commitHydratedContainer,L1=e.commitHydratedActivityInstance,Y1=e.commitHydratedSuspenseInstance,o0=e.finalizeHydratedChildren,Lr=e.flushHydrationEvents;e.clearActivityBoundary;var Zf=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var ic=e.clearSuspenseBoundaryFromContainer,c0=e.hideDehydratedBoundary,f0=e.unhideDehydratedBoundary,Bu=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var d0=e.validateHydratableInstance,Jf=e.validateHydratableTextInstance,vl=e.supportsResources,sc=e.isHostHoistableType,Yr=e.getHoistableRoot,Ff=e.getResource,If=e.acquireResource,ss=e.releaseResource,h0=e.hydrateHoistable,kf=e.mountHoistable,Wf=e.unmountHoistable,uc=e.createHoistableInstance,m0=e.prepareToCommitHoistables,Pf=e.mayResourceSuspendCommit,$f=e.preloadResource,g0=e.suspendResource,Un=e.supportsSingletons,rc=e.resolveSingletonInstance,wn=e.acquireSingletonInstance,Qn=e.releaseSingletonInstance,td=e.isHostSingletonType,qs=e.isSingletonScope,oc=[],Xs=-1,kl={},Ba=Math.clz32?Math.clz32:B,cc=Math.log,v0=Math.LN2,fc=256,Qs=262144,Gu=4194304,qr=za.unstable_scheduleCallback,dc=za.unstable_cancelCallback,p0=za.unstable_shouldYield,ed=za.unstable_requestPaint,ra=za.unstable_now,hc=za.unstable_ImmediatePriority,y0=za.unstable_UserBlockingPriority,Xr=za.unstable_NormalPriority,mc=za.unstable_IdlePriority,nd=za.log,S0=za.unstable_setDisableYieldValue,Vs=null,Ga=null,An=typeof Object.is=="function"?Object.is:zt,gc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},q1=Object.prototype.hasOwnProperty,vc,Wl,Qr=!1,ad=new WeakMap,Ei=[],Pl=0,je=null,Vr=0,pl=[],Pa=0,yl=null,In=1,Nl="",Vn=T(null),Ti=T(null),kn=T(null),Kr=T(null),jn=null,en=null,ge=!1,$l=null,_a=!1,pc=Error(c(519)),Sl=T(null),Qe=null,Dl=null,b0=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},Kn=za.unstable_scheduleCallback,X1=za.unstable_NormalPriority,nn={$$typeof:ml,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Zr=null,ze=null,oa=!1,bl=!1,yc=!1,us=0,Uu=null,ld=0,Ai=0,Ln=null,xl=Jt.S;Jt.S=function(a,l){ks=ra(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&co(a,l),xl!==null&&xl(a,l)};var rs=T(null),Yn=Error(c(460)),Sc=Error(c(474)),_l=Error(c(542)),ti={then:function(){}},Ca=null,os=null,Ks=0,Wn=Xa(!0),id=Xa(!1),Pn=[],ei=0,Zs=0,$a=!1,bc=!1,Js=T(null),cs=T(0),Ua=T(null),Ea=null,Sn=T(0),Mi=0,le=null,Xt=null,ee=null,re=!1,se=!1,Se=!1,ca=0,Cl=0,Ol=null,sd=0,tl={readContext:Kt,use:ru,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};tl.useEffectEvent=ln;var on={readContext:Kt,use:ru,useCallback:function(a,l){return ia().memoizedState=[a,l===void 0?null:l],a},useContext:Kt,useEffect:vr,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Ts(4194308,4,du.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Ts(4194308,4,a,l)},useInsertionEffect:function(a,l){Ts(4,2,a,l)},useMemo:function(a,l){var f=ia();l=l===void 0?null:l;var m=a();if(Se){Ut(!0);try{a()}finally{Ut(!1)}}return f.memoizedState=[m,l],m},useReducer:function(a,l,f){var m=ia();if(f!==void 0){var S=f(l);if(Se){Ut(!0);try{f(l)}finally{Ut(!1)}}}else S=l;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=z1.bind(null,le,a),[m.memoizedState,a]},useRef:function(a){var l=ia();return a={current:a},l.memoizedState=a},useState:function(a){a=Zc(a);var l=a.queue,f=sh.bind(null,le,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:yr,useDeferredValue:function(a,l){var f=ia();return mu(f,a,l)},useTransition:function(){var a=Zc(!1);return a=ah.bind(null,le,a.queue,!0,!1),ia().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var m=le,S=ia();if(ge){if(f===void 0)throw Error(c(407));f=f()}else{if(f=l(),oe===null)throw Error(c(349));(ve&127)!==0||$d(m,l,f)}S.memoizedState=f;var x={value:f,getSnapshot:l};return S.queue=x,vr(Kc.bind(null,m,x,a),[a]),m.flags|=2048,Ja(9,{destroy:void 0},Vc.bind(null,m,x,f,l),null),f},useId:function(){var a=ia(),l=oe.identifierPrefix;if(ge){var f=Nl,m=In;f=(m&~(1<<32-Ba(m)-1)).toString(32)+f,l="_"+l+"R_"+f,f=ca++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=sd++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Wc,useFormState:Fc,useActionState:Fc,useOptimistic:function(a){var l=ia();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=Mo.bind(null,le,!0,f),f.dispatch=l,[a,l]},useMemoCache:po,useCacheRefresh:function(){return ia().memoizedState=O1.bind(null,le)},useEffectEvent:function(a){var l=ia(),f={impl:a};return l.memoizedState=f,function(){if((fe&2)!==0)throw Error(c(440));return f.impl.apply(void 0,arguments)}}},ni={readContext:Kt,use:ru,useCallback:To,useContext:Kt,useEffect:fu,useImperativeHandle:nh,useInsertionEffect:Ki,useLayoutEffect:pr,useMemo:hu,useReducer:di,useRef:Eo,useState:function(){return di(Ml)},useDebugValue:yr,useDeferredValue:function(a,l){var f=Pe();return kc(f,Xt.memoizedState,a,l)},useTransition:function(){var a=di(Ml)[0],l=Pe().memoizedState;return[typeof a=="boolean"?a:sa(a),l]},useSyncExternalStore:Cs,useId:Ao,useHostTransitionStatus:Wc,useFormState:ou,useActionState:ou,useOptimistic:function(a,l){var f=Pe();return mr(f,Xt,a,l)},useMemoCache:po,useCacheRefresh:ih};ni.useEffectEvent=pa;var fs={readContext:Kt,use:ru,useCallback:To,useContext:Kt,useEffect:fu,useImperativeHandle:nh,useInsertionEffect:Ki,useLayoutEffect:pr,useMemo:hu,useReducer:So,useRef:Eo,useState:function(){return So(Ml)},useDebugValue:yr,useDeferredValue:function(a,l){var f=Pe();return Xt===null?mu(f,a,l):kc(f,Xt.memoizedState,a,l)},useTransition:function(){var a=So(Ml)[0],l=Pe().memoizedState;return[typeof a=="boolean"?a:sa(a),l]},useSyncExternalStore:Cs,useId:Ao,useHostTransitionStatus:Wc,useFormState:cu,useActionState:cu,useOptimistic:function(a,l){var f=Pe();return Xt!==null?mr(f,Xt,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:po,useCacheRefresh:ih};fs.useEffectEvent=pa;var Jr={enqueueSetState:function(a,l,f){a=a._reactInternals;var m=$e(),S=Bl(m);S.payload=l,f!=null&&(S.callback=f),l=qi(a,S,m),l!==null&&(un(l,a,m),cr(l,a,m))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var m=$e(),S=Bl(m);S.tag=1,S.payload=l,f!=null&&(S.callback=f),l=qi(a,S,m),l!==null&&(un(l,a,m),cr(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=$e(),m=Bl(f);m.tag=2,l!=null&&(m.callback=l),l=qi(a,m,f),l!==null&&(un(l,a,f),cr(l,a,f))}},Ta=Error(c(461)),Fe=!1,Fs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},bn=!1,xn=!1,ju=!1,ud=typeof WeakSet=="function"?WeakSet:Set,Mn=null,cn=null,Rn=!1,we=null,el=8192,Lu={getCacheForType:function(a){var l=Kt(nn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return Kt(nn).controller.signal}},El=0,Yu=1,qu=2,Fr=3,ds=4;if(typeof Symbol=="function"&&Symbol.for){var Is=Symbol.for;El=Is("selector.component"),Yu=Is("selector.has_pseudo_class"),qu=Is("selector.role"),Fr=Is("selector.test_id"),ds=Is("selector.text")}var nl=typeof WeakMap=="function"?WeakMap:Map,fe=0,oe=null,de=null,ve=0,He=0,Hn=null,zl=!1,hs=!1,ms=!1,ai=0,fn=0,Ri=0,gs=0,Xu=0,Aa=0,Qu=0,Ir=null,ja=null,xc=!1,kr=0,ks=0,vs=1/0,Wr=null,Ni=null,Bn=0,Di=null,Ws=null,li=0,Vu=0,_c=null,rd=null,Ee=0,Pr=null;return ue.attemptContinuousHydration=function(a){if(a.tag===13||a.tag===31){var l=Na(a,67108864);l!==null&&un(l,a,67108864),zr(a,67108864)}},ue.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13||a.tag===31){var l=$e();l=Nt(l);var f=Na(a,l);f!==null&&un(f,a,l),zr(a,l)}},ue.attemptSynchronousHydration=function(a){switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=w(a.pendingLanes);if(l!==0){for(a.pendingLanes|=2,a.entangledLanes|=2;l;){var f=1<<31-Ba(l);a.entanglements[1]|=f,l&=~f}mn(a),(fe&6)===0&&(vs=ra()+500,ll(0))}}break;case 31:case 13:l=Na(a,2),l!==null&&un(l,a,2),Yo(),zr(a,2)}},ue.batchedUpdates=function(a,l){return a(l)},ue.createComponentSelector=function(a){return{$$typeof:El,value:a}},ue.createContainer=function(a,l,f,m,S,x,M,X,rt,vt){return es(a,l,!1,null,f,m,x,null,M,X,rt,vt)},ue.createHasPseudoClassSelector=function(a){return{$$typeof:Yu,value:a}},ue.createHydrationContainer=function(a,l,f,m,S,x,M,X,rt,vt,Mt,bt,Gt,ne){return a=es(f,m,!0,a,S,x,X,ne,rt,vt,Mt,bt),a.context=Zo(null),f=a.current,m=$e(),m=Nt(m),S=Bl(m),S.callback=l??null,qi(f,S,m),l=m,a.current.lanes=l,J(a,l),mn(a),a},ue.createPortal=function(a,l,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:m==null?null:""+m,children:a,containerInfo:l,implementation:f}},ue.createRoleSelector=function(a){return{$$typeof:qu,value:a}},ue.createTestNameSelector=function(a){return{$$typeof:Fr,value:a}},ue.createTextSelector=function(a){return{$$typeof:ds,value:a}},ue.defaultOnCaughtError=function(a){console.error(a)},ue.defaultOnRecoverableError=function(a){gc(a)},ue.defaultOnUncaughtError=function(a){gc(a)},ue.deferredUpdates=function(a){var l=Jt.T,f=gl();try{return me(32),Jt.T=null,a()}finally{me(f),Jt.T=l}},ue.discreteUpdates=function(a,l,f,m,S){var x=Jt.T,M=gl();try{return me(2),Jt.T=null,a(l,f,m,S)}finally{me(M),Jt.T=x,fe===0&&(vs=ra()+500)}},ue.findAllNodes=Oa,ue.findBoundingRects=function(a,l){if(!Gn)throw Error(c(363));l=Oa(a,l),a=[];for(var f=0;f<l.length;f++)a.push(tc(l[f]));for(l=a.length-1;0<l;l--){f=a[l];for(var m=f.x,S=m+f.width,x=f.y,M=x+f.height,X=l-1;0<=X;X--)if(l!==X){var rt=a[X],vt=rt.x,Mt=vt+rt.width,bt=rt.y,Gt=bt+rt.height;if(m>=vt&&x>=bt&&S<=Mt&&M<=Gt){a.splice(l,1);break}else if(m!==vt||f.width!==rt.width||Gt<x||bt>M){if(!(x!==bt||f.height!==rt.height||Mt<m||vt>S)){vt>m&&(rt.width+=vt-m,rt.x=m),Mt<S&&(rt.width=S-vt),a.splice(l,1);break}}else{bt>x&&(rt.height+=bt-x,rt.y=x),Gt<M&&(rt.height=M-bt),a.splice(l,1);break}}}return a},ue.findHostInstance=Or,ue.findHostInstanceWithNoPortals=function(a){return a=v(a),a=a!==null?b(a):null,a===null?null:Ou(a.stateNode)},ue.findHostInstanceWithWarning=function(a){return Or(a)},ue.flushPassiveEffects=Fl,ue.flushSyncFromReconciler=function(a){var l=fe;fe|=1;var f=Jt.T,m=gl();try{if(me(2),Jt.T=null,a)return a()}finally{me(m),Jt.T=f,fe=l,(fe&6)===0&&ll(0)}},ue.flushSyncWork=Yo,ue.focusWithin=function(a,l){if(!Gn)throw Error(c(363));for(a=ki(a),l=Eu(a,l),l=Array.from(l),a=0;a<l.length;){var f=l[a++],m=f.tag;if(!ls(f)){if((m===5||m===26||m===27)&&Ci(f.stateNode))return!0;for(f=f.child;f!==null;)l.push(f),f=f.sibling}}return!1},ue.getFindAllNodesFailureDescription=function(a,l){if(!Gn)throw Error(c(363));var f=0,m=[];a=[ki(a),0];for(var S=0;S<a.length;){var x=a[S++],M=x.tag,X=a[S++],rt=l[X];if((M!==5&&M!==26&&M!==27||!ls(x))&&(Wi(x,rt)&&(m.push(Cu(rt)),X++,X>f&&(f=X)),X<l.length))for(x=x.child;x!==null;)a.push(x,X),x=x.sibling}if(f<l.length){for(a=[];f<l.length;f++)a.push(Cu(l[f]));return`findAllNodes was able to match part of the selector:
  `+(m.join(" > ")+`

No matching component was found for:
  `)+a.join(" > ")}return null},ue.getPublicRootInstance=function(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 27:case 5:return Ou(a.child.stateNode);default:return a.child.stateNode}},ue.injectIntoDevTools=function(){var a={bundleType:0,version:Cf,rendererPackageName:Br,currentDispatcherRef:Jt,reconcilerVersion:"19.2.0"};if(Du!==null&&(a.rendererConfig=Du),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{Vs=l.inject(a),Ga=l}catch{}a=!!l.checkDCE}}return a},ue.isAlreadyRendering=function(){return(fe&6)!==0},ue.observeVisibleRects=function(a,l,f,m){if(!Gn)throw Error(c(363));a=Oa(a,l);var S=ec(a,f,m).disconnect;return{disconnect:function(){S()}}},ue.shouldError=function(){return null},ue.shouldSuspend=function(){return!1},ue.startHostTransition=function(a,l,f,m){if(a.tag!==5)throw Error(c(476));var S=lh(a).queue;ah(a,S,l,Ls,f===null?r:function(){var x=lh(a);return x.next===null&&(x=a.alternate.memoizedState),Sr(a,x.next.queue,{},$e()),f(m)})},ue.updateContainer=function(a,l,f,m){var S=l.current,x=$e();return xf(S,x,a,l,f,m),x},ue.updateContainerSync=function(a,l,f,m){return xf(l.current,2,a,l,f,m),2},ue},s.exports.default=s.exports,Object.defineProperty(s.exports,"__esModule",{value:!0})})(U2)),U2.exports}var Ov;function t7(){return Ov||(Ov=1,G2.exports=$9()),G2.exports}var e7=t7();const n7=S1(e7);var j2={exports:{}},$s={};var zv;function a7(){return zv||(zv=1,$s.ConcurrentRoot=1,$s.ContinuousEventPriority=8,$s.DefaultEventPriority=32,$s.DiscreteEventPriority=2,$s.IdleEventPriority=268435456,$s.LegacyRoot=0,$s.NoEventPriority=0),$s}var wv;function l7(){return wv||(wv=1,j2.exports=a7()),j2.exports}var N1=l7();const Hv={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Bv=!1,Gv=!1;const y1=".react-konva-event",i7=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,s7=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,u7={};function D1(s,e,i=u7){if(!Bv&&"zIndex"in e&&(console.warn(s7),Bv=!0),!Gv&&e.draggable){var r=e.x!==void 0||e.y!==void 0,c=e.onDragEnd||e.onDragMove;r&&!c&&(console.warn(i7),Gv=!0)}for(var d in i)if(!Hv[d]){var h=d.slice(0,2)==="on",v=i[d]!==e[d];if(h&&v){var y=d.substr(2).toLowerCase();y.substr(0,7)==="content"&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),s.off(y,i[d])}var b=!e.hasOwnProperty(d);b&&s.setAttr(d,void 0)}var _=e._useStrictMode,E={},T=!1;const N={};for(var d in e)if(!Hv[d]){var h=d.slice(0,2)==="on",A=i[d]!==e[d];if(h&&A){var y=d.substr(2).toLowerCase();y.substr(0,7)==="content"&&(y="content"+y.substr(7,1).toUpperCase()+y.substr(8)),e[d]&&(N[y]=e[d])}!h&&(e[d]!==i[d]||_&&e[d]!==s.getAttr(d))&&(T=!0,E[d]=e[d])}T&&(s.setAttrs(E),ur(s));for(var y in N)s.off(y+y1),s.on(y+y1,N[y])}function ur(s){if(!wt.autoDrawEnabled){var e=s.getLayer()||s.getStage();e&&e.batchDraw()}}var L2=sm();const oy={},r7={};Gc.Node.prototype._applyProps=D1;let cy=N1.DefaultEventPriority;function o7(s,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}s.add(e),ur(s)}function c7(s,e,i){let r=Gc[s];r||(console.error(`Konva has no node with the type ${s}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${s}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=Gc.Group);const c={},d={};for(var h in e)if(h!=="ref"){var v=h.slice(0,2)==="on";v?d[h]=e[h]:c[h]=e[h]}const y=new r(c);return D1(y,d),y}function f7(s,e,i){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${s}"`)}function d7(s,e,i){return!1}function h7(s){return s}function m7(){return null}function g7(){return null}function v7(s,e,i,r){return r7}function p7(){}function y7(s){}function S7(s,e){return!1}function b7(){return oy}function x7(){return oy}const _7=setTimeout,C7=clearTimeout,E7=!0,T7=s=>{s()},A7=-1;function M7(s,e){return!1}const R7=!1,N7=!1,D7=!0,O7=!1,z7=!1;function w7(s,e){e.parent===s?e.moveToTop():s.add(e),ur(s)}function H7(s,e){e.parent===s?e.moveToTop():s.add(e),ur(s)}function fy(s,e,i){e._remove(),s.add(e),e.setZIndex(i.getZIndex()),ur(s)}function B7(s,e,i){fy(s,e,i)}function G7(s,e){e.destroy(),e.off(y1),ur(s)}function U7(s,e){e.destroy(),e.off(y1),ur(s)}function j7(s,e,i){console.error(`Text components are not yet supported in ReactKonva. You text is: "${i}"`)}function L7(s,e,i){}function Y7(s,e,i,r){D1(s,r,i)}function q7(s){s.hide(),ur(s)}function X7(s){}function Q7(s,e){(e.visible==null||e.visible)&&s.show()}function V7(s,e){}function K7(s){}function Z7(){}function J7(){return null}function F7(){}function I7(){}function k7(){return N1.DefaultEventPriority}function W7(){}function P7(){return null}function $7(s){cy=s}function tS(){return cy}function eS(){return N1.DiscreteEventPriority}function nS(){return!1}function aS(){}function lS(){return null}function iS(){return-1.1}function sS(){}function uS(){return!1}function rS(){return!0}function oS(){}function cS(){}function fS(){return null}const dS=null,hS=Lt.createContext(null);function mS(){}const gS=Object.freeze(Object.defineProperty({__proto__:null,HostTransitionContext:hS,NotPendingTransition:dS,afterActiveInstanceBlur:I7,appendChild:w7,appendChildToContainer:H7,appendInitialChild:o7,beforeActiveInstanceBlur:F7,cancelTimeout:C7,clearContainer:K7,commitMount:L7,commitTextUpdate:j7,commitUpdate:Y7,createInstance:c7,createTextInstance:f7,detachDeletedInstance:Z7,finalizeInitialChildren:d7,getChildHostContext:x7,getCurrentEventPriority:k7,getCurrentUpdatePriority:tS,getInstanceFromNode:J7,getInstanceFromScope:P7,getPublicInstance:h7,getRootHostContext:b7,hideInstance:q7,hideTextInstance:X7,idlePriority:L2.unstable_IdlePriority,insertBefore:fy,insertInContainerBefore:B7,isPrimaryRenderer:R7,maySuspendCommit:uS,noTimeout:A7,now:L2.unstable_now,preloadInstance:rS,prepareForCommit:m7,preparePortalMount:g7,prepareScopeUpdate:W7,prepareUpdate:v7,removeChild:G7,removeChildFromContainer:U7,requestPostPaintCallback:sS,resetAfterCommit:p7,resetFormInstance:mS,resetTextContent:y7,resolveEventTimeStamp:iS,resolveEventType:lS,resolveUpdatePriority:eS,run:L2.unstable_runWithPriority,scheduleMicrotask:T7,scheduleTimeout:_7,setCurrentUpdatePriority:$7,shouldAttemptEagerTransition:nS,shouldDeprioritizeSubtree:S7,shouldSetTextContent:M7,startSuspendingCommit:oS,supportsHydration:z7,supportsMicrotasks:E7,supportsMutation:D7,supportsPersistence:O7,suspendInstance:cS,trackSchedulerEvent:aS,unhideInstance:Q7,unhideTextInstance:V7,waitForCommitToBeReady:fS,warnsIfNotActing:N7},Symbol.toStringTag,{value:"Module"}));function dy(s,e,i){if(!s)return;if(i(s)===!0)return s;let r=s.child;for(;r;){const c=dy(r,e,i);if(c)return c;r=r.sibling}}function hy(s){try{return Object.defineProperties(s,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return s}}const Nm=hy(G.createContext(null));class my extends G.Component{render(){return G.createElement(Nm.Provider,{value:this._reactInternals},this.props.children)}}function vS(){const s=G.useContext(Nm);if(s===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=G.useId();return G.useMemo(()=>{for(const i of[s,s?.alternate]){if(!i)continue;const r=dy(i,!1,c=>{let d=c.memoizedState;for(;d;){if(d.memoizedState===e)return!0;d=d.next}});if(r)return r}},[s,e])}const pS=Symbol.for("react.context"),yS=s=>s!==null&&typeof s=="object"&&"$$typeof"in s&&s.$$typeof===pS;function SS(){const s=vS(),[e]=G.useState(()=>new Map);e.clear();let i=s;for(;i;){const r=i.type;yS(r)&&r!==Nm&&!e.has(r)&&e.set(r,G.use(hy(r))),i=i.return}return e}function bS(){const s=SS();return G.useMemo(()=>Array.from(s.keys()).reduce((e,i)=>r=>G.createElement(e,null,G.createElement(i.Provider,{...r,value:s.get(i)})),e=>G.createElement(my,{...e})),[s])}if(Lt.version.indexOf("19")===-1)throw new Error("react-konva version 19 is only compatible with React 19. Make sure to have the last version of react-konva and react or downgrade react-konva to version 18.");function xS(s){const e=Lt.useRef({});return Lt.useLayoutEffect(()=>{e.current=s}),Lt.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const _S=()=>{const s=Lt.useRef(0);return Lt.useMemo(()=>{s.current++},[]),s.current>1},CS=s=>{const e=Lt.useRef(null),i=Lt.useRef(null),r=Lt.useRef(null),c=xS(s),d=bS(),h=Lt.useRef(null),v=_=>{const{forwardedRef:E}=s;E&&(typeof E=="function"?E(_):E.current=_)},y=_S(),b=()=>{v(null),W0.updateContainer(null,r.current,null),i.current?.destroy(),i.current=null};return Lt.useLayoutEffect(()=>(h.current&&(clearTimeout(h.current),h.current=null),i.current?v(i.current):(i.current=new Gc.Stage({width:s.width,height:s.height,container:e.current}),v(i.current),r.current=W0.createContainer(i.current,N1.ConcurrentRoot,null,!1,null,"",console.error,console.error,console.error,null),W0.updateContainer(Lt.createElement(d,{},s.children),r.current,null,()=>{})),()=>{y?h.current=setTimeout(b,0):b()}),[]),Lt.useLayoutEffect(()=>{v(i.current),D1(i.current,s,c),W0.updateContainer(Lt.createElement(d,{},s.children),r.current,null)}),Lt.createElement("div",{ref:e,id:s.id,accessKey:s.accessKey,className:s.className,role:s.role,style:s.style,tabIndex:s.tabIndex,title:s.title})},ES="Layer",Nc="Group",Uv="Rect",l1="Circle",TS="Image",i1="Path",AS="Transformer",W0=n7(gS),MS=Lt.forwardRef((s,e)=>Lt.createElement(my,{},Lt.createElement(CS,{...s,forwardedRef:e})));var Y2,jv;function RS(){if(jv)return Y2;jv=1;var s=Jd();return Y2=function(i,r,c){const d=s.useRef("loading"),h=s.useRef(),[v,y]=s.useState(0),b=s.useRef(),_=s.useRef(),E=s.useRef();return(b.current!==i||_.current!==r||E.current!==c)&&(d.current="loading",h.current=void 0,b.current=i,_.current=r,E.current=c),s.useLayoutEffect(function(){if(!i)return;var T=document.createElement("img");function N(){T.decode().catch(()=>{}).finally(()=>{d.current="loaded",h.current=T,y(Math.random())})}function A(){d.current="failed",h.current=void 0,y(Math.random())}return T.addEventListener("load",N),T.addEventListener("error",A),r&&(T.crossOrigin=r),c&&(T.referrerPolicy=c),T.src=i,function(){T.removeEventListener("load",N),T.removeEventListener("error",A)}},[i,r,c]),[h.current,d.current]},Y2}var NS=RS();const DS=S1(NS),P0=({isActive:s=!1,variant:e="default",className:i="",style:r,children:c,...d})=>{const h="text-xs px-2 py-1 rounded border transition-colors font-medium",v=e==="danger"?"bg-neutral-800 text-white border-neutral-700 hover:bg-red-900/50 hover:border-red-800":"bg-neutral-800 text-white border-neutral-700 hover:bg-neutral-700",y=s?"bg-primary border-primary text-white hover:border-primary":"";return Y.jsx("button",{className:`
        ${h} 
        ${s?y:v} 
        ${i}
      `,style:r,...d,children:c})},OS=({isOpen:s,title:e,message:i,onConfirm:r,onCancel:c,confirmText:d="Confirm",cancelText:h="Cancel",variant:v="default"})=>s?Oc.createPortal(Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:Y.jsxs("div",{className:"w-full max-w-sm rounded-lg border border-neutral-700 bg-neutral-900 p-6 shadow-xl",children:[Y.jsx("h3",{className:"mb-2 text-lg font-semibold text-white",children:e}),Y.jsx("p",{className:"mb-6 text-sm text-neutral-400",children:i}),Y.jsxs("div",{className:"flex justify-end gap-3",children:[Y.jsx("button",{onClick:c,className:"rounded px-4 py-2 text-sm font-medium text-neutral-300 hover:bg-neutral-800 transition-colors cursor-pointer",children:h}),Y.jsx("button",{onClick:r,className:`rounded px-4 py-2 text-sm font-medium text-white transition-colors cursor-pointer ${v==="danger"?"bg-danger hover:bg-danger/90":"bg-primary hover:bg-primary/90"}`,children:d})]})]})}),document.body):null,gy="M4 7h16M6 7l1 14h10l1-14M9 7V4h6v3",zS="M7 7l-3 3 3 3M17 7l3 3-3 3M4 10h16",wS=({image:s,isSelected:e,showControls:i,isPanModifierActive:r,stageScale:c,onDragStart:d,onDragMove:h,onDragEnd:v,onSelect:y,onChange:b,onCommit:_,onDelete:E})=>{const[T]=DS(s.localUrl),N=G.useRef(null),A=G.useRef(null),B=G.useRef(null);G.useEffect(()=>{B.current&&(s.grayscale?B.current.cache():B.current.clearCache())},[s.grayscale,T,s.width,s.height]),G.useEffect(()=>{T&&(s.width!==T.width||s.height!==T.height)&&b({width:T.width,height:T.height})},[T,s.width,s.height,b]),G.useEffect(()=>{if(typeof s.scaleX!="number"&&typeof s.scaleY!="number")return;const z=typeof s.scaleX=="number"?s.scaleX:void 0,F=typeof s.scaleY=="number"?s.scaleY:void 0;if(!(typeof z=="number"&&Math.abs(z)!==1||typeof F=="number"&&Math.abs(F)!==1))return;const Z=typeof z=="number"?Math.abs(z):typeof F=="number"?Math.abs(F):1,it=typeof z=="number"&&z<0?-1:1;b({scale:Z,scaleX:it,scaleY:1})},[s.scaleX,s.scaleY,b]),G.useEffect(()=>{e&&A.current&&N.current&&(A.current.nodes([N.current]),A.current.getLayer()?.batchDraw())},[e]);const w=()=>{const z=(s.scaleX??1)<0?-1:1;_({scaleX:z*-1})},U=s.scale||1,H=(s.scaleX??1)<0,L=1/(U*c);return Y.jsxs(Lt.Fragment,{children:[Y.jsx(Nc,{ref:N,name:`image-${s.canvasId}`,x:s.x,y:s.y,rotation:s.rotation,scaleX:U,scaleY:U,draggable:!r,onMouseDown:z=>{r||(y(z),St.bringToFront(s.canvasId))},onDragStart:z=>{r||(y(z),St.bringToFront(s.canvasId),d({x:z.target.x(),y:z.target.y()}))},onDragMove:z=>{h({x:z.target.x(),y:z.target.y()})},onDragEnd:z=>{v({x:z.target.x(),y:z.target.y()})},onTransformEnd:()=>{const z=N.current;z&&_({x:z.x(),y:z.y(),scale:z.scaleX(),rotation:z.rotation()})},children:Y.jsx(TS,{ref:B,filters:s.grayscale?[ry.Filters.Grayscale]:[],image:T,width:s.width,height:s.height,scaleX:H?-1:1,offsetX:H&&s.width||0})}),i&&Y.jsx(AS,{ref:A,enabledAnchors:["bottom-right"],rotateEnabled:!0,padding:0,keepRatio:!0,anchorSize:10,borderStroke:Oe.primary,anchorStroke:Oe.primary,anchorFill:"white",boundBoxFunc:(z,F)=>F.width<5||F.height<5?z:F}),i&&Y.jsxs(Nc,{x:s.x,y:s.y,rotation:s.rotation,scaleX:U,scaleY:U,zIndex:999,onMouseDown:z=>{z.cancelBubble=!0},children:[Y.jsxs(Nc,{x:0,y:0,scaleX:L,scaleY:L,onClick:z=>{z.cancelBubble=!0,w()},onMouseEnter:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="pointer")},onMouseLeave:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="default")},children:[Y.jsx(l1,{radius:12,fill:Oe.primary,shadowColor:"black",shadowBlur:5,shadowOpacity:.3}),Y.jsx(i1,{data:zS,stroke:"white",strokeWidth:2,lineCap:"round",lineJoin:"round",scale:{x:.8,y:.8},x:-10,y:-8})]}),Y.jsxs(Nc,{x:32*L,y:0,scaleX:L,scaleY:L,visible:!1,onClick:z=>{z.cancelBubble=!0,_({grayscale:!s.grayscale})},onMouseEnter:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="pointer")},onMouseLeave:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="default")},children:[Y.jsx(l1,{radius:12,fill:s.grayscale?Oe.primary:"white",stroke:Oe.primary,strokeWidth:2,shadowColor:"black",shadowBlur:5,shadowOpacity:.3}),Y.jsx(i1,{data:"M12 21a9 9 0 0 1 0-18v18z",fill:s.grayscale?"white":Oe.primary,stroke:s.grayscale?"white":Oe.primary,strokeWidth:1,lineCap:"round",lineJoin:"round",scale:{x:.8,y:.8},x:-9.6,y:-9.6})]}),Y.jsxs(Nc,{x:s.width||100,y:0,scaleX:L,scaleY:L,onClick:z=>{z.cancelBubble=!0,E()},onMouseEnter:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="pointer")},onMouseLeave:z=>{const F=z.target.getStage()?.container();F&&(F.style.cursor="default")},children:[Y.jsx(l1,{radius:12,fill:Oe.danger,shadowColor:"black",shadowBlur:5,shadowOpacity:.3}),Y.jsx(i1,{data:gy,stroke:"white",strokeWidth:2,lineCap:"round",lineJoin:"round",scale:{x:.65,y:.65},x:-8,y:-9})]})]})]})},HS=()=>{const s=Uc(st),[e,i]=G.useState(!1),[r,c]=G.useState(new Set),[d,h]=G.useState(null),v=G.useRef(new Set),y=G.useRef(null),b=G.useRef(null),[_,E]=G.useState({width:0,height:0}),[T,N]=G.useState(!1),[A,B]=G.useState(1),[w,U]=G.useState(null),H=G.useRef(!1),L=G.useRef(null),z=G.useRef(!1),F=G.useRef({active:!1,draggedId:null,anchor:null,snapshots:new Map}),[J,Z]=G.useState({start:null,current:null});G.useEffect(()=>{v.current=r},[r]);const it=D=>{if(D.size<=1)return null;const Q=y.current;if(!Q)return null;let I=Number.POSITIVE_INFINITY,at=Number.POSITIVE_INFINITY,ht=Number.NEGATIVE_INFINITY,O=Number.NEGATIVE_INFINITY;return D.forEach(K=>{const ct=Q.findOne(`.image-${K}`);if(!ct)return;const yt=ct.getClientRect({relativeTo:Q});I=Math.min(I,yt.x),at=Math.min(at,yt.y),ht=Math.max(ht,yt.x+yt.width),O=Math.max(O,yt.y+yt.height)}),!Number.isFinite(I)||!Number.isFinite(at)||!Number.isFinite(ht)||!Number.isFinite(O)?null:{x:I,y:at,width:ht-I,height:O-at}};G.useEffect(()=>{},[]),G.useEffect(()=>{const D=()=>{b.current&&E({width:b.current.offsetWidth,height:b.current.offsetHeight})};return window.addEventListener("resize",D),D(),()=>window.removeEventListener("resize",D)},[]),G.useEffect(()=>{b.current&&E({width:b.current.offsetWidth,height:b.current.offsetHeight})},[s.pinMode,s.sidebarWidth]),G.useEffect(()=>{const D=Q=>{const I=Q,{image:at,x:ht,y:O}=I.detail,K=y.current;if(!K)return;const ct=K.container().getBoundingClientRect(),yt={x:ht-ct.left,y:O-ct.top},Ht=K.getAbsoluteTransform().copy();Ht.invert();const At=Ht.point(yt);St.addToCanvasWithHistory(at,At.x,At.y)};return window.addEventListener("canvas-drop-request",D),()=>window.removeEventListener("canvas-drop-request",D)},[]);const gt=D=>new Promise((Q,I)=>{const at=new FileReader;at.onload=()=>Q(String(at.result||"")),at.onerror=()=>I(at.error),at.readAsDataURL(D)}),_t=async D=>{const Q=await gt(D);if(!Q)return null;const I=await fetch("http://localhost:30001/api/upload-temp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:Q,filename:D.name})});if(!I.ok)return null;const at=await I.json();return!at?.success||typeof at?.url!="string"||typeof at?.path!="string"?null:{url:at.url,path:at.path}},Nt=async D=>{D.preventDefault();const Q=y.current;if(!Q)return;Q.setPointersPositions(D);const I=Q.getPointerPosition();try{const at=Q.getAbsoluteTransform().copy();at.invert();const ht=at.point(I||{x:0,y:0}),O=D.dataTransfer.getData("application/json");if(O)try{const At=JSON.parse(O);if(At&&At.id&&typeof At.localUrl=="string"){St.addToCanvasWithHistory(At,ht.x,ht.y);return}}catch{}const K=Array.from(D.dataTransfer.files||[]);if(!K.length)return;const ct=K.filter(At=>At.type.startsWith("image/"));if(!ct.length)return;const yt=St.createDropBatchId();(await Promise.all(ct.map(async(At,kt)=>{try{const Zt=await _t(At);return Zt?{meta:St.createDroppedImageMeta({path:Zt.path,name:At.name},Zt.url,yt,kt),index:kt}:null}catch{return null}}))).filter(At=>!!At).forEach(({meta:At,index:kt})=>{const Zt=kt*24;St.addToCanvasWithHistory(At,ht.x+Zt,ht.y+Zt)})}catch(at){console.error("Drop error",at)}},Tt=D=>{D.evt.preventDefault();const Q=y.current;if(!Q)return;const I=1.1,at=Q.scaleX(),ht=Q.getPointerPosition();if(!ht)return;const O={x:(ht.x-Q.x())/at,y:(ht.y-Q.y())/at},K=D.evt.deltaY>0?at/I:at*I;Q.scale({x:K,y:K}),B(K);const ct={x:ht.x-O.x*K,y:ht.y-O.y*K};Q.position(ct)};G.useEffect(()=>{const D=at=>{const ht=at.target;if(!(ht.tagName==="INPUT"||ht.tagName==="TEXTAREA"||ht.isContentEditable)&&at.code==="Space"){at.preventDefault(),N(!0);const O=y.current;O&&(O.container().style.cursor="grab")}},Q=at=>{if(at.code==="Space"){N(!1),H.current=!1,L.current=null;const ht=y.current;ht&&(ht.container().style.cursor="default")}},I=()=>{N(!1),H.current=!1,L.current=null;const at=y.current;at&&(at.container().style.cursor="default")};return window.addEventListener("keydown",D),window.addEventListener("keyup",Q),window.addEventListener("blur",I),()=>{window.removeEventListener("keydown",D),window.removeEventListener("keyup",Q),window.removeEventListener("blur",I)}},[]);const Ut=D=>{const Q=D.target.getStage();if(!Q)return;const at=D.evt.button===2;if(T||at){if(D.evt.preventDefault(),Q.container().style.cursor="grabbing",H.current=!0,"touches"in D.evt){const O=D.evt.touches[0];O&&(L.current={x:O.clientX,y:O.clientY})}else L.current={x:D.evt.clientX,y:D.evt.clientY};return}if(("button"in D.evt?D.evt.button===0:!0)&&(D.target===Q||D.target.getParent()===Q)){const K=Q.getRelativePointerPosition();K&&(z.current=!!(D.evt.shiftKey||D.evt.metaKey||D.evt.ctrlKey),Z({start:K,current:K}),z.current||(c(new Set),h(null),U(null)))}},zt=D=>{if(H.current){const Q=y.current,I=L.current;if(!Q||!I)return;let at=null;if("touches"in D.evt){const K=D.evt.touches[0];K&&(at={x:K.clientX,y:K.clientY})}else at={x:D.evt.clientX,y:D.evt.clientY};if(!at)return;const ht=at.x-I.x,O=at.y-I.y;Q.position({x:Q.x()+ht,y:Q.y()+O}),L.current=at;return}if(J.start){const I=y.current?.getRelativePointerPosition();I&&Z(at=>({...at,current:I}))}},Ct=()=>{const D=y.current;if(D&&(D.container().style.cursor="default"),H.current=!1,L.current=null,!D){Z({start:null,current:null});return}if(J.start&&J.current){const Q=Math.min(J.start.x,J.current.x),I=Math.max(J.start.x,J.current.x),at=Math.min(J.start.y,J.current.y),ht=Math.max(J.start.y,J.current.y);if(Math.abs(I-Q)>2||Math.abs(ht-at)>2){const O=z.current?new Set(r):new Set;let K=null;s.canvasImages.forEach(ct=>{const yt=D.findOne(`.image-${ct.canvasId}`);if(yt){const Ht=yt.getClientRect({relativeTo:D});Ht.x<I&&Ht.x+Ht.width>Q&&Ht.y<ht&&Ht.y+Ht.height>at&&(O.add(ct.canvasId),K=ct.canvasId)}}),c(O),K&&h(K),U(it(O))}}Z({start:null,current:null})};return G.useEffect(()=>{const D=Q=>{const I=Q.target;if(!(I.tagName==="INPUT"||I.tagName==="TEXTAREA"||I.isContentEditable)){if((Q.metaKey||Q.ctrlKey)&&!Q.shiftKey&&Q.key.toLowerCase()==="z"){Q.preventDefault(),St.undoCanvas(),c(new Set),h(null),U(null);return}if((Q.metaKey||Q.ctrlKey)&&Q.shiftKey&&Q.key.toLowerCase()==="z"){Q.preventDefault(),St.redoCanvas(),c(new Set),h(null),U(null);return}(Q.key==="Delete"||Q.key==="Backspace")&&r.size>0&&(St.removeManyFromCanvasWithHistory(Array.from(r)),c(new Set),h(null),U(null))}};return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[r]),Y.jsxs("div",{ref:b,className:"flex-1 h-full bg-neutral-950 overflow-hidden relative transition-colors",onDrop:Nt,onDragOver:D=>D.preventDefault(),onContextMenu:D=>D.preventDefault(),onClick:()=>St.setActiveArea("canvas"),onMouseDown:()=>St.setActiveArea("canvas"),tabIndex:0,children:[Y.jsxs("div",{className:"absolute top-4 left-4 z-10 flex items-center gap-2",children:[Y.jsxs("div",{className:"inline-flex items-center gap-2 rounded bg-neutral-950/80 border border-neutral-800 px-2 py-1 text-[11px]",children:[Y.jsx("span",{className:"text-neutral-400",children:"Board"}),Y.jsxs("select",{className:"bg-transparent text-xs text-white outline-none border-none px-1 py-0.5 rounded min-w-[80px]",value:s.activeCanvasBoardId||"",onChange:D=>{const Q=D.target.value;Q?St.selectCanvasBoard(Q):St.selectCanvasBoard(null)},children:[Y.jsx("option",{value:"",children:"Current"}),s.canvasBoards.map(D=>Y.jsx("option",{value:D.id,children:D.name},D.id))]}),Y.jsx(P0,{onClick:()=>{St.saveActiveCanvasBoard()},children:"Save"})]}),Y.jsx(P0,{isActive:s.canvasGrayscale,onClick:()=>St.toggleCanvasGrayscale(),title:"Toggle Grayscale Mode",children:"Grayscale"}),Y.jsx(P0,{onClick:()=>{St.autoLayoutCanvas();const D=y.current;if(!D)return;const Q=st.canvasImages;if(Q.length===0)return;let I=1/0,at=1/0,ht=-1/0,O=-1/0;Q.forEach(he=>{const $=(he.width||0)*(he.scale||1)*Math.abs(he.scaleX||1),pt=(he.height||0)*(he.scale||1)*Math.abs(he.scaleY||1);I=Math.min(I,he.x),at=Math.min(at,he.y),ht=Math.max(ht,he.x+$),O=Math.max(O,he.y+pt)});const K=50,ct=ht-I,yt=O-at;if(!isFinite(ct)||!isFinite(yt))return;const Ht=D.width(),At=D.height(),kt=(Ht-K*2)/ct,Zt=(At-K*2)/yt,Yt=Math.min(kt,Zt),te=(Ht-ct*Yt)/2-I*Yt,_n=(At-yt*Yt)/2-at*Yt;D.to({x:te,y:_n,scaleX:Yt,scaleY:Yt,duration:.3,easing:ry.Easings.EaseInOut}),B(Yt)},children:"Auto Layout"}),Y.jsx(P0,{variant:"danger",onClick:()=>i(!0),children:"Clear"})]}),Y.jsx(MS,{width:_.width,height:_.height,style:{filter:s.canvasGrayscale?"grayscale(100%)":"none"},onMouseDown:Ut,onMouseMove:zt,onMouseUp:Ct,onTouchStart:Ut,onTouchMove:zt,onTouchEnd:Ct,onWheel:Tt,draggable:!1,ref:y,children:Y.jsxs(ES,{children:[s.canvasImages.map(D=>Y.jsx(wS,{image:D,isSelected:r.has(D.canvasId),showControls:r.size===1&&r.has(D.canvasId),isPanModifierActive:T,stageScale:A,onDragStart:Q=>{const I=v.current;if(!I.has(D.canvasId)){F.current={active:!1,draggedId:null,anchor:null,snapshots:new Map};return}if(St.commitCanvasChange(),I.size<=1){F.current={active:!1,draggedId:null,anchor:null,snapshots:new Map};return}const at=new Map;I.forEach(ht=>{const O=s.canvasImages.find(K=>K.canvasId===ht);O&&at.set(ht,{x:O.x,y:O.y})}),F.current={active:!0,draggedId:D.canvasId,anchor:Q,snapshots:at}},onDragMove:Q=>{const I=F.current;if(I.active&&I.anchor){const at=Q.x-I.anchor.x,ht=Q.y-I.anchor.y;I.snapshots.forEach((O,K)=>{St.updateCanvasImageTransient(K,{x:O.x+at,y:O.y+ht})}),U(it(v.current));return}St.updateCanvasImageTransient(D.canvasId,{x:Q.x,y:Q.y}),U(it(v.current))},onDragEnd:Q=>{const I=F.current;if(I.active&&I.anchor){const at=Q.x-I.anchor.x,ht=Q.y-I.anchor.y;I.snapshots.forEach((O,K)=>{St.updateCanvasImage(K,{x:O.x+at,y:O.y+ht})})}else St.updateCanvasImage(D.canvasId,{x:Q.x,y:Q.y});F.current={active:!1,draggedId:null,anchor:null,snapshots:new Map},U(it(v.current))},onSelect:Q=>{if(!J.start)if(!Q.evt.shiftKey&&!Q.evt.metaKey&&!Q.evt.ctrlKey)if(St.bringToFront(D.canvasId),r.has(D.canvasId))h(D.canvasId);else{const I=new Set([D.canvasId]);c(I),h(D.canvasId),U(null)}else{const I=new Set(r);if(I.has(D.canvasId)){if(I.delete(D.canvasId),d===D.canvasId){const at=Array.from(I)[0]||null;h(at)}}else I.add(D.canvasId),h(D.canvasId);c(I),U(it(I))}},onChange:Q=>{St.updateCanvasImage(D.canvasId,Q)},onCommit:Q=>{St.updateCanvasImageWithHistory(D.canvasId,Q),U(it(v.current))},onDelete:()=>{St.removeFromCanvasWithHistory(D.canvasId);const Q=new Set(r);Q.delete(D.canvasId),c(Q),d===D.canvasId&&h(Array.from(Q)[0]||null),U(it(Q))}},D.canvasId)),J.start===null&&w&&Y.jsxs(Lt.Fragment,{children:[Y.jsx(Uv,{x:w.x,y:w.y,width:w.width,height:w.height,stroke:Oe.primary,strokeWidth:1/A,dash:[6/A,4/A],listening:!1}),Y.jsxs(Nc,{x:w.x+w.width,y:w.y,scaleX:1/A,scaleY:1/A,onClick:D=>{D.cancelBubble=!0,St.removeManyFromCanvasWithHistory(Array.from(v.current)),c(new Set),h(null),U(null)},onMouseEnter:D=>{const Q=D.target.getStage()?.container();Q&&(Q.style.cursor="pointer")},onMouseLeave:D=>{const Q=D.target.getStage()?.container();Q&&(Q.style.cursor="default")},children:[Y.jsx(l1,{radius:12,fill:"#ef4444",stroke:"white",strokeWidth:2,shadowColor:"black",shadowBlur:5,shadowOpacity:.3}),Y.jsx(i1,{data:gy,stroke:"white",strokeWidth:2,lineCap:"round",lineJoin:"round",scale:{x:.8,y:.8},x:-10,y:-10})]})]}),J.start&&J.current&&Y.jsx(Uv,{x:Math.min(J.start.x,J.current.x),y:Math.min(J.start.y,J.current.y),width:Math.abs(J.current.x-J.start.x),height:Math.abs(J.current.y-J.start.y),fill:Oe.canvas.selectionFill,stroke:Oe.primary,strokeWidth:1,listening:!1})]})}),Y.jsx(OS,{isOpen:e,title:"Clear Canvas",message:"Are you sure you want to clear the canvas? This action cannot be undone.",confirmText:"Clear",variant:"danger",onConfirm:()=>{St.clearCanvas(),i(!1)},onCancel:()=>i(!1)})]})},Dc=gm({isOpen:!1,progress:0,status:"Preparing...",percentText:"0%"}),BS={update:s=>{Object.assign(Dc,s)},reset:()=>{Dc.isOpen=!1,Dc.progress=0,Dc.status="Preparing...",Dc.percentText="0%"}},GS=()=>{const s=Uc(Dc);return s.isOpen?Y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:Y.jsxs("div",{className:"w-[480px] bg-[#0b0d10] border border-white/10 rounded-xl p-6 shadow-2xl",children:[Y.jsx("h1",{className:"font-semibold text-4xl mb-4 text-primary",children:"Oh, Captain!"}),Y.jsx("h2",{className:"text-white font-semibold text-lg mb-2",children:"I'm preparing assets..."}),Y.jsx("div",{className:"text-white/60 text-sm mb-4",children:"First run will download the model once and reuse it later (about 10 mins)."}),Y.jsx("div",{className:"relative h-2.5 w-full bg-white/10 rounded-full overflow-hidden mb-3",children:Y.jsx("div",{className:"absolute top-0 left-0 h-full bg-[#39C5BB] transition-all duration-200 ease-linear rounded-full",style:{width:`${s.progress*100}%`}})}),Y.jsxs("div",{className:"flex justify-between items-center text-xs",children:[Y.jsx("div",{className:"text-white/70 font-mono truncate max-w-[380px]",children:s.status}),Y.jsx("div",{className:"text-[#39C5BB] font-medium tabular-nums",children:s.percentText})]})]})}):null},im=s=>typeof s=="object"&&s!==null,US=s=>!(!im(s)||typeof s.id!="string"||typeof s.image!="string"||typeof s.name!="string"||typeof s.localPath!="string"||typeof s.localUrl!="string"||!Array.isArray(s.tags)||!s.tags.every(e=>typeof e=="string")||typeof s.createdAt!="number"||s.dominantColor!==void 0&&s.dominantColor!==null&&typeof s.dominantColor!="string");function jS(){const s=Uc(st),e=G.useRef(!1);return G.useEffect(()=>{const i=window.electron?.onNewCollection(d=>{console.log("New collection received:",d),US(d)&&St.addImage(d)}),r=window.electron?.onImageUpdated(d=>{console.log("Image update received:",d),im(d)&&typeof d.id=="string"&&St.updateImage(d.id,d)}),c=window.electron?.onModelDownloadProgress(d=>{im(d)&&BS.update(d)});return St.initCanvas(),(async()=>{try{const d=await fetch("http://localhost:30001/api/images");if(!d.ok){const v=await d.json().catch(()=>null);if(v&&v.code==="STORAGE_INCOMPATIBLE"){St.pushToast("Storage is incompatible. Please reset the data folder.","error");return}throw new Error(`Failed to fetch images: ${d.status}`)}const h=await d.json();Array.isArray(h)&&(St.setImages(h),St.setAllImages(h))}catch(d){console.error("Failed to fetch images:",d)}})(),()=>{i?.(),r?.(),c?.()}},[]),G.useEffect(()=>{const i=c=>{if(!e.current)return;const d=Math.max(200,Math.min(c.clientX,document.body.clientWidth-200));St.setSidebarWidth(d)},r=()=>{e.current&&St.persistSidebarWidth(),e.current=!1,document.body.style.cursor="default",document.body.style.userSelect=""};return document.addEventListener("mousemove",i),document.addEventListener("mouseup",r),()=>{document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r)}},[]),G.useEffect(()=>{const i=async r=>{let c=Array.from(r.clipboardData?.files||[]);c.length===0&&r.clipboardData?.items&&(c=Array.from(r.clipboardData.items).filter(h=>h.type.startsWith("image/")).map(h=>h.getAsFile()).filter(h=>h!==null)),c.length>0&&(r.preventDefault(),await Np(c))};return window.addEventListener("paste",i),()=>window.removeEventListener("paste",i)},[]),Y.jsxs("div",{className:(s.pinMode,"flex flex-col h-screen bg-neutral-950 text-white overflow-hidden"),children:[Y.jsx(n4,{}),Y.jsx(GS,{}),s.toasts.length>0&&Y.jsx("div",{className:"fixed right-4 top-10 z-[9999] flex flex-col gap-2 no-drag",children:s.toasts.map(i=>{const r=i.type==="success"?"border-emerald-700/60 bg-emerald-950/80 text-emerald-100":i.type==="error"?"border-red-700/60 bg-red-950/80 text-red-100":"border-neutral-700/70 bg-neutral-900/90 text-neutral-100";return Y.jsx("button",{type:"button",className:`max-w-[320px] rounded border px-3 py-2 text-left text-xs shadow-lg backdrop-blur transition-colors hover:bg-neutral-800/90 ${r}`,onClick:()=>St.removeToast(i.id),children:i.message},i.id)})}),Y.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[!s.pinMode&&Y.jsxs(Y.Fragment,{children:[Y.jsx(D6,{}),Y.jsx("div",{className:"w-1 bg-neutral-800 hover:bg-[var(--resize-hover)] cursor-col-resize transition-colors z-10",style:{"--resize-hover":Oe.primary},onMouseDown:i=>{i.preventDefault(),e.current=!0,document.body.style.cursor="col-resize",document.body.style.userSelect="none"}})]}),Y.jsx(HS,{})]})]})}a3.createRoot(document.getElementById("root")).render(Y.jsx(G.StrictMode,{children:Y.jsx(jS,{})}));
